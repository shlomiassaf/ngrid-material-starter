(self.webpackChunkngrid_starters=self.webpackChunkngrid_starters||[]).push([[179],{151:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=151,t.exports=e},26:(t,e,i)=>{"use strict";function n(t){return"function"==typeof t}let s=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function o(t){setTimeout(()=>{throw t},0)}const l={closed:!0,next(t){},error(t){if(r.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},a=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:i,_ctorUnsubscribe:s,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof t)i.remove(this);else if(null!==i)for(let t=0;t<i.length;++t)i[t].remove(this);if(n(r)){s&&(this._unsubscribe=void 0);try{r.call(this)}catch(l){e=l instanceof h?d(l.errors):[l]}}if(a(o)){let t=-1,i=o.length;for(;++t<i;){const i=o[t];if(c(i))try{i.unsubscribe()}catch(l){e=e||[],l instanceof h?e=e.concat(d(l.errors)):e.push(l)}}}if(e)throw new h(e)}add(e){let i=e;if(!e)return t.EMPTY;switch(typeof e){case"function":i=new t(e);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof t)){const e=i;i=new t,i._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof t){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends u{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=l;break;case 1:if(!t){this.destination=l;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,i)}}[p](){return this}static create(t,e,i){const n=new f(t,e,i);return n.syncErrorThrowable=!1,n}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,i,s){let r;super(),this._parentSubscriber=t;let o=this;n(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==l&&(o=Object.create(e),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=r;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(t,e,i){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(n){return r.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function _(t){return t}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(t,e,i){const{operator:n}=this,s=function(t,e,i){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||i?new f(t,e,i):new f(l)}(t,e,i);if(s.add(n?n.call(s,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),r.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(t){try{return this._subscribe(t)}catch(e){r.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:i,isStopped:n}=t;if(e||n)return!1;t=i&&i instanceof f?i:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=y(e))((e,i)=>{let n;n=this.subscribe(e=>{try{t(e)}catch(s){i(s),n&&n.unsubscribe()}},i,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?_:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=y(t))((t,e)=>{let i;this.subscribe(t=>i=t,t=>e(t),()=>t(i))})}}return t.create=e=>new t(e),t})();function y(t){if(t||(t=r.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const v=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class b extends u{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new v;if(!this.isStopped){const{observers:e}=this,i=e.length,n=e.slice();for(let s=0;s<i;s++)n[s].next(t)}}error(t){if(this.closed)throw new v;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,i=e.length,n=e.slice();for(let s=0;s<i;s++)n[s].error(t);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:t}=this,e=t.length,i=t.slice();for(let n=0;n<e;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new v;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new v;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new b(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):u.EMPTY}}function R(t){return t&&"function"==typeof t.schedule}function D(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new k(t,e))}}class k{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new E(t,this.project,this.thisArg))}}class E extends f{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const T=t=>e=>{for(let i=0,n=t.length;i<n&&!e.closed;i++)e.next(t[i]);e.complete()};function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=I(),O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const F=t=>{if(t&&"function"==typeof t[m])return i=t,t=>{const e=i[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return T(t);if(P(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e))(t);if(t&&"function"==typeof t[A])return e=t,t=>{const i=e[A]();for(;;){let e;try{e=i.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,i};function N(t,e){return new w(i=>{const n=new u;let s=0;return n.add(e.schedule(function(){s!==t.length?(i.next(t[s++]),i.closed||n.add(this.schedule())):i.complete()})),n})}function M(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new w(i=>{const n=new u;return n.add(e.schedule(()=>{const s=t[m]();n.add(s.subscribe({next(t){n.add(e.schedule(()=>i.next(t)))},error(t){n.add(e.schedule(()=>i.error(t)))},complete(){n.add(e.schedule(()=>i.complete()))}}))})),n})}(t,e);if(P(t))return function(t,e){return new w(i=>{const n=new u;return n.add(e.schedule(()=>t.then(t=>{n.add(e.schedule(()=>{i.next(t),n.add(e.schedule(()=>i.complete()))}))},t=>{n.add(e.schedule(()=>i.error(t)))}))),n})}(t,e);if(O(t))return N(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(i=>{const n=new u;let s;return n.add(()=>{s&&"function"==typeof s.return&&s.return()}),n.add(e.schedule(()=>{s=t[A](),n.add(e.schedule(function(){if(i.closed)return;let t,e;try{const i=s.next();t=i.value,e=i.done}catch(n){return void i.error(n)}e?i.complete():(i.next(t),this.schedule())}))})),n})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(F(t))}class L extends f{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class V extends f{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function H(t,e){if(!e.closed)return t instanceof w?t.subscribe(e):F(t)(e)}function B(t,e,i=Number.POSITIVE_INFINITY){return"function"==typeof e?n=>n.pipe(B((i,n)=>M(t(i,n)).pipe(D((t,s)=>e(i,t,n,s))),i)):("number"==typeof e&&(i=e),e=>e.lift(new z(t,i)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new j(t,this.project,this.concurrent))}}class j extends V{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)}_innerSub(t){const e=new L(this),i=this.destination;i.add(e);const n=H(t,e);n!==e&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $(t=Number.POSITIVE_INFINITY){return B(_,t)}function W(t,e){return e?N(t,e):new w(T(t))}function G(...t){let e=Number.POSITIVE_INFINITY,i=null,n=t[t.length-1];return R(n)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof n&&(e=t.pop()),null===i&&1===t.length&&t[0]instanceof w?t[0]:$(e)(W(t,i))}function U(){return function(t){return t.lift(new q(t))}}class q{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const n=new Z(t,i),s=e.subscribe(n);return n.closed||(n.connection=i.connect()),s}}class Z extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,n=t._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class K extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u,t.add(this.source.subscribe(new Y(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t}refCount(){return U()(this)}}const Q=(()=>{const t=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Y extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(){return new S}function X(){return t=>{return U()((e=J,function(t){let i;i="function"==typeof e?e:function(){return e};const n=Object.create(t,Q);return n.source=t,n.subjectFactory=i,n})(t));var e}}function tt(t){for(let e in t)if(t[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function et(t,e){for(const i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function it(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(it).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const i=e.indexOf("\n");return-1===i?e:e.substring(0,i)}function nt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const st=tt({__forward_ref__:tt});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return it(this())},t}function ot(t){return lt(t)?t():t}function lt(t){return"function"==typeof t&&t.hasOwnProperty(st)&&t.__forward_ref__===rt}class at extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function ct(t){return"string"==typeof t?t:null==t?"":String(t)}function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ct(t)}function ut(t,e){const i=e?` in ${e}`:"";throw new at("201",`No provider for ${ht(t)} found${i}`)}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ft(t){return gt(t,_t)||gt(t,yt)}function gt(t,e){return t.hasOwnProperty(e)?t[e]:null}function mt(t){return t&&(t.hasOwnProperty(wt)||t.hasOwnProperty(vt))?t[wt]:null}const _t=tt({"\u0275prov":tt}),wt=tt({"\u0275inj":tt}),yt=tt({ngInjectableDef:tt}),vt=tt({ngInjectorDef:tt});var bt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Ct;function St(t){const e=Ct;return Ct=t,e}function xt(t,e,i){const n=ft(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&bt.Optional?null:void 0!==e?e:void ut(it(t),"Injector")}function Rt(t){return{toString:t}.toString()}var Dt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),kt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Et="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Ot=Et||At||Tt||It,Pt={},Ft=[],Nt=tt({"\u0275cmp":tt}),Mt=tt({"\u0275dir":tt}),Lt=tt({"\u0275pipe":tt}),Vt=tt({"\u0275mod":tt}),Ht=tt({"\u0275loc":tt}),Bt=tt({"\u0275fac":tt}),zt=tt({__NG_ELEMENT_ID__:tt});let jt=0;function $t(t){return Rt(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ft,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,id:"c",styles:t.styles||Ft,_:null,setInput:null,schemas:t.schemas||null,tView:null},n=t.directives,s=t.features,r=t.pipes;return i.id+=jt++,i.inputs=Zt(t.inputs,e),i.outputs=Zt(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Wt):null,i.pipeDefs=r?()=>("function"==typeof r?r():r).map(Gt):null,i})}function Wt(t){return Yt(t)||function(t){return t[Mt]||null}(t)}function Gt(t){return function(t){return t[Lt]||null}(t)}const Ut={};function qt(t){const e={type:t.type,bootstrap:t.bootstrap||Ft,declarations:t.declarations||Ft,imports:t.imports||Ft,exports:t.exports||Ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Rt(()=>{Ut[t.id]=t.type}),e}function Zt(t,e){if(null==t)return Pt;const i={};for(const n in t)if(t.hasOwnProperty(n)){let s=t[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),i[s]=n,e&&(e[s]=r)}return i}const Kt=$t;function Qt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Yt(t){return t[Nt]||null}function Jt(t,e){const i=t[Vt]||null;if(!i&&!0===e)throw new Error(`Type ${it(t)} does not have '\u0275mod' property.`);return i}const Xt=20,te=10;function ee(t){return Array.isArray(t)&&"object"==typeof t[1]}function ie(t){return Array.isArray(t)&&!0===t[1]}function ne(t){return 0!=(8&t.flags)}function se(t){return 2==(2&t.flags)}function re(t){return 1==(1&t.flags)}function oe(t){return null!==t.template}function le(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}class ae{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ce(){return he}function he(t){return t.type.prototype.ngOnChanges&&(t.setInput=de),ue}function ue(){const t=pe(this),e=null==t?void 0:t.current;if(e){const i=t.previous;if(i===Pt)t.previous=e;else for(let t in e)i[t]=e[t];t.current=null,this.ngOnChanges(e)}}function de(t,e,i,n){const s=pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Pt,current:null}),r=s.current||(s.current={}),o=s.previous,l=this.declaredInputs[i],a=o[l];r[l]=new ae(a&&a.currentValue,e,o===Pt),t[n]=e}function pe(t){return t.__ngSimpleChanges__||null}let fe;function ge(t){return!!t.listen}ce.ngInherit=!0;const me={createRenderer:(t,e)=>void 0!==fe?fe:"undefined"!=typeof document?document:void 0};function _e(t){for(;Array.isArray(t);)t=t[0];return t}function we(t,e){return _e(e[t])}function ye(t,e){return _e(e[t.index])}function ve(t,e){return t.data[e]}function be(t,e){return t[e]}function Ce(t,e){const i=e[t];return ee(i)?i:i[0]}function Se(t){return 4==(4&t[2])}function xe(t){return 128==(128&t[2])}function Re(t,e){return null==e?null:t[e]}function De(t){t[18]=0}function ke(t,e){t[5]+=e;let i=t,n=t[3];for(;null!==n&&(1===e&&1===i[5]||-1===e&&0===i[5]);)n[5]+=e,i=n,n=n[3]}const Ee={lFrame:Ye(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Te(){return Ee.bindingsEnabled}function Ie(){return Ee.lFrame.lView}function Ae(){return Ee.lFrame.tView}function Oe(t){return Ee.lFrame.contextLView=t,t[8]}function Pe(){let t=Fe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Fe(){return Ee.lFrame.currentTNode}function Ne(t,e){const i=Ee.lFrame;i.currentTNode=t,i.isParent=e}function Me(){return Ee.lFrame.isParent}function Le(){Ee.lFrame.isParent=!1}function Ve(){return Ee.isInCheckNoChangesMode}function He(t){Ee.isInCheckNoChangesMode=t}function Be(){const t=Ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ze(){return Ee.lFrame.bindingIndex++}function je(t){const e=Ee.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function $e(t,e){const i=Ee.lFrame;i.bindingIndex=i.bindingRootIndex=t,We(e)}function We(t){Ee.lFrame.currentDirectiveIndex=t}function Ge(){return Ee.lFrame.currentQueryIndex}function Ue(t){Ee.lFrame.currentQueryIndex=t}function qe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ze(t,e,i){if(i&bt.SkipSelf){let n=e,s=t;for(;n=n.parent,!(null!==n||i&bt.Host||(n=qe(s),null===n)||(s=s[15],10&n.type)););if(null===n)return!1;e=n,t=s}const n=Ee.lFrame=Qe();return n.currentTNode=e,n.lView=t,!0}function Ke(t){const e=Qe(),i=t[1];Ee.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function Qe(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?Ye(t):e}function Ye(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Je(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=Je;function ti(){const t=Je();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ei(){return Ee.lFrame.selectedIndex}function ii(t){Ee.lFrame.selectedIndex=t}function ni(){const t=Ee.lFrame;return ve(t.tView,t.selectedIndex)}function si(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){const e=t.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:s,ngAfterViewInit:r,ngAfterViewChecked:o,ngOnDestroy:l}=e;n&&(t.contentHooks||(t.contentHooks=[])).push(-i,n),s&&((t.contentHooks||(t.contentHooks=[])).push(i,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(i,s)),r&&(t.viewHooks||(t.viewHooks=[])).push(-i,r),o&&((t.viewHooks||(t.viewHooks=[])).push(i,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(i,o)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(i,l)}}function ri(t,e,i){ai(t,e,3,i)}function oi(t,e,i,n){(3&t[2])===i&&ai(t,e,i,n)}function li(t,e){let i=t[2];(3&i)===e&&(i&=2047,i+=1,t[2]=i)}function ai(t,e,i,n){const s=null!=n?n:-1,r=e.length-1;let o=0;for(let l=void 0!==n?65535&t[18]:0;l<r;l++)if("number"==typeof e[l+1]){if(o=e[l],null!=n&&o>=n)break}else e[l]<0&&(t[18]+=65536),(o<s||-1==s)&&(ci(t,i,e,l),t[18]=(4294901760&t[18])+l+2),l++}function ci(t,e,i,n){const s=i[n]<0,r=i[n+1],o=t[s?-i[n]:i[n]];if(s){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}const hi=-1;class ui{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function di(t,e,i){const n=ge(t);let s=0;for(;s<i.length;){const r=i[s];if("number"==typeof r){if(0!==r)break;s++;const o=i[s++],l=i[s++],a=i[s++];n?t.setAttribute(e,l,a,o):e.setAttributeNS(o,l,a)}else{const o=r,l=i[++s];fi(o)?n&&t.setProperty(e,o,l):n?t.setAttribute(e,o,l):e.setAttribute(o,l),s++}}return s}function pi(t){return 3===t||4===t||6===t}function fi(t){return 64===t.charCodeAt(0)}function gi(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){const s=e[n];"number"==typeof s?i=s:0===i||mi(t,i,s,null,-1===i||2===i?e[++n]:null)}}return t}function mi(t,e,i,n,s){let r=0,o=t.length;if(-1===e)o=-1;else for(;r<t.length;){const i=t[r++];if("number"==typeof i){if(i===e){o=-1;break}if(i>e){o=r-1;break}}}for(;r<t.length;){const e=t[r];if("number"==typeof e)break;if(e===i){if(null===n)return void(null!==s&&(t[r+1]=s));if(n===t[r+1])return void(t[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(t.splice(o,0,e),r=o+1),t.splice(r++,0,i),null!==n&&t.splice(r++,0,n),null!==s&&t.splice(r++,0,s)}function _i(t){return t!==hi}function wi(t){return 32767&t}function yi(t,e){let i=t>>16,n=e;for(;i>0;)n=n[15],i--;return n}let vi=!0;function bi(t){const e=vi;return vi=t,e}let Ci=0;function Si(t,e){const i=Ri(t,e);if(-1!==i)return i;const n=e[1];n.firstCreatePass&&(t.injectorIndex=e.length,xi(n.data,t),xi(e,null),xi(n.blueprint,null));const s=Di(t,e),r=t.injectorIndex;if(_i(s)){const t=wi(s),i=yi(s,e),n=i[1].data;for(let s=0;s<8;s++)e[r+s]=i[t+s]|n[t+s]}return e[r+8]=s,r}function xi(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ri(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Di(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let i=0,n=null,s=e;for(;null!==s;){const t=s[1],e=t.type;if(n=2===e?t.declTNode:1===e?s[6]:null,null===n)return hi;if(i++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return hi}function ki(t,e,i){!function(t,e,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(zt)&&(n=i[zt]),null==n&&(n=i[zt]=Ci++);const s=255&n;e.data[t+(s>>5)]|=1<<s}(t,e,i)}function Ei(t,e,i){if(i&bt.Optional)return t;ut(e,"NodeInjector")}function Ti(t,e,i,n){if(i&bt.Optional&&void 0===n&&(n=null),0==(i&(bt.Self|bt.Host))){const s=t[9],r=St(void 0);try{return s?s.get(e,n,i&bt.Optional):xt(e,n,i&bt.Optional)}finally{St(r)}}return Ei(n,e,i)}function Ii(t,e,i,n=bt.Default,s){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(zt)?t[zt]:void 0;return"number"==typeof e?e>=0?255&e:Oi:e}(i);if("function"==typeof r){if(!Ze(e,t,n))return n&bt.Host?Ei(s,i,n):Ti(e,i,n,s);try{const t=r(n);if(null!=t||n&bt.Optional)return t;ut(i)}finally{Xe()}}else if("number"==typeof r){let s=null,o=Ri(t,e),l=hi,a=n&bt.Host?e[16][6]:null;for((-1===o||n&bt.SkipSelf)&&(l=-1===o?Di(t,e):e[o+8],l!==hi&&Li(n,!1)?(s=e[1],o=wi(l),e=yi(l,e)):o=-1);-1!==o;){const t=e[1];if(Mi(r,o,t.data)){const t=Pi(o,e,i,s,n,a);if(t!==Ai)return t}l=e[o+8],l!==hi&&Li(n,e[1].data[o+8]===a)&&Mi(r,o,e)?(s=t,o=wi(l),e=yi(l,e)):o=-1}}}return Ti(e,i,n,s)}const Ai={};function Oi(){return new Vi(Pe(),Ie())}function Pi(t,e,i,n,s,r){const o=e[1],l=o.data[t+8],a=Fi(l,o,i,null==n?se(l)&&vi:n!=o&&0!=(3&l.type),s&bt.Host&&r===l);return null!==a?Ni(e,o,a,l):Ai}function Fi(t,e,i,n,s){const r=t.providerIndexes,o=e.data,l=1048575&r,a=t.directiveStart,c=r>>20,h=s?l+c:t.directiveEnd;for(let u=n?l:l+c;u<h;u++){const t=o[u];if(u<a&&i===t||u>=a&&t.type===i)return u}if(s){const t=o[a];if(t&&oe(t)&&t.type===i)return a}return null}function Ni(t,e,i,n){let s=t[i];const r=e.data;if(s instanceof ui){const o=s;o.resolving&&function(t,e){throw new at("200",`Circular dependency in DI detected for ${t}`)}(ht(r[i]));const l=bi(o.canSeeViewProviders);o.resolving=!0;const a=o.injectImpl?St(o.injectImpl):null;Ze(t,n,bt.Default);try{s=t[i]=o.factory(void 0,r,t,n),e.firstCreatePass&&i>=n.directiveStart&&function(t,e,i){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(n){const n=he(e);(i.preOrderHooks||(i.preOrderHooks=[])).push(t,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,n)}s&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-t,s),r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(t,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(t,r))}(i,r[i],e)}finally{null!==a&&St(a),bi(l),o.resolving=!1,Xe()}}return s}function Mi(t,e,i){return!!(i[e+(t>>5)]&1<<t)}function Li(t,e){return!(t&bt.Self||t&bt.Host&&e)}class Vi{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ii(this._tNode,this._lView,t,void 0,e)}}function Hi(t){return Rt(()=>{const e=t.prototype.constructor,i=e[Bt]||Bi(e),n=Object.prototype;let s=Object.getPrototypeOf(t.prototype).constructor;for(;s&&s!==n;){const t=s[Bt]||Bi(s);if(t&&t!==i)return t;s=Object.getPrototypeOf(s)}return t=>new t})}function Bi(t){return lt(t)?()=>{const e=Bi(ot(t));return e&&e()}:le(t)}function zi(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const i=t.attrs;if(i){const t=i.length;let n=0;for(;n<t;){const s=i[n];if(pi(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<t&&"string"==typeof i[n];)n++;else{if(s===e)return i[n+1];n+=2}}}return null}(Pe(),t)}const ji="__parameters__";function $i(t,e,i){return Rt(()=>{const n=function(t){return function(...e){if(t){const i=t(...e);for(const t in i)this[t]=i[t]}}}(e);function s(...t){if(this instanceof s)return n.apply(this,t),this;const e=new s(...t);return i.annotation=e,i;function i(t,i,n){const s=t.hasOwnProperty(ji)?t[ji]:Object.defineProperty(t,ji,{value:[]})[ji];for(;s.length<=n;)s.push(null);return(s[n]=s[n]||[]).push(e),t}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class Wi{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Gi(t,e){void 0===e&&(e=t);for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?(e===t&&(e=t.slice(0,i)),Gi(n,e)):e!==t&&e.push(n)}return e}function Ui(t,e){t.forEach(t=>Array.isArray(t)?Ui(t,e):e(t))}function qi(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function Zi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ki(t,e){const i=[];for(let n=0;n<t;n++)i.push(e);return i}function Qi(t,e,i){let n=Ji(t,e);return n>=0?t[1|n]=i:(n=~n,function(t,e,i,n){let s=t.length;if(s==e)t.push(i,n);else if(1===s)t.push(n,t[0]),t[0]=i;else{for(s--,t.push(t[s-1],t[s]);s>e;)t[s]=t[s-2],s--;t[e]=i,t[e+1]=n}}(t,n,e,i)),n}function Yi(t,e){const i=Ji(t,e);if(i>=0)return t[1|i]}function Ji(t,e){return function(t,e,i){let n=0,s=t.length>>1;for(;s!==n;){const i=n+(s-n>>1),r=t[i<<1];if(e===r)return i<<1;r>e?s=i:n=i+1}return~(s<<1)}(t,e)}const Xi={},tn=/\n/gm,en="__source",nn=tt({provide:String,useValue:tt});let sn;function rn(t){const e=sn;return sn=t,e}function on(t,e=bt.Default){if(void 0===sn)throw new Error("inject() must be called from an injection context");return null===sn?xt(t,void 0,e):sn.get(t,e&bt.Optional?null:void 0,e)}function ln(t,e=bt.Default){return(Ct||on)(ot(t),e)}const an=ln;function cn(t){const e=[];for(let i=0;i<t.length;i++){const n=ot(t[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let t,i=bt.Default;for(let e=0;e<n.length;e++){const s=n[e],r=s.__NG_DI_FLAG__;"number"==typeof r?-1===r?t=s.token:i|=r:t=s}e.push(ln(t,i))}else e.push(ln(n))}return e}function hn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const un=hn($i("Inject",t=>({token:t})),-1),dn=hn($i("Optional"),8),pn=hn($i("SkipSelf"),4);function fn(t){return t instanceof class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}function gn(t,e){t.__ngContext__=e}function mn(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _n(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function yn(t,...e){t.error(...e)}class vn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=this._findContext(t),n=function(t){return t.ngErrorLogger||yn}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(t){return t?_n(t)?_n(t):this._findContext(wn(t)):null}_findOriginalError(t){let e=wn(t);for(;e&&wn(e);)e=wn(e);return e}}const bn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))();function Cn(t){return t instanceof Function?t():t}var Sn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xn(t,e){return(void 0)(t,e)}function Rn(t){const e=t[3];return ie(e)?e[3]:e}function Dn(t){return En(t[13])}function kn(t){return En(t[4])}function En(t){for(;null!==t&&!ie(t);)t=t[4];return t}function Tn(t,e,i,n,s){if(null!=n){let r,o=!1;ie(n)?r=n:ee(n)&&(o=!0,n=n[0]);const l=_e(n);0===t&&null!==i?null==s?Ln(e,i,l):Mn(e,i,l,s||null,!0):1===t&&null!==i?Mn(e,i,l,s||null,!0):2===t?function(t,e,i){const n=Hn(t,e);n&&function(t,e,i,n){ge(t)?t.removeChild(e,i,n):e.removeChild(i)}(t,n,e,i)}(e,l,o):3===t&&e.destroyNode(l),null!=r&&function(t,e,i,n,s){const r=i[7];r!==_e(i)&&Tn(e,t,n,r,s);for(let o=te;o<i.length;o++){const s=i[o];qn(s[1],s,t,e,n,r)}}(e,t,r,i,s)}}function In(t,e,i){return ge(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function An(t,e){const i=t[9],n=i.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,ke(s,-1)),i.splice(n,1)}function On(t,e){if(t.length<=te)return;const i=te+e,n=t[i];if(n){const r=n[17];null!==r&&r!==t&&An(r,n),e>0&&(t[i-1][4]=n[4]);const o=Zi(t,te+e);qn(n[1],s=n,s[11],2,null,null),s[0]=null,s[6]=null;const l=o[19];null!==l&&l.detachView(o[1]),n[3]=null,n[4]=null,n[2]&=-129}var s;return n}function Pn(t,e){if(!(256&e[2])){const i=e[11];ge(i)&&i.destroyNode&&qn(t,e,i,3,null,null),function(t){let e=t[13];if(!e)return Fn(t[1],t);for(;e;){let i=null;if(ee(e))i=e[13];else{const t=e[10];t&&(i=t)}if(!i){for(;e&&!e[4]&&e!==t;)ee(e)&&Fn(e[1],e),e=e[3];null===e&&(e=t),ee(e)&&Fn(e[1],e),i=e&&e[4]}e=i}}(e)}}function Fn(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let i;if(null!=t&&null!=(i=t.destroyHooks))for(let n=0;n<i.length;n+=2){const t=e[i[n]];if(!(t instanceof ui)){const e=i[n+1];if(Array.isArray(e))for(let i=0;i<e.length;i+=2){const n=t[e[i]],s=e[i+1];try{s.call(n)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const i=t.cleanup,n=e[7];let s=-1;if(null!==i)for(let r=0;r<i.length-1;r+=2)if("string"==typeof i[r]){const t=i[r+1],o="function"==typeof t?t(e):_e(e[t]),l=n[s=i[r+2]],a=i[r+3];"boolean"==typeof a?o.removeEventListener(i[r],l,a):a>=0?n[s=a]():n[s=-a].unsubscribe(),r+=2}else{const t=n[s=i[r+1]];i[r].call(t)}if(null!==n){for(let t=s+1;t<n.length;t++)(0,n[t])();e[7]=null}}(t,e),1===e[1].type&&ge(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&ie(e[3])){i!==e[3]&&An(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function Nn(t,e,i){return function(t,e,i){let n=e;for(;null!==n&&40&n.type;)n=(e=n).parent;if(null===n)return i[0];if(2&n.flags){const e=t.data[n.directiveStart].encapsulation;if(e===kt.None||e===kt.Emulated)return null}return ye(n,i)}(t,e.parent,i)}function Mn(t,e,i,n,s){ge(t)?t.insertBefore(e,i,n,s):e.insertBefore(i,n,s)}function Ln(t,e,i){ge(t)?t.appendChild(e,i):e.appendChild(i)}function Vn(t,e,i,n,s){null!==n?Mn(t,e,i,n,s):Ln(t,e,i)}function Hn(t,e){return ge(t)?t.parentNode(e):e.parentNode}function Bn(t,e,i){return zn(t,e,i)}let zn=function(t,e,i){return 40&t.type?ye(t,i):null};function jn(t,e,i,n){const s=Nn(t,n,e),r=e[11],o=Bn(n.parent||e[6],n,e);if(null!=s)if(Array.isArray(i))for(let l=0;l<i.length;l++)Vn(r,s,i[l],o,!1);else Vn(r,s,i,o,!1)}function $n(t,e){if(null!==e){const i=e.type;if(3&i)return ye(e,t);if(4&i)return Gn(-1,t[e.index]);if(8&i){const i=e.child;if(null!==i)return $n(t,i);{const i=t[e.index];return ie(i)?Gn(-1,i):_e(i)}}if(32&i)return xn(e,t)()||_e(t[e.index]);{const i=Wn(t,e);return null!==i?Array.isArray(i)?i[0]:$n(Rn(t[16]),i):$n(t,e.next)}}return null}function Wn(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gn(t,e){const i=te+t+1;if(i<e.length){const t=e[i],n=t[1].firstChild;if(null!==n)return $n(t,n)}return e[7]}function Un(t,e,i,n,s,r,o){for(;null!=i;){const l=n[i.index],a=i.type;if(o&&0===e&&(l&&gn(_e(l),n),i.flags|=4),64!=(64&i.flags))if(8&a)Un(t,e,i.child,n,s,r,!1),Tn(e,t,s,l,r);else if(32&a){const o=xn(i,n);let a;for(;a=o();)Tn(e,t,s,a,r);Tn(e,t,s,l,r)}else 16&a?Zn(t,e,n,i,s,r):Tn(e,t,s,l,r);i=o?i.projectionNext:i.next}}function qn(t,e,i,n,s,r){Un(i,n,t.firstChild,e,s,r,!1)}function Zn(t,e,i,n,s,r){const o=i[16],l=o[6].projection[n.projection];if(Array.isArray(l))for(let a=0;a<l.length;a++)Tn(e,t,s,l[a],r);else Un(t,e,l,o[3],s,r,!0)}function Kn(t,e,i){ge(t)?t.setAttribute(e,"style",i):e.style.cssText=i}function Qn(t,e,i){ge(t)?""===i?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i):e.className=i}function Yn(t,e,i){let n=t.length;for(;;){const s=t.indexOf(e,i);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const i=e.length;if(s+i===n||t.charCodeAt(s+i)<=32)return s}i=s+1}}const Jn="ng-template";function Xn(t,e,i){let n=0;for(;n<t.length;){let s=t[n++];if(i&&"class"===s){if(s=t[n],-1!==Yn(s.toLowerCase(),e,0))return!0}else if(1===s){for(;n<t.length&&"string"==typeof(s=t[n++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function ts(t){return 4===t.type&&t.value!==Jn}function es(t,e,i){return e===(4!==t.type||i?t.value:Jn)}function is(t,e,i){let n=4;const s=t.attrs||[],r=function(t){for(let e=0;e<t.length;e++)if(pi(t[e]))return e;return t.length}(s);let o=!1;for(let l=0;l<e.length;l++){const a=e[l];if("number"!=typeof a){if(!o)if(4&n){if(n=2|1&n,""!==a&&!es(t,a,i)||""===a&&1===e.length){if(ns(n))return!1;o=!0}}else{const c=8&n?a:e[++l];if(8&n&&null!==t.attrs){if(!Xn(t.attrs,c,i)){if(ns(n))return!1;o=!0}continue}const h=ss(8&n?"class":a,s,ts(t),i);if(-1===h){if(ns(n))return!1;o=!0;continue}if(""!==c){let t;t=h>r?"":s[h+1].toLowerCase();const e=8&n?t:null;if(e&&-1!==Yn(e,c,0)||2&n&&c!==t){if(ns(n))return!1;o=!0}}}}else{if(!o&&!ns(n)&&!ns(a))return!1;if(o&&ns(a))continue;o=!1,n=a|1&n}}return ns(n)||o}function ns(t){return 0==(1&t)}function ss(t,e,i,n){if(null===e)return-1;let s=0;if(n||!i){let i=!1;for(;s<e.length;){const n=e[s];if(n===t)return s;if(3===n||6===n)i=!0;else{if(1===n||2===n){let t=e[++s];for(;"string"==typeof t;)t=e[++s];continue}if(4===n)break;if(0===n){s+=4;continue}}s+=i?1:2}return-1}return function(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){const n=t[i];if("number"==typeof n)return-1;if(n===e)return i;i++}return-1}(e,t)}function rs(t,e,i=!1){for(let n=0;n<e.length;n++)if(is(t,e[n],i))return!0;return!1}function os(t,e){t:for(let i=0;i<e.length;i++){const n=e[i];if(t.length===n.length){for(let e=0;e<t.length;e++)if(t[e]!==n[e])continue t;return!0}}return!1}function ls(t,e){return t?":not("+e.trim()+")":e}function as(t){let e=t[0],i=1,n=2,s="",r=!1;for(;i<t.length;){let o=t[i];if("string"==typeof o)if(2&n){const e=t[++i];s+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""===s||ns(o)||(e+=ls(r,s),s=""),n=o,r=r||!ns(n);i++}return""!==s&&(e+=ls(r,s)),e}const cs={};function hs(t){us(Ae(),Ie(),ei()+t,Ve())}function us(t,e,i,n){if(!n)if(3==(3&e[2])){const n=t.preOrderCheckHooks;null!==n&&ri(e,n,i)}else{const n=t.preOrderHooks;null!==n&&oi(e,n,0,i)}ii(i)}function ds(t,e){return t<<17|e<<2}function ps(t){return t>>17&32767}function fs(t){return 2|t}function gs(t){return(131068&t)>>2}function ms(t,e){return-131069&t|e<<2}function _s(t){return 1|t}function ws(t,e){const i=t.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n],r=i[n+1];if(-1!==r){const i=t.data[r];Ue(s),i.contentQueries(2,e[r],r)}}}function ys(t,e,i,n,s,r,o,l,a,c){const h=e.blueprint.slice();return h[0]=s,h[2]=140|n,De(h),h[3]=h[15]=t,h[8]=i,h[10]=o||t&&t[10],h[11]=l||t&&t[11],h[12]=a||t&&t[12]||null,h[9]=c||t&&t[9]||null,h[6]=r,h[16]=2==e.type?t[16]:h,h}function vs(t,e,i,n,s){let r=t.data[e];if(null===r)r=function(t,e,i,n,s){const r=Fe(),o=Me(),l=t.data[e]=function(t,e,i,n,s,r){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,i,e,n,s);return null===t.firstChild&&(t.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(t,e,i,n,s),Ee.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=i,r.value=n,r.attrs=s;const t=function(){const t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();r.injectorIndex=null===t?-1:t.injectorIndex}return Ne(r,!0),r}function bs(t,e,i,n){if(0===i)return-1;const s=e.length;for(let r=0;r<i;r++)e.push(n),t.blueprint.push(n),t.data.push(null);return s}function Cs(t,e,i){Ke(e);try{const n=t.viewQuery;null!==n&&Js(1,n,i);const s=t.template;null!==s&&Rs(t,e,s,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ws(t,e),t.staticViewQueries&&Js(2,t.viewQuery,i);const r=t.components;null!==r&&function(t,e){for(let i=0;i<e.length;i++)qs(t,e[i])}(e,r)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),n}finally{e[2]&=-5,ti()}}function Ss(t,e,i,n){const s=e[2];if(256==(256&s))return;Ke(e);const r=Ve();try{De(e),Ee.lFrame.bindingIndex=t.bindingStartIndex,null!==i&&Rs(t,e,i,2,n);const o=3==(3&s);if(!r)if(o){const i=t.preOrderCheckHooks;null!==i&&ri(e,i,null)}else{const i=t.preOrderHooks;null!==i&&oi(e,i,0,null),li(e,0)}if(function(t){for(let e=Dn(t);null!==e;e=kn(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const i=t[e],n=i[3];0==(1024&i[2])&&ke(n,1),i[2]|=1024}}}(e),function(t){for(let e=Dn(t);null!==e;e=kn(e))for(let t=te;t<e.length;t++){const i=e[t],n=i[1];xe(i)&&Ss(n,i,n.template,i[8])}}(e),null!==t.contentQueries&&ws(t,e),!r)if(o){const i=t.contentCheckHooks;null!==i&&ri(e,i)}else{const i=t.contentHooks;null!==i&&oi(e,i,1),li(e,1)}!function(t,e){const i=t.hostBindingOpCodes;if(null!==i)try{for(let t=0;t<i.length;t++){const n=i[t];if(n<0)ii(~n);else{const s=n,r=i[++t],o=i[++t];$e(r,s),o(2,e[s])}}}finally{ii(-1)}}(t,e);const l=t.components;null!==l&&function(t,e){for(let i=0;i<e.length;i++)Gs(t,e[i])}(e,l);const a=t.viewQuery;if(null!==a&&Js(2,a,n),!r)if(o){const i=t.viewCheckHooks;null!==i&&ri(e,i)}else{const i=t.viewHooks;null!==i&&oi(e,i,2),li(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ke(e[3],-1))}finally{ti()}}function xs(t,e,i,n){const s=e[10],r=!Ve(),o=Se(e);try{r&&!o&&s.begin&&s.begin(),o&&Cs(t,e,n),Ss(t,e,i,n)}finally{r&&!o&&s.end&&s.end()}}function Rs(t,e,i,n,s){const r=ei(),o=2&n;try{ii(-1),o&&e.length>Xt&&us(t,e,Xt,Ve()),i(n,s)}finally{ii(r)}}function Ds(t,e,i){if(ne(e)){const n=e.directiveEnd;for(let s=e.directiveStart;s<n;s++){const e=t.data[s];e.contentQueries&&e.contentQueries(1,i[s],s)}}}function ks(t,e,i){Te()&&(function(t,e,i,n){const s=i.directiveStart,r=i.directiveEnd;t.firstCreatePass||Si(i,e),gn(n,e);const o=i.initialInputs;for(let l=s;l<r;l++){const n=t.data[l],r=oe(n);r&&zs(e,i,n);const a=Ni(e,t,l,i);gn(a,e),null!==o&&js(0,l-s,a,n,0,o),r&&(Ce(i.index,e)[8]=a)}}(t,e,i,ye(i,e)),128==(128&i.flags)&&function(t,e,i){const n=i.directiveStart,s=i.directiveEnd,r=i.index,o=Ee.lFrame.currentDirectiveIndex;try{ii(r);for(let i=n;i<s;i++){const n=t.data[i],s=e[i];We(i),null===n.hostBindings&&0===n.hostVars&&null===n.hostAttrs||Ms(n,s)}}finally{ii(-1),We(o)}}(t,e,i))}function Es(t,e,i=ye){const n=e.localNames;if(null!==n){let s=e.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],l=-1===o?i(e,t):t[o];t[s++]=l}}}function Ts(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Is(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Is(t,e,i,n,s,r,o,l,a,c){const h=Xt+n,u=h+s,d=function(t,e){const i=[];for(let n=0;n<e;n++)i.push(n<t?null:cs);return i}(h,u),p="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:i,queries:null,viewQuery:l,declTNode:e,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1}}function As(t,e,i,n){const s=tr(e);null===i?s.push(n):(s.push(i),t.firstCreatePass&&er(t).push(n,s.length-1))}function Os(t,e,i){for(let n in t)if(t.hasOwnProperty(n)){const s=t[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(e,s):i[n]=[e,s]}return i}function Ps(t,e,i,n,s,r,o,l){const a=ye(e,i);let c,h=e.inputs;var u;!l&&null!=h&&(c=h[n])?(nr(t,i,c,n,s),se(e)&&function(t,e){const i=Ce(e,t);16&i[2]||(i[2]|=64)}(i,e.index)):3&e.type&&(n="class"===(u=n)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,s=null!=o?o(s,e.value||"",n):s,ge(r)?r.setProperty(a,n,s):fi(n)||(a.setProperty?a.setProperty(n,s):a[n]=s))}function Fs(t,e,i,n){let s=!1;if(Te()){const r=function(t,e,i){const n=t.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const o=n[r];rs(i,o.selectors,!1)&&(s||(s=[]),ki(Si(i,e),t,o.type),oe(o)?(Ls(t,i),s.unshift(o)):s.push(o))}return s}(t,e,i),o=null===n?null:{"":-1};if(null!==r){s=!0,Hs(i,t.data.length,r.length);for(let t=0;t<r.length;t++){const e=r[t];e.providersResolver&&e.providersResolver(e)}let n=!1,l=!1,a=bs(t,e,r.length,null);for(let s=0;s<r.length;s++){const c=r[s];i.mergedAttrs=gi(i.mergedAttrs,c.hostAttrs),Bs(t,i,e,a,c),Vs(a,c,o),null!==c.contentQueries&&(i.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(i.flags|=128);const h=c.type.prototype;!n&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(i.index),n=!0),l||!h.ngOnChanges&&!h.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(i.index),l=!0),a++}!function(t,e){const i=e.directiveEnd,n=t.data,s=e.attrs,r=[];let o=null,l=null;for(let a=e.directiveStart;a<i;a++){const t=n[a],i=t.inputs,c=null===s||ts(e)?null:$s(i,s);r.push(c),o=Os(i,a,o),l=Os(t.outputs,a,l)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=r,e.inputs=o,e.outputs=l}(t,i)}o&&function(t,e,i){if(e){const n=t.localNames=[];for(let t=0;t<e.length;t+=2){const s=i[e[t+1]];if(null==s)throw new at("301",`Export of name '${e[t+1]}' not found!`);n.push(e[t],s)}}}(i,n,o)}return i.mergedAttrs=gi(i.mergedAttrs,i.attrs),s}function Ns(t,e,i,n,s,r){const o=r.hostBindings;if(o){let i=t.hostBindingOpCodes;null===i&&(i=t.hostBindingOpCodes=[]);const r=~e.index;(function(t){let e=t.length;for(;e>0;){const i=t[--e];if("number"==typeof i&&i<0)return i}return 0})(i)!=r&&i.push(r),i.push(n,s,o)}}function Ms(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ls(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vs(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;oe(e)&&(i[""]=t)}}function Hs(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function Bs(t,e,i,n,s){t.data[n]=s;const r=s.factory||(s.factory=le(s.type)),o=new ui(r,oe(s),null);t.blueprint[n]=o,i[n]=o,Ns(t,e,0,n,bs(t,i,s.hostVars,cs),s)}function zs(t,e,i){const n=ye(e,t),s=Ts(i),r=t[10],o=Zs(t,ys(t,s,null,i.onPush?64:16,n,e,r,r.createRenderer(n,i),null,null));t[e.index]=o}function js(t,e,i,n,s,r){const o=r[e];if(null!==o){const t=n.setInput;for(let e=0;e<o.length;){const s=o[e++],r=o[e++],l=o[e++];null!==t?n.setInput(i,l,s,r):i[r]=l}}}function $s(t,e){let i=null,n=0;for(;n<e.length;){const s=e[n];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===i&&(i=[]),i.push(s,t[s],e[n+1])),n+=2}else n+=2;else n+=4}return i}function Ws(t,e,i,n){return new Array(t,!0,!1,e,null,0,n,i,null,null)}function Gs(t,e){const i=Ce(e,t);if(xe(i)){const t=i[1];80&i[2]?Ss(t,i,t.template,i[8]):i[5]>0&&Us(i)}}function Us(t){for(let i=Dn(t);null!==i;i=kn(i))for(let t=te;t<i.length;t++){const e=i[t];if(1024&e[2]){const t=e[1];Ss(t,e,t.template,e[8])}else e[5]>0&&Us(e)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const n=Ce(e[i],t);xe(n)&&n[5]>0&&Us(n)}}function qs(t,e){const i=Ce(e,t),n=i[1];!function(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}(n,i),Cs(n,i,i[8])}function Zs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ks(t){for(;t;){t[2]|=64;const e=Rn(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Qs(t,e,i){const n=e[10];n.begin&&n.begin();try{Ss(t,e,t.template,i)}catch(s){throw ir(e,s),s}finally{n.end&&n.end()}}function Ys(t){!function(t){for(let e=0;e<t.components.length;e++){const i=t.components[e],n=mn(i),s=n[1];xs(s,n,s.template,i)}}(t[8])}function Js(t,e,i){Ue(0),e(t,i)}const Xs=(()=>Promise.resolve(null))();function tr(t){return t[7]||(t[7]=[])}function er(t){return t.cleanup||(t.cleanup=[])}function ir(t,e){const i=t[9],n=i?i.get(vn,null):null;n&&n.handleError(e)}function nr(t,e,i,n,s){for(let r=0;r<i.length;){const o=i[r++],l=i[r++],a=e[o],c=t.data[o];null!==c.setInput?c.setInput(a,s,n,l):a[l]=s}}function sr(t,e,i){let n=i?t.styles:null,s=i?t.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?r=t:1==r?s=nt(s,t):2==r&&(n=nt(n,t+": "+e[++o]+";"))}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=s:t.classesWithoutHost=s}const rr=new Wi("INJECTOR",-1);class or{get(t,e=Xi){if(e===Xi){const e=new Error(`NullInjectorError: No provider for ${it(t)}!`);throw e.name="NullInjectorError",e}return e}}const lr=new Wi("Set Injector scope."),ar={},cr={};let hr;function ur(){return void 0===hr&&(hr=new or),hr}function dr(t,e=null,i=null,n){return new pr(t,i,e||ur(),n)}class pr{constructor(t,e,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Ui(e,i=>this.processProvider(i,t,e)),Ui([t],t=>this.processInjectorType(t,[],s)),this.records.set(rr,mr(void 0,this));const r=this.records.get(lr);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof t?null:it(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Xi,i=bt.Default){this.assertNotDestroyed();const n=rn(this);try{if(!(i&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const i=("function"==typeof(s=t)||"object"==typeof s&&s instanceof Wi)&&ft(t);e=i&&this.injectableDefInScope(i)?mr(fr(t),ar):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(i&bt.Self?ur():this.parent).get(t,e=i&bt.Optional&&e===Xi?null:e)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(it(t)),n)throw r;return function(t,e,i,n){const s=t.ngTempTokenPath;throw e[en]&&s.unshift(e[en]),t.message=function(t,e,i,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=it(e);if(Array.isArray(e))s=e.map(it).join(" -> ");else if("object"==typeof e){let t=[];for(let i in e)if(e.hasOwnProperty(i)){let n=e[i];t.push(i+":"+("string"==typeof n?JSON.stringify(n):it(n)))}s=`{${t.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${t.replace(tn,"\n  ")}`}("\n"+t.message,s,i,n),t.ngTokenPath=s,t.ngTempTokenPath=null,t}(r,t,"R3InjectorError",this.source)}throw r}finally{rn(n)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,i)=>t.push(it(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ot(t)))return!1;let n=mt(t);const s=null==n&&t.ngModule||void 0,r=void 0===s?t:s,o=-1!==i.indexOf(r);if(void 0!==s&&(n=mt(s)),null==n)return!1;if(null!=n.imports&&!o){let t;i.push(r);try{Ui(n.imports,n=>{this.processInjectorType(n,e,i)&&(void 0===t&&(t=[]),t.push(n))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:i,providers:n}=t[e];Ui(n,t=>this.processProvider(t,i,n||Ft))}}this.injectorDefTypes.add(r);const l=le(r)||(()=>new r);this.records.set(r,mr(l,ar));const a=n.providers;if(null!=a&&!o){const e=t;Ui(a,t=>this.processProvider(t,e,a))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let n=wr(t=ot(t))?t:ot(t&&t.provide);const s=function(t,e,i){return _r(t)?mr(void 0,t.useValue):mr(gr(t),ar)}(t);if(wr(t)||!0!==t.multi)this.records.get(n);else{let e=this.records.get(n);e||(e=mr(void 0,ar,!0),e.factory=()=>cn(e.multi),this.records.set(n,e)),n=t,e.multi.push(t)}this.records.set(n,s)}hydrate(t,e){var i;return e.value===ar&&(e.value=cr,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(i=e.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ot(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function fr(t){const e=ft(t),i=null!==e?e.factory:le(t);if(null!==i)return i;if(t instanceof Wi)throw new Error(`Token ${it(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=Ki(e,"?");throw new Error(`Can't resolve all parameters for ${it(t)}: (${i.join(", ")}).`)}const i=function(t){const e=t&&(t[_t]||t[yt]);if(e){const i=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),e}return null}(t);return null!==i?()=>i.factory(t):()=>new t}(t);throw new Error("unreachable")}function gr(t,e,i){let n;if(wr(t)){const e=ot(t);return le(e)||fr(e)}if(_r(t))n=()=>ot(t.useValue);else if((s=t)&&s.useFactory)n=()=>t.useFactory(...cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))n=()=>ln(ot(t.useExisting));else{const e=ot(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return le(e)||fr(e);n=()=>new e(...cn(t.deps))}var s;return n}function mr(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function _r(t){return null!==t&&"object"==typeof t&&nn in t}function wr(t){return"function"==typeof t}const yr=function(t,e,i){return function(t,e=null,i=null,n){const s=dr(t,e,i,n);return s._resolveInjectorDefTypes(),s}({name:i},e,t,i)};let vr=(()=>{class t{static create(t,e){return Array.isArray(t)?yr(t,e,""):yr(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Xi,t.NULL=new or,t.\u0275prov=dt({token:t,providedIn:"any",factory:()=>ln(rr)}),t.__NG_ELEMENT_ID__=-1,t})();function br(t,e){si(mn(t)[1],Pe())}function Cr(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,i=!0;const n=[t];for(;e;){let s;if(oe(t))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");s=e.\u0275dir}if(s){if(i){n.push(s);const e=t;e.inputs=Sr(t.inputs),e.declaredInputs=Sr(t.declaredInputs),e.outputs=Sr(t.outputs);const i=s.hostBindings;i&&Dr(t,i);const r=s.viewQuery,o=s.contentQueries;if(r&&xr(t,r),o&&Rr(t,o),et(t.inputs,s.inputs),et(t.declaredInputs,s.declaredInputs),et(t.outputs,s.outputs),oe(s)&&s.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(s.data.animation)}}const e=s.features;if(e)for(let n=0;n<e.length;n++){const s=e[n];s&&s.ngInherit&&s(t),s===Cr&&(i=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){const s=t[n];s.hostVars=e+=s.hostVars,s.hostAttrs=gi(s.hostAttrs,i=gi(i,s.hostAttrs))}}(n)}function Sr(t){return t===Pt?{}:t===Ft?[]:t}function xr(t,e){const i=t.viewQuery;t.viewQuery=i?(t,n)=>{e(t,n),i(t,n)}:e}function Rr(t,e){const i=t.contentQueries;t.contentQueries=i?(t,n,s)=>{e(t,n,s),i(t,n,s)}:e}function Dr(t,e){const i=t.hostBindings;t.hostBindings=i?(t,n)=>{e(t,n),i(t,n)}:e}let kr=null;function Er(){if(!kr){const t=Ot.Symbol;if(t&&t.iterator)kr=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(kr=i)}}}return kr}class Tr{constructor(t){this.wrapped=t}static wrap(t){return new Tr(t)}static unwrap(t){return Tr.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Tr}}function Ir(t){return!!Ar(t)&&(Array.isArray(t)||!(t instanceof Map)&&Er()in t)}function Ar(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Or(t,e,i){return t[e]=i}function Pr(t,e,i){return!Object.is(t[e],i)&&(t[e]=i,!0)}function Fr(t,e,i,n){const s=Pr(t,e,i);return Pr(t,e+1,n)||s}function Nr(t,e,i,n){const s=Ie();return Pr(s,ze(),e)&&(Ae(),function(t,e,i,n,s,r){const o=ye(t,e);!function(t,e,i,n,s,r,o){if(null==r)ge(t)?t.removeAttribute(e,s,i):e.removeAttribute(s);else{const l=null==o?ct(r):o(r,n||"",s);ge(t)?t.setAttribute(e,s,l,i):i?e.setAttributeNS(i,s,l):e.setAttribute(s,l)}}(e[11],o,r,t.value,i,n,s)}(ni(),s,t,e,i,n)),Nr}function Mr(t,e,i,n,s,r,o,l){const a=Ie(),c=Ae(),h=t+Xt,u=c.firstCreatePass?function(t,e,i,n,s,r,o,l,a){const c=e.consts,h=vs(e,t,4,o||null,Re(c,l));Fs(e,i,h,Re(c,a)),si(e,h);const u=h.tViews=Is(2,h,n,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(h,c,a,e,i,n,s,r,o):c.data[h];Ne(u,!1);const d=a[11].createComment("");jn(c,a,d,u),gn(d,a),Zs(a,a[h]=Ws(d,a,d,u)),re(u)&&ks(c,a,u),null!=o&&Es(a,u,l)}function Lr(t){return be(Ee.lFrame.contextLView,Xt+t)}function Vr(t,e=bt.Default){const i=Ie();return null===i?ln(t,e):Ii(Pe(),i,ot(t),e)}function Hr(t,e,i){const n=Ie();return Pr(n,ze(),e)&&Ps(Ae(),ni(),n,t,e,n[11],i,!1),Hr}function Br(t,e,i,n,s){const r=s?"class":"style";nr(t,i,e.inputs[r],r,n)}function zr(t,e,i,n){const s=Ie(),r=Ae(),o=Xt+t,l=s[11],a=s[o]=In(l,e,Ee.lFrame.currentNamespace),c=r.firstCreatePass?function(t,e,i,n,s,r,o){const l=e.consts,a=vs(e,t,2,s,Re(l,r));return Fs(e,i,a,Re(l,o)),null!==a.attrs&&sr(a,a.attrs,!1),null!==a.mergedAttrs&&sr(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,s,0,e,i,n):r.data[o];Ne(c,!0);const h=c.mergedAttrs;null!==h&&di(l,a,h);const u=c.classes;null!==u&&Qn(l,a,u);const d=c.styles;null!==d&&Kn(l,a,d),64!=(64&c.flags)&&jn(r,s,a,c),0===Ee.lFrame.elementDepthCount&&gn(a,s),Ee.lFrame.elementDepthCount++,re(c)&&(ks(r,s,c),Ds(r,c,s)),null!==n&&Es(s,c)}function jr(){let t=Pe();Me()?Le():(t=t.parent,Ne(t,!1));const e=t;Ee.lFrame.elementDepthCount--;const i=Ae();i.firstCreatePass&&(si(i,t),ne(t)&&i.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Br(i,e,Ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Br(i,e,Ie(),e.stylesWithoutHost,!1)}function $r(t,e,i,n){zr(t,e,i,n),jr()}function Wr(t,e,i){const n=Ie(),s=Ae(),r=t+Xt,o=s.firstCreatePass?function(t,e,i,n,s){const r=e.consts,o=Re(r,n),l=vs(e,t,8,"ng-container",o);return null!==o&&sr(l,o,!0),Fs(e,i,l,Re(r,s)),null!==e.queries&&e.queries.elementStart(e,l),l}(r,s,n,e,i):s.data[r];Ne(o,!0);const l=n[r]=n[11].createComment("");jn(s,n,l,o),gn(l,n),re(o)&&(ks(s,n,o),Ds(s,o,n)),null!=i&&Es(n,o)}function Gr(){let t=Pe();const e=Ae();Me()?Le():(t=t.parent,Ne(t,!1)),e.firstCreatePass&&(si(e,t),ne(t)&&e.queries.elementEnd(t))}function Ur(t,e,i){Wr(t,e,i),Gr()}function qr(t){return!!t&&"function"==typeof t.then}function Zr(t){return!!t&&"function"==typeof t.subscribe}const Kr=Zr;function Qr(t,e,i,n){const s=Ie(),r=Ae(),o=Pe();return function(t,e,i,n,s,r,o,l){const a=re(n),c=t.firstCreatePass&&er(t),h=tr(e);let u=!0;if(3&n.type||l){const d=ye(n,e),p=l?l(d):d,f=h.length,g=l?t=>l(_e(t[n.index])):n.index;if(ge(i)){let o=null;if(!l&&a&&(o=function(t,e,i,n){const s=t.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const t=s[r];if(t===i&&s[r+1]===n){const t=e[7],i=s[r+2];return t.length>i?t[i]:null}"string"==typeof t&&(r+=2)}return null}(t,e,s,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,u=!1;else{r=Jr(n,e,0,r,!1);const t=i.listen(p,s,r);h.push(r,t),c&&c.push(s,g,f,f+1)}}else r=Jr(n,e,0,r,!0),p.addEventListener(s,r,o),h.push(r),c&&c.push(s,g,f,o)}else r=Jr(n,e,0,r,!1);const d=n.outputs;let p;if(u&&null!==d&&(p=d[s])){const t=p.length;if(t)for(let i=0;i<t;i+=2){const t=e[p[i]][p[i+1]].subscribe(r),o=h.length;h.push(r,t),c&&c.push(s,n.index,o,-(o+1))}}}(r,s,s[11],o,t,e,!!i,n),Qr}function Yr(t,e,i,n){try{return!1!==i(n)}catch(s){return ir(t,s),!1}}function Jr(t,e,i,n,s){return function i(r){if(r===Function)return n;const o=2&t.flags?Ce(t.index,e):e;0==(32&e[2])&&Ks(o);let l=Yr(e,0,n,r),a=i.__ngNextListenerFn__;for(;a;)l=Yr(e,0,a,r)&&l,a=a.__ngNextListenerFn__;return s&&!1===l&&(r.preventDefault(),r.returnValue=!1),l}}function Xr(t=1){return function(t){return(Ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ee.lFrame.contextLView))[8]}(t)}function to(t,e){let i=null;const n=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===n?rs(t,r,!0):os(n,r))return s}else i=s}return i}function eo(t){const e=Ie()[16][6];if(!e.projection){const i=e.projection=Ki(t?t.length:1,null),n=i.slice();let s=e.child;for(;null!==s;){const e=t?to(s,t):0;null!==e&&(n[e]?n[e].projectionNext=s:i[e]=s,n[e]=s),s=s.next}}}function io(t,e=0,i){const n=Ie(),s=Ae(),r=vs(s,Xt+t,16,null,i||null);null===r.projection&&(r.projection=e),Le(),64!=(64&r.flags)&&function(t,e,i){Zn(e[11],0,e,i,Nn(t,i,e),Bn(i.parent||e[6],i,e))}(s,n,r)}function no(t,e,i,n,s){const r=t[i+1],o=null===e;let l=n?ps(r):gs(r),a=!1;for(;0!==l&&(!1===a||o);){const i=t[l+1];so(t[l],e)&&(a=!0,t[l+1]=n?_s(i):fs(i)),l=n?ps(i):gs(i)}a&&(t[i+1]=n?fs(r):_s(r))}function so(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ji(t,e)>=0}const ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oo(t){return t.substring(ro.key,ro.keyEnd)}function lo(t,e){const i=ro.textEnd;return i===e?-1:(e=ro.keyEnd=function(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}(t,ro.key=e,i),ao(t,e,i))}function ao(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function co(t,e,i){return po(t,e,i,!1),co}function ho(t,e){return po(t,e,null,!0),ho}function uo(t,e){for(let i=function(t){return function(t){ro.key=0,ro.keyEnd=0,ro.value=0,ro.valueEnd=0,ro.textEnd=t.length}(t),lo(t,ao(t,0,ro.textEnd))}(e);i>=0;i=lo(e,i))Qi(t,oo(e),!0)}function po(t,e,i,n){const s=Ie(),r=Ae(),o=je(2);r.firstUpdatePass&&go(r,t,o,n),e!==cs&&Pr(s,o,e)&&wo(r,r.data[ei()],s,s[11],t,s[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=it(fn(t)))),t}(e,i),n,o)}function fo(t,e){return e>=t.expandoStartIndex}function go(t,e,i,n){const s=t.data;if(null===s[i+1]){const r=s[ei()],o=fo(t,i);bo(r,n)&&null===e&&!o&&(e=!1),e=function(t,e,i,n){const s=function(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let r=n?e.residualClasses:e.residualStyles;if(null===s)0===(n?e.classBindings:e.styleBindings)&&(i=_o(i=mo(null,t,e,i,n),e.attrs,n),r=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==s)if(i=mo(s,t,e,i,n),null===r){let i=function(t,e,i){const n=i?e.classBindings:e.styleBindings;if(0!==gs(n))return t[ps(n)]}(t,e,n);void 0!==i&&Array.isArray(i)&&(i=mo(null,t,e,i[1],n),i=_o(i,e.attrs,n),function(t,e,i,n){t[ps(i?e.classBindings:e.styleBindings)]=n}(t,e,n,i))}else r=function(t,e,i){let n;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)n=_o(n,t[r].hostAttrs,i);return _o(n,e.attrs,i)}(t,e,n)}return void 0!==r&&(n?e.residualClasses=r:e.residualStyles=r),i}(s,r,e,n),function(t,e,i,n,s,r){let o=r?e.classBindings:e.styleBindings,l=ps(o),a=gs(o);t[n]=i;let c,h=!1;if(Array.isArray(i)){const t=i;c=t[1],(null===c||Ji(t,c)>0)&&(h=!0)}else c=i;if(s)if(0!==a){const e=ps(t[l+1]);t[n+1]=ds(e,l),0!==e&&(t[e+1]=ms(t[e+1],n)),t[l+1]=131071&t[l+1]|n<<17}else t[n+1]=ds(l,0),0!==l&&(t[l+1]=ms(t[l+1],n)),l=n;else t[n+1]=ds(a,0),0===l?l=n:t[a+1]=ms(t[a+1],n),a=n;h&&(t[n+1]=fs(t[n+1])),no(t,c,n,!0),no(t,c,n,!1),function(t,e,i,n,s){const r=s?t.residualClasses:t.residualStyles;null!=r&&"string"==typeof e&&Ji(r,e)>=0&&(i[n+1]=_s(i[n+1]))}(e,c,t,n,r),o=ds(l,a),r?e.classBindings=o:e.styleBindings=o}(s,r,e,i,o,n)}}function mo(t,e,i,n,s){let r=null;const o=i.directiveEnd;let l=i.directiveStylingLast;for(-1===l?l=i.directiveStart:l++;l<o&&(r=e[l],n=_o(n,r.hostAttrs,s),r!==t);)l++;return null!==t&&(i.directiveStylingLast=l),n}function _o(t,e,i){const n=i?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qi(t,o,!!i||e[++r]))}return void 0===t?null:t}function wo(t,e,i,n,s,r,o,l){if(!(3&e.type))return;const a=t.data,c=a[l+1];vo(1==(1&c)?yo(a,e,i,s,gs(c),o):void 0)||(vo(r)||2==(2&c)&&(r=yo(a,null,i,s,l,o)),function(t,e,i,n,s){const r=ge(t);if(e)s?r?t.addClass(i,n):i.classList.add(n):r?t.removeClass(i,n):i.classList.remove(n);else{let e=-1===n.indexOf("-")?void 0:Sn.DashCase;if(null==s)r?t.removeStyle(i,n,e):i.style.removeProperty(n);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),e|=Sn.Important),r?t.setStyle(i,n,s,e):i.style.setProperty(n,s,o?"important":"")}}}(n,o,we(ei(),i),s,r))}function yo(t,e,i,n,s,r){const o=null===e;let l;for(;s>0;){const e=t[s],r=Array.isArray(e),a=r?e[1]:e,c=null===a;let h=i[s+1];h===cs&&(h=c?Ft:void 0);let u=c?Yi(h,n):a===n?h:void 0;if(r&&!vo(u)&&(u=Yi(e,n)),vo(u)&&(l=u,o))return l;const d=t[s+1];s=o?ps(d):gs(d)}if(null!==e){let t=r?e.residualClasses:e.residualStyles;null!=t&&(l=Yi(t,n))}return l}function vo(t){return void 0!==t}function bo(t,e){return 0!=(t.flags&(e?16:32))}function Co(t,e=""){const i=Ie(),n=Ae(),s=t+Xt,r=n.firstCreatePass?vs(n,s,1,e,null):n.data[s],o=i[s]=function(t,e){return ge(t)?t.createText(e):t.createTextNode(e)}(i[11],e);jn(n,i,o,r),Ne(r,!1)}function So(t){return xo("",t,""),So}function xo(t,e,i){const n=Ie(),s=function(t,e,i,n){return Pr(t,ze(),i)?e+ct(i)+n:cs}(n,t,e,i);return s!==cs&&function(t,e,i){const n=we(e,t);!function(t,e,i){ge(t)?t.setValue(e,i):e.textContent=i}(t[11],n,i)}(n,ei(),s),xo}function Ro(t,e,i){const n=Ie();return Pr(n,ze(),e)&&Ps(Ae(),ni(),n,t,e,n[11],i,!0),Ro}const Do=void 0;var ko=["en",[["a","p"],["AM","PM"],Do],[["AM","PM"],Do,Do],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Do,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Do,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Do,"{1} 'at' {0}",Do],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Eo={};function To(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let i=Io(e);if(i)return i;const n=e.split("-")[0];if(i=Io(n),i)return i;if("en"===n)return ko;throw new Error(`Missing locale data for the locale "${t}".`)}function Io(t){return t in Eo||(Eo[t]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[t]),Eo[t]}var Ao=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Oo="en-US";let Po=Oo;function Fo(t){var e,i;i="Expected localeId to be defined",null==(e=t)&&function(t,e,i,n){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(i,e),"string"==typeof t&&(Po=t.toLowerCase().replace(/_/g,"-"))}function No(t,e,i,n,s){if(t=ot(t),Array.isArray(t))for(let r=0;r<t.length;r++)No(t[r],e,i,n,s);else{const r=Ae(),o=Ie();let l=wr(t)?t:ot(t.provide),a=gr(t);const c=Pe(),h=1048575&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>20;if(wr(t)||!t.multi){const n=new ui(a,s,Vr),p=Vo(l,e,s?h:h+d,u);-1===p?(ki(Si(c,o),r,l),Mo(r,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),i.push(n),o.push(n)):(i[p]=n,o[p]=n)}else{const p=Vo(l,e,h+d,u),f=Vo(l,e,h,h+d),g=p>=0&&i[p],m=f>=0&&i[f];if(s&&!m||!s&&!g){ki(Si(c,o),r,l);const h=function(t,e,i,n,s){const r=new ui(t,i,Vr);return r.multi=[],r.index=e,r.componentProviders=0,Lo(r,s,n&&!i),r}(s?Bo:Ho,i.length,s,n,a);!s&&m&&(i[f].providerFactory=h),Mo(r,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),i.push(h),o.push(h)}else Mo(r,t,p>-1?p:f,Lo(i[s?f:p],a,!s&&n));!s&&n&&m&&i[f].componentProviders++}}}function Mo(t,e,i,n){const s=wr(e);if(s||e.useClass){const r=(e.useClass||e).prototype.ngOnDestroy;if(r){const o=t.destroyHooks||(t.destroyHooks=[]);if(!s&&e.multi){const t=o.indexOf(i);-1===t?o.push(i,[n,r]):o[t+1].push(n,r)}else o.push(i,r)}}}function Lo(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function Vo(t,e,i,n){for(let s=i;s<n;s++)if(e[s]===t)return s;return-1}function Ho(t,e,i,n){return zo(this.multi,[])}function Bo(t,e,i,n){const s=this.multi;let r;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ni(i,i[1],this.providerFactory.index,n);r=e.slice(0,t),zo(s,r);for(let i=t;i<e.length;i++)r.push(e[i])}else r=[],zo(s,r);return r}function zo(t,e){for(let i=0;i<t.length;i++)e.push((0,t[i])());return e}function jo(t,e=[]){return i=>{i.providersResolver=(i,n)=>function(t,e,i){const n=Ae();if(n.firstCreatePass){const s=oe(t);No(i,n.data,n.blueprint,s,!0),No(e,n.data,n.blueprint,s,!1)}}(i,n?n(t):t,e)}}class $o{}class Wo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${it(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Go=(()=>{class t{}return t.NULL=new Wo,t})();function Uo(...t){}function qo(t,e){return new Ko(ye(t,e))}const Zo=function(){return qo(Pe(),Ie())};let Ko=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Zo,t})();function Qo(t){return t instanceof Ko?t.nativeElement:t}class Yo{}let Jo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=function(){const t=Ie(),e=Ce(Pe().index,t);return function(t){return t[11]}(ee(e)?e:t)};let tl=(()=>{class t{}return t.\u0275prov=dt({token:t,providedIn:"root",factory:()=>null}),t})();class el{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const il=new el("12.0.1");class nl{constructor(){}supports(t){return Ir(t)}create(t){return new rl(t)}}const sl=(t,e)=>e;class rl{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||sl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,n=0,s=null;for(;e||i;){const r=!i||e&&e.currentIndex<cl(i,n,s)?e:i,o=cl(r,n,s),l=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(e=e._next,null==r.previousIndex)n++;else{s||(s=[]);const t=o-n,e=l-n;if(t!=e){for(let i=0;i<t;i++){const n=i<s.length?s[i]:s[i]=0,r=n+i;e<=r&&r<t&&(s[i]=n+1)}s[r.previousIndex]=e-t}}o!==l&&t(r,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ir(t))throw new Error(`Error trying to diff '${it(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,i,n,s=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=t[e],n=this._trackByFn(e,i),null!==s&&Object.is(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,i,n,e)),Object.is(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,n,e),r=!0),s=s._next}else e=0,function(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{const i=t[Er()]();let n;for(;!(n=i.next()).done;)e(n.value)}}(t,t=>{n=this._trackByFn(e,t),null!==s&&Object.is(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,t,n,e)),Object.is(s.item,t)||this._addIdentityChange(s,t)):(s=this._mismatch(s,t,n,e),r=!0),s=s._next,e++}),this.length=e;return this._truncate(s),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,n){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,n)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,n)):t=this._addAfter(new ol(e,i),s,n),t}_verifyReinsertion(t,e,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const n=t._prevRemoved,s=t._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new al),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new al),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ol{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ll{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class al{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new ll,this.map.set(e,i)),i.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cl(t,e,i){const n=t.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+e+s}class hl{constructor(){}supports(t){return t instanceof Map||Ar(t)}create(){return new ul}}class ul{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ar(t)))throw new Error(`Error trying to diff '${it(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const n=this._getOrCreateRecordForKey(i,t);e=this._insertBeforeOrAppend(e,n)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const n=i._prev,s=i._next;return n&&(n._next=s),s&&(s._prev=n),i._next=null,i._prev=null,i}const i=new dl(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class dl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pl(){return new fl([new nl])}let fl=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(null!=i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||pl()),deps:[[t,new pn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${i=t,i.name||typeof i}'`);var i}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:pl}),t})();function gl(){return new ml([new hl])}let ml=(()=>{class t{constructor(t){this.factories=t}static create(e,i){if(i){const t=i.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||gl()),deps:[[t,new pn,new dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:gl}),t})();function _l(t,e,i,n,s=!1){for(;null!==i;){const r=e[i.index];if(null!==r&&n.push(_e(r)),ie(r))for(let t=te;t<r.length;t++){const e=r[t],i=e[1].firstChild;null!==i&&_l(e[1],e,i,n)}const o=i.type;if(8&o)_l(t,e,i.child,n);else if(32&o){const t=xn(i,e);let s;for(;s=t();)n.push(s)}else if(16&o){const t=Wn(e,i);if(Array.isArray(t))n.push(...t);else{const i=Rn(e[16]);_l(i[1],i,t,n,!0)}}i=s?i.projectionNext:i.next}return n}class wl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return _l(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ie(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(On(t,i),Zi(e,i))}this._attachedToViewContainer=!1}Pn(this._lView[1],this._lView)}onDestroy(t){As(this._lView[1],this._lView,null,t)}markForCheck(){Ks(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,i){He(!0);try{Qs(t,e,i)}finally{He(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qn(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class yl extends wl{constructor(t){super(t),this._view=t}detectChanges(){Ys(this._view)}checkNoChanges(){!function(t){He(!0);try{Ys(t)}finally{He(!1)}}(this._view)}get context(){return null}}const vl=function(t){return function(t,e,i){if(se(t)&&!i){const i=Ce(t.index,e);return new wl(i,i)}return 47&t.type?new wl(e[16],e):null}(Pe(),Ie(),16==(16&t))};let bl=(()=>{class t{}return t.__NG_ELEMENT_ID__=vl,t})();const Cl=[new hl],Sl=new fl([new nl]),xl=new ml(Cl),Rl=function(){return Tl(Pe(),Ie())};let Dl=(()=>{class t{}return t.__NG_ELEMENT_ID__=Rl,t})();const kl=Dl,El=class extends kl{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ys(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(i[19]=n.createEmbeddedView(e)),Cs(e,i,t),new wl(i)}};function Tl(t,e){return 4&t.type?new El(e,t,qo(t,e)):null}class Il{}const Al=function(){return Ll(Pe(),Ie())};let Ol=(()=>{class t{}return t.__NG_ELEMENT_ID__=Al,t})();const Pl=Ol,Fl=class extends Pl{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Di(this._hostTNode,this._hostLView);if(_i(t)){const e=yi(t,this._hostLView),i=wi(t);return new Vi(e[1].data[i+8],e)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Nl(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-te}createEmbeddedView(t,e,i){const n=t.createEmbeddedView(e||{});return this.insert(n,i),n}createComponent(t,e,i,n,s){const r=i||this.parentInjector;if(!s&&null==t.ngModule&&r){const t=r.get(Il,null);t&&(s=t)}const o=t.create(r,n,void 0,s);return this.insert(o.hostView,e),o}insert(t,e){const i=t._lView,n=i[1];if(ie(i[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=i[3],n=new Fl(e,e[6],e[3]);n.detach(n.indexOf(t))}}const s=this._adjustIndex(e),r=this._lContainer;!function(t,e,i,n){const s=te+n,r=i.length;n>0&&(i[s-1][4]=e),n<r-te?(e[4]=i[s],qi(i,te+n,e)):(i.push(e),e[4]=null),e[3]=i;const o=e[17];null!==o&&i!==o&&function(t,e){const i=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===i?t[9]=[e]:i.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(t),e[2]|=128}(n,i,r,s);const o=Gn(s,r),l=i[11],a=Hn(l,r[7]);return null!==a&&function(t,e,i,n,s,r){n[0]=s,n[6]=e,qn(t,n,i,1,s,r)}(n,r[6],l,i,a,o),t.attachToViewContainerRef(),qi(Ml(r),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Nl(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=On(this._lContainer,e);i&&(Zi(Ml(this._lContainer),e),Pn(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=On(this._lContainer,e);return i&&null!=Zi(Ml(this._lContainer),e)?new wl(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Nl(t){return t[8]}function Ml(t){return t[8]||(t[8]=[])}function Ll(t,e){let i;const n=e[t.index];if(ie(n))i=n;else{let s;if(8&t.type)s=_e(n);else{const i=e[11];s=i.createComment("");const n=ye(t,e);Mn(i,Hn(i,n),s,function(t,e){return ge(t)?t.nextSibling(e):e.nextSibling}(i,n),!1)}e[t.index]=i=Ws(n,e,s,t),Zs(e,i)}return new Fl(i,t,e)}const Vl={};class Hl extends Go{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Yt(t);return new jl(e,this.ngModule)}}function Bl(t){const e=[];for(let i in t)t.hasOwnProperty(i)&&e.push({propName:t[i],templateName:i});return e}const zl=new Wi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>bn});class jl extends $o{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(as).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Bl(this.componentDef.inputs)}get outputs(){return Bl(this.componentDef.outputs)}create(t,e,i,n){const s=(n=n||this.ngModule)?function(t,e){return{get:(i,n,s)=>{const r=t.get(i,Vl,s);return r!==Vl||n===Vl?r:e.get(i,n,s)}}}(t,n.injector):t,r=s.get(Yo,me),o=s.get(tl,null),l=r.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=i?function(t,e,i){if(ge(t))return t.selectRootElement(e,i===kt.ShadowDom);let n="string"==typeof e?t.querySelector(e):e;return n.textContent="",n}(l,i,this.componentDef.encapsulation):In(r.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:bn,clean:Xs,playerHandler:null,flags:0},d=Is(0,null,null,1,0,null,null,null,null,null),p=ys(null,d,u,h,null,null,r,l,o,s);let f,g;Ke(p);try{const t=function(t,e,i,n,s,r){const o=i[1];i[20]=t;const l=vs(o,20,2,"#host",null),a=l.mergedAttrs=e.hostAttrs;null!==a&&(sr(l,a,!0),null!==t&&(di(s,t,a),null!==l.classes&&Qn(s,t,l.classes),null!==l.styles&&Kn(s,t,l.styles)));const c=n.createRenderer(t,e),h=ys(i,Ts(e),null,e.onPush?64:16,i[20],l,n,c,null,null);return o.firstCreatePass&&(ki(Si(l,i),o,e.type),Ls(o,l),Hs(l,i.length,1)),Zs(i,h),i[20]=h}(c,this.componentDef,p,r,l);if(c)if(i)di(l,c,["ng-version",il.full]);else{const{attrs:t,classes:e}=function(t){const e=[],i=[];let n=1,s=2;for(;n<t.length;){let r=t[n];if("string"==typeof r)2===s?""!==r&&e.push(r,t[++n]):8===s&&i.push(r);else{if(!ns(s))break;s=r}n++}return{attrs:e,classes:i}}(this.componentDef.selectors[0]);t&&di(l,c,t),e&&e.length>0&&Qn(l,c,e.join(" "))}if(g=ve(d,Xt),void 0!==e){const t=g.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=e[i];t.push(null!=n?Array.from(n):null)}}f=function(t,e,i,n,s){const r=i[1],o=function(t,e,i){const n=Pe();t.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Bs(t,n,e,bs(t,e,1,null),i));const s=Ni(e,t,n.directiveStart,n);gn(s,e);const r=ye(n,e);return r&&gn(r,e),s}(r,i,e);if(n.components.push(o),t[8]=o,s&&s.forEach(t=>t(o,e)),e.contentQueries){const t=Pe();e.contentQueries(1,o,t.directiveStart)}const l=Pe();return!r.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ii(l.index),Ns(i[1],l,0,l.directiveStart,l.directiveEnd,e),Ms(e,o)),o}(t,this.componentDef,p,u,[br]),Cs(d,p,null)}finally{ti()}return new $l(this.componentType,f,qo(g,p),p,g)}}class $l extends class{}{constructor(t,e,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new yl(n),this.componentType=t}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Wl=new Map;class Gl extends Il{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hl(this);const i=Jt(t),n=t[Ht]||null;n&&Fo(n),this._bootstrapComponents=Cn(i.bootstrap),this._r3Injector=dr(t,e,[{provide:Il,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],it(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vr.THROW_IF_NOT_FOUND,i=bt.Default){return t===vr||t===Il||t===rr?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ul extends class{}{constructor(t){super(),this.moduleType=t,null!==Jt(t)&&function(t){const e=new Set;!function t(i){const n=Jt(i,!0),s=n.id;null!==s&&(function(t,e,i){if(e&&e!==i)throw new Error(`Duplicate module registered for ${t} - ${it(e)} vs ${it(e.name)}`)}(s,Wl.get(s),i),Wl.set(s,i));const r=Cn(n.imports);for(const o of r)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Gl(this.moduleType,t)}}function ql(t,e,i){const n=Be()+t,s=Ie();return s[n]===cs?Or(s,n,i?e.call(i):e()):function(t,e){return t[e]}(s,n)}function Zl(t,e){const i=t[e];return i===cs?void 0:i}function Kl(t,e){const i=Ae();let n;const s=t+Xt;i.firstCreatePass?(n=function(t,e){if(e)for(let i=e.length-1;i>=0;i--){const n=e[i];if(t===n.name)return n}throw new at("302",`The pipe '${t}' could not be found!`)}(e,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(s,n.onDestroy)):n=i.data[s];const r=n.factory||(n.factory=le(n.type)),o=St(Vr);try{const t=bi(!1),e=r();return bi(t),function(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}(i,Ie(),s,e),e}finally{St(o)}}function Ql(t,e,i){const n=t+Xt,s=Ie(),r=be(s,n);return Xl(s,Jl(s,n)?function(t,e,i,n,s,r){const o=e+i;return Pr(t,o,s)?Or(t,o+1,r?n.call(r,s):n(s)):Zl(t,o+1)}(s,Be(),e,r.transform,i,r):r.transform(i))}function Yl(t,e,i,n){const s=t+Xt,r=Ie(),o=be(r,s);return Xl(r,Jl(r,s)?function(t,e,i,n,s,r,o){const l=e+i;return Fr(t,l,s,r)?Or(t,l+2,o?n.call(o,s,r):n(s,r)):Zl(t,l+2)}(r,Be(),e,o.transform,i,n,o):o.transform(i,n))}function Jl(t,e){return t[1].data[e].pure}function Xl(t,e){return Tr.isWrapped(e)&&(e=Tr.unwrap(e),t[Ee.lFrame.bindingIndex]=cs),e}function ta(t){return e=>{setTimeout(t,void 0,e)}}const ea=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var n,s,r;let o=t,l=e||(()=>null),a=i;if(t&&"object"==typeof t){const e=t;o=null===(n=e.next)||void 0===n?void 0:n.bind(e),l=null===(s=e.error)||void 0===s?void 0:s.bind(e),a=null===(r=e.complete)||void 0===r?void 0:r.bind(e)}this.__isAsync&&(l=ta(l),o&&(o=ta(o)),a&&(a=ta(a)));const c=super.subscribe({next:o,error:l,complete:a});return t instanceof u&&t.add(c),c}};function ia(){return this._results[Er()]()}class na{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Er(),i=na.prototype;i[e]||(i[e]=ia)}get changes(){return this._changes||(this._changes=new ea)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const n=Gi(t);(this._changesDetected=!function(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let s=t[n],r=e[n];if(i&&(s=i(s),r=i(r)),r!==s)return!1}return!0}(i._results,n,e))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class ra{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,n=[];for(let t=0;t<i;t++){const i=e.getByIndex(t);n.push(this.queries[i.indexInDeclarationView].clone())}return new ra(n)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ya(t,e).matches&&this.queries[e].setDirty()}}class oa{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class la{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const n=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,n);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new la(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class aa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new aa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const s=i[n];this.matchTNodeWithReadOption(t,e,ca(e,s)),this.matchTNodeWithReadOption(t,e,Fi(e,t,s,!1,!1))}else i===Dl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Fi(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Ko||n===Ol||n===Dl&&4&e.type)this.addMatch(e.index,-2);else{const i=Fi(e,t,n,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ca(t,e){const i=t.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1];return null}function ha(t,e,i,n){return-1===i?function(t,e){return 11&t.type?qo(t,e):4&t.type?Tl(t,e):null}(e,t):-2===i?function(t,e,i){return i===Ko?qo(e,t):i===Dl?Tl(e,t):i===Ol?Ll(e,t):void 0}(t,e,n):Ni(t,t[1],i,e)}function ua(t,e,i,n){const s=e[19].queries[n];if(null===s.matches){const n=t.data,r=i.matches,o=[];for(let t=0;t<r.length;t+=2){const s=r[t];o.push(s<0?null:ha(e,n[s],r[t+1],i.metadata.read))}s.matches=o}return s.matches}function da(t,e,i,n){const s=t.queries.getByIndex(i),r=s.matches;if(null!==r){const o=ua(t,e,s,i);for(let t=0;t<r.length;t+=2){const i=r[t];if(i>0)n.push(o[t/2]);else{const s=r[t+1],o=e[-i];for(let t=te;t<o.length;t++){const e=o[t];e[17]===e[3]&&da(e[1],e,s,n)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const i=t[e];da(i[1],i,s,n)}}}}}return n}function pa(t){const e=Ie(),i=Ae(),n=Ge();Ue(n+1);const s=ya(i,n);if(t.dirty&&Se(e)===(2==(2&s.metadata.flags))){if(null===s.matches)t.reset([]);else{const r=s.crossesNgTemplate?da(i,e,n,[]):ua(i,e,s,n);t.reset(r,Qo),t.notifyOnChanges()}return!0}return!1}function fa(t,e,i){const n=Ae();n.firstCreatePass&&(wa(n,new oa(t,e,i),-1),2==(2&e)&&(n.staticViewQueries=!0)),_a(n,Ie(),e)}function ga(t,e,i,n){const s=Ae();if(s.firstCreatePass){const r=Pe();wa(s,new oa(e,i,n),r.index),function(t,e){const i=t.contentQueries||(t.contentQueries=[]);e!==(i.length?i[i.length-1]:-1)&&i.push(t.queries.length-1,e)}(s,t),2==(2&i)&&(s.staticContentQueries=!0)}_a(s,Ie(),i)}function ma(){return t=Ie(),e=Ge(),t[19].queries[e].queryList;var t,e}function _a(t,e,i){const n=new na(4==(4&i));As(t,e,n,n.destroy),null===e[19]&&(e[19]=new ra),e[19].queries.push(new sa(n))}function wa(t,e,i){null===t.queries&&(t.queries=new la),t.queries.track(new aa(e,i))}function ya(t,e){return t.queries.getByIndex(e)}function va(t,e){return Tl(t,e)}const ba=new Wi("Application Initializer");let Ca=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Uo,this.reject=Uo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const e=this.appInits[i]();if(qr(e))t.push(e);else if(Kr(e)){const i=new Promise((t,i)=>{e.subscribe({complete:t,error:i})});t.push(i)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ln(ba,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Sa=new Wi("AppId"),xa={provide:Sa,useFactory:function(){return`${Ra()}${Ra()}${Ra()}`},deps:[]};function Ra(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Da=new Wi("Platform Initializer"),ka=new Wi("Platform ID"),Ea=new Wi("appBootstrapListener");let Ta=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Ia=new Wi("LocaleId"),Aa=new Wi("DefaultCurrencyCode");class Oa{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pa=function(t){return new Ul(t)},Fa=Pa,Na=function(t){return Promise.resolve(Pa(t))},Ma=function(t){const e=Pa(t),i=Cn(Jt(t).declarations).reduce((t,e)=>{const i=Yt(e);return i&&t.push(new jl(i)),t},[]);return new Oa(e,i)},La=Ma,Va=function(t){return Promise.resolve(Ma(t))};let Ha=(()=>{class t{constructor(){this.compileModuleSync=Fa,this.compileModuleAsync=Na,this.compileModuleAndAllComponentsSync=La,this.compileModuleAndAllComponentsAsync=Va}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Ba=(()=>Promise.resolve(0))();function za(t){"undefined"==typeof Zone?Ba.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ja{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&e,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=Ot.requestAnimationFrame,e=Ot.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ga(t),t.isCheckStableRunning=!0,Wa(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ga(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,s,r,o,l)=>{try{return Ua(t),i.invokeTask(s,r,o,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||t.shouldCoalesceRunChangeDetection)&&e(),qa(t)}},onInvoke:(i,n,s,r,o,l,a)=>{try{return Ua(t),i.invoke(s,r,o,l,a)}finally{t.shouldCoalesceRunChangeDetection&&e(),qa(t)}},onHasTask:(e,i,n,s)=>{e.hasTask(n,s),i===n&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ga(t),Wa(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,n,s)=>(e.handleError(n,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,n){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+n,t,$a,Uo,Uo);try{return s.runTask(r,e,i)}finally{s.cancelTask(r)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const $a={};function Wa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ga(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ua(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qa(t){t._nesting--,Wa(t)}class Za{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,n){return t.apply(e,i)}}let Ka=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),za(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())za(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,i){let n=-1;e&&e>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:n,updateCb:i})}whenStable(t,e,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,i){return[]}}return t.\u0275fac=function(e){return new(e||t)(ln(ja))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Qa=(()=>{class t{constructor(){this._applications=new Map,Xa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Ya{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Ja,Xa=new Ya,tc=!0,ec=!1;function ic(){return ec=!0,tc}const nc=new Wi("AllowMultipleToken");function sc(t,e,i=[]){const n=`Platform: ${e}`,s=new Wi(n);return(e=[])=>{let r=rc();if(!r||r.injector.get(nc,!1))if(t)t(i.concat(e).concat({provide:s,useValue:!0}));else{const t=i.concat(e).concat({provide:s,useValue:!0},{provide:lr,useValue:"platform"});!function(t){if(Ja&&!Ja.destroyed&&!Ja.injector.get(nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ja=t.get(oc);const e=t.get(Da,null);e&&e.forEach(t=>t())}(vr.create({providers:t,name:n}))}return function(t){const e=rc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function rc(){return Ja&&!Ja.destroyed?Ja:null}let oc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const i=function(t,e){let i;return i="noop"===t?new Za:("zone.js"===t?void 0:t)||new ja({enableLongStackTrace:ic(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),i}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),n=[{provide:ja,useValue:i}];return i.run(()=>{const e=vr.create({providers:n,parent:this.injector,name:t.moduleType.name}),s=t.create(e),r=s.injector.get(vn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(()=>{const t=i.onError.subscribe({next:t=>{r.handleError(t)}});s.onDestroy(()=>{cc(this._modules,s),t.unsubscribe()})}),function(t,e,i){try{const n=i();return qr(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}(r,i,()=>{const t=s.injector.get(Ca);return t.runInitializers(),t.donePromise.then(()=>(Fo(s.injector.get(Ia,Oo)||Oo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const i=lc({},e);return function(t,e,i){const n=new Ul(i);return Promise.resolve(n)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,i))}_moduleDoBootstrap(t){const e=t.injector.get(ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${it(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ln(vr))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function lc(t,e){return Array.isArray(e)?e.reduce(lc,t):Object.assign(Object.assign({},t),e)}let ac=(()=>{class t{constructor(t,e,i,n,s){this._zone=t,this._injector=e,this._exceptionHandler=i,this._componentFactoryResolver=n,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ja.assertNotInAngularZone(),za(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),i.unsubscribe()}});this.isStable=G(r,o.pipe(X()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=t instanceof $o?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(i.componentType);const n=i.isBoundToModule?void 0:this._injector.get(Il),s=i.create(vr.NULL,[],e||i.selector,n),r=s.location.nativeElement,o=s.injector.get(Ka,null),l=o&&s.injector.get(Qa);return o&&l&&l.registerApplication(r,o),s.onDestroy(()=>{this.detachView(s.hostView),cc(this.components,s),l&&l.unregisterApplication(r)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ea,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ln(ja),ln(vr),ln(vn),ln(Go),ln(Ca))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function cc(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const hc=sc(null,"core",[{provide:ka,useValue:"unknown"},{provide:oc,deps:[vr]},{provide:Qa,deps:[]},{provide:Ta,deps:[]}]),uc=[{provide:ac,useClass:ac,deps:[ja,vr,vn,Go,Ca]},{provide:zl,deps:[ja],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ca,useClass:Ca,deps:[[new dn,ba]]},{provide:Ha,useClass:Ha,deps:[]},xa,{provide:fl,useFactory:function(){return Sl},deps:[]},{provide:ml,useFactory:function(){return xl},deps:[]},{provide:Ia,useFactory:function(t){return Fo(t=t||"undefined"!=typeof $localize&&$localize.locale||Oo),t},deps:[[new un(Ia),new dn,new pn]]},{provide:Aa,useValue:"USD"}];let dc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(ln(ac))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:uc}),t})(),pc=null;function fc(){return pc}const gc=new Wi("DocumentToken"),mc={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var _c=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),wc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),yc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),vc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),bc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Cc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function Sc(t,e){return Tc(To(t)[Ao.DateFormat],e)}function xc(t,e){return Tc(To(t)[Ao.TimeFormat],e)}function Rc(t,e){return Tc(To(t)[Ao.DateTimeFormat],e)}function Dc(t,e){const i=To(t),n=i[Ao.NumberSymbols][e];if(void 0===n){if(e===Cc.CurrencyDecimal)return i[Ao.NumberSymbols][Cc.Decimal];if(e===Cc.CurrencyGroup)return i[Ao.NumberSymbols][Cc.Group]}return n}function kc(t,e){return To(t)[Ao.NumberFormats][e]}function Ec(t){if(!t[Ao.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ao.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tc(t,e){for(let i=e;i>-1;i--)if(void 0!==t[i])return t[i];throw new Error("Locale data API: locale data undefined")}function Ic(t){const[e,i]=t.split(":");return{hours:+e,minutes:+i}}const Ac=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oc={},Pc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Fc=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Nc=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Mc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Lc(t,e,i,n){let s=function(t){if(Qc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,i=1,n=1]=t.split("-").map(t=>+t);return Vc(e,i-1,n)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(Ac))return function(t){const e=new Date(0);let i=0,n=0;const s=t[8]?e.setUTCFullYear:e.setFullYear,r=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),s.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-i,l=Number(t[5]||0)-n,a=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return r.call(e,o,l,a,c),e}(i)}const e=new Date(t);if(!Qc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Hc(i,e)||e;let r,o=[];for(;e;){if(r=Pc.exec(e),!r){o.push(e);break}{o=o.concat(r.slice(1));const t=o.pop();if(!t)break;e=t}}let l=s.getTimezoneOffset();n&&(l=Kc(n,l),s=function(t,e,i){const n=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Kc(e,n)-n))}(s,n));let a="";return o.forEach(t=>{const e=function(t){if(Zc[t])return Zc[t];let e;switch(t){case"G":case"GG":case"GGG":e=$c(Mc.Eras,vc.Abbreviated);break;case"GGGG":e=$c(Mc.Eras,vc.Wide);break;case"GGGGG":e=$c(Mc.Eras,vc.Narrow);break;case"y":e=jc(Nc.FullYear,1,0,!1,!0);break;case"yy":e=jc(Nc.FullYear,2,0,!0,!0);break;case"yyy":e=jc(Nc.FullYear,3,0,!1,!0);break;case"yyyy":e=jc(Nc.FullYear,4,0,!1,!0);break;case"Y":e=qc(1);break;case"YY":e=qc(2,!0);break;case"YYY":e=qc(3);break;case"YYYY":e=qc(4);break;case"M":case"L":e=jc(Nc.Month,1,1);break;case"MM":case"LL":e=jc(Nc.Month,2,1);break;case"MMM":e=$c(Mc.Months,vc.Abbreviated);break;case"MMMM":e=$c(Mc.Months,vc.Wide);break;case"MMMMM":e=$c(Mc.Months,vc.Narrow);break;case"LLL":e=$c(Mc.Months,vc.Abbreviated,yc.Standalone);break;case"LLLL":e=$c(Mc.Months,vc.Wide,yc.Standalone);break;case"LLLLL":e=$c(Mc.Months,vc.Narrow,yc.Standalone);break;case"w":e=Uc(1);break;case"ww":e=Uc(2);break;case"W":e=Uc(1,!0);break;case"d":e=jc(Nc.Date,1);break;case"dd":e=jc(Nc.Date,2);break;case"c":case"cc":e=jc(Nc.Day,1);break;case"ccc":e=$c(Mc.Days,vc.Abbreviated,yc.Standalone);break;case"cccc":e=$c(Mc.Days,vc.Wide,yc.Standalone);break;case"ccccc":e=$c(Mc.Days,vc.Narrow,yc.Standalone);break;case"cccccc":e=$c(Mc.Days,vc.Short,yc.Standalone);break;case"E":case"EE":case"EEE":e=$c(Mc.Days,vc.Abbreviated);break;case"EEEE":e=$c(Mc.Days,vc.Wide);break;case"EEEEE":e=$c(Mc.Days,vc.Narrow);break;case"EEEEEE":e=$c(Mc.Days,vc.Short);break;case"a":case"aa":case"aaa":e=$c(Mc.DayPeriods,vc.Abbreviated);break;case"aaaa":e=$c(Mc.DayPeriods,vc.Wide);break;case"aaaaa":e=$c(Mc.DayPeriods,vc.Narrow);break;case"b":case"bb":case"bbb":e=$c(Mc.DayPeriods,vc.Abbreviated,yc.Standalone,!0);break;case"bbbb":e=$c(Mc.DayPeriods,vc.Wide,yc.Standalone,!0);break;case"bbbbb":e=$c(Mc.DayPeriods,vc.Narrow,yc.Standalone,!0);break;case"B":case"BB":case"BBB":e=$c(Mc.DayPeriods,vc.Abbreviated,yc.Format,!0);break;case"BBBB":e=$c(Mc.DayPeriods,vc.Wide,yc.Format,!0);break;case"BBBBB":e=$c(Mc.DayPeriods,vc.Narrow,yc.Format,!0);break;case"h":e=jc(Nc.Hours,1,-12);break;case"hh":e=jc(Nc.Hours,2,-12);break;case"H":e=jc(Nc.Hours,1);break;case"HH":e=jc(Nc.Hours,2);break;case"m":e=jc(Nc.Minutes,1);break;case"mm":e=jc(Nc.Minutes,2);break;case"s":e=jc(Nc.Seconds,1);break;case"ss":e=jc(Nc.Seconds,2);break;case"S":e=jc(Nc.FractionalSeconds,1);break;case"SS":e=jc(Nc.FractionalSeconds,2);break;case"SSS":e=jc(Nc.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Wc(Fc.Short);break;case"ZZZZZ":e=Wc(Fc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Wc(Fc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Wc(Fc.Long);break;default:return null}return Zc[t]=e,e}(t);a+=e?e(s,i,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}function Vc(t,e,i){const n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function Hc(t,e){const i=function(t){return To(t)[Ao.LocaleId]}(t);if(Oc[i]=Oc[i]||{},Oc[i][e])return Oc[i][e];let n="";switch(e){case"shortDate":n=Sc(t,bc.Short);break;case"mediumDate":n=Sc(t,bc.Medium);break;case"longDate":n=Sc(t,bc.Long);break;case"fullDate":n=Sc(t,bc.Full);break;case"shortTime":n=xc(t,bc.Short);break;case"mediumTime":n=xc(t,bc.Medium);break;case"longTime":n=xc(t,bc.Long);break;case"fullTime":n=xc(t,bc.Full);break;case"short":const e=Hc(t,"shortTime"),i=Hc(t,"shortDate");n=Bc(Rc(t,bc.Short),[e,i]);break;case"medium":const s=Hc(t,"mediumTime"),r=Hc(t,"mediumDate");n=Bc(Rc(t,bc.Medium),[s,r]);break;case"long":const o=Hc(t,"longTime"),l=Hc(t,"longDate");n=Bc(Rc(t,bc.Long),[o,l]);break;case"full":const a=Hc(t,"fullTime"),c=Hc(t,"fullDate");n=Bc(Rc(t,bc.Full),[a,c])}return n&&(Oc[i][e]=n),n}function Bc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),t}function zc(t,e,i="-",n,s){let r="";(t<0||s&&t<=0)&&(s?t=1-t:(t=-t,r=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.substr(o.length-e)),r+o}function jc(t,e,i=0,n=!1,s=!1){return function(r,o){let l=function(t,e){switch(t){case Nc.FullYear:return e.getFullYear();case Nc.Month:return e.getMonth();case Nc.Date:return e.getDate();case Nc.Hours:return e.getHours();case Nc.Minutes:return e.getMinutes();case Nc.Seconds:return e.getSeconds();case Nc.FractionalSeconds:return e.getMilliseconds();case Nc.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,r);if((i>0||l>-i)&&(l+=i),t===Nc.Hours)0===l&&-12===i&&(l=12);else if(t===Nc.FractionalSeconds)return a=e,zc(l,3).substr(0,a);var a;const c=Dc(o,Cc.MinusSign);return zc(l,e,c,n,s)}}function $c(t,e,i=yc.Format,n=!1){return function(s,r){return function(t,e,i,n,s,r){switch(i){case Mc.Months:return function(t,e,i){const n=To(t),s=Tc([n[Ao.MonthsFormat],n[Ao.MonthsStandalone]],e);return Tc(s,i)}(e,s,n)[t.getMonth()];case Mc.Days:return function(t,e,i){const n=To(t),s=Tc([n[Ao.DaysFormat],n[Ao.DaysStandalone]],e);return Tc(s,i)}(e,s,n)[t.getDay()];case Mc.DayPeriods:const o=t.getHours(),l=t.getMinutes();if(r){const t=function(t){const e=To(t);return Ec(e),(e[Ao.ExtraData][2]||[]).map(t=>"string"==typeof t?Ic(t):[Ic(t[0]),Ic(t[1])])}(e),i=function(t,e,i){const n=To(t);Ec(n);const s=Tc([n[Ao.ExtraData][0],n[Ao.ExtraData][1]],e)||[];return Tc(s,i)||[]}(e,s,n),r=t.findIndex(t=>{if(Array.isArray(t)){const[e,i]=t,n=o>=e.hours&&l>=e.minutes,s=o<i.hours||o===i.hours&&l<i.minutes;if(e.hours<i.hours){if(n&&s)return!0}else if(n||s)return!0}else if(t.hours===o&&t.minutes===l)return!0;return!1});if(-1!==r)return i[r]}return function(t,e,i){const n=To(t),s=Tc([n[Ao.DayPeriodsFormat],n[Ao.DayPeriodsStandalone]],e);return Tc(s,i)}(e,s,n)[o<12?0:1];case Mc.Eras:return function(t,e){return Tc(To(t)[Ao.Eras],e)}(e,n)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${i}`)}}(s,r,t,e,i,n)}}function Wc(t){return function(e,i,n){const s=-1*n,r=Dc(i,Cc.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(t){case Fc.Short:return(s>=0?"+":"")+zc(o,2,r)+zc(Math.abs(s%60),2,r);case Fc.ShortGMT:return"GMT"+(s>=0?"+":"")+zc(o,1,r);case Fc.Long:return"GMT"+(s>=0?"+":"")+zc(o,2,r)+":"+zc(Math.abs(s%60),2,r);case Fc.Extended:return 0===n?"Z":(s>=0?"+":"")+zc(o,2,r)+":"+zc(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${t}"`)}}}function Gc(t){return Vc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Uc(t,e=!1){return function(i,n){let s;if(e){const t=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,e=i.getDate();s=1+Math.floor((e+t)/7)}else{const t=Gc(i),e=function(t){const e=Vc(t,0,1).getDay();return Vc(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),n=t.getTime()-e.getTime();s=1+Math.round(n/6048e5)}return zc(s,t,Dc(n,Cc.MinusSign))}}function qc(t,e=!1){return function(i,n){return zc(Gc(i).getFullYear(),t,Dc(n,Cc.MinusSign),e)}}const Zc={};function Kc(t,e){t=t.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function Qc(t){return t instanceof Date&&!isNaN(t.valueOf())}const Yc=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Jc=".",Xc="0";function th(t,e,i,n,s,r,o=!1){let l="",a=!1;if(isFinite(t)){let c=function(t){let e,i,n,s,r,o=Math.abs(t)+"",l=0;for((i=o.indexOf(Jc))>-1&&(o=o.replace(Jc,"")),(n=o.search(/e/i))>0?(i<0&&(i=n),i+=+o.slice(n+1),o=o.substring(0,n)):i<0&&(i=o.length),n=0;o.charAt(n)===Xc;n++);if(n===(r=o.length))e=[0],i=1;else{for(r--;o.charAt(r)===Xc;)r--;for(i-=n,e=[],s=0;n<=r;n++,s++)e[s]=Number(o.charAt(n))}return i>22&&(e=e.splice(0,21),l=i-1,i=1),{digits:e,exponent:l,integerLen:i}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let h=e.minInt,u=e.minFrac,d=e.maxFrac;if(r){const t=r.match(Yc);if(null===t)throw new Error(`${r} is not a valid digit info`);const e=t[1],i=t[3],n=t[5];null!=e&&(h=ih(e)),null!=i&&(u=ih(i)),null!=n?d=ih(n):null!=i&&u>d&&(d=u)}!function(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,s=n.length-t.integerLen;const r=Math.min(Math.max(e,s),i);let o=r+t.integerLen,l=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let t=o;t<n.length;t++)n[t]=0}else{s=Math.max(0,s),t.integerLen=1,n.length=Math.max(1,o=r+1),n[0]=0;for(let t=1;t<o;t++)n[t]=0}if(l>=5)if(o-1<0){for(let e=0;e>o;e--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;s<Math.max(0,r);s++)n.push(0);let a=0!==r;const c=e+t.integerLen,h=n.reduceRight(function(t,e,i,n){return n[i]=(e+=t)<10?e:e-10,a&&(0===n[i]&&i>=c?n.pop():a=!1),e>=10?1:0},0);h&&(n.unshift(h),t.integerLen++)}(c,u,d);let p=c.digits,f=c.integerLen;const g=c.exponent;let m=[];for(a=p.every(t=>!t);f<h;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?m=p.splice(f,p.length):(m=p,p=[0]);const _=[];for(p.length>=e.lgSize&&_.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)_.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&_.unshift(p.join("")),l=_.join(Dc(i,n)),m.length&&(l+=Dc(i,s)+m.join("")),g&&(l+=Dc(i,Cc.Exponential)+"+"+g)}else l=Dc(i,Cc.Infinity);return l=t<0&&!a?e.negPre+l+e.negSuf:e.posPre+l+e.posSuf,l}function eh(t,e="-"){const i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(";"),s=n[0],r=n[1],o=-1!==s.indexOf(Jc)?s.split(Jc):[s.substring(0,s.lastIndexOf(Xc)+1),s.substring(s.lastIndexOf(Xc)+1)],l=o[0],a=o[1]||"";i.posPre=l.substr(0,l.indexOf("#"));for(let h=0;h<a.length;h++){const t=a.charAt(h);t===Xc?i.minFrac=i.maxFrac=h+1:"#"===t?i.maxFrac=h+1:i.posSuf+=t}const c=l.split(",");if(i.gSize=c[1]?c[1].length:0,i.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,r){const t=s.length-i.posPre.length-i.posSuf.length,e=r.indexOf("#");i.negPre=r.substr(0,e).replace(/'/g,""),i.negSuf=r.substr(e+t).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function ih(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class nh{}let sh=(()=>{class t extends nh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return To(t)[Ao.PluralCase]}(e||this.locale)(t)){case wc.Zero:return"zero";case wc.One:return"one";case wc.Two:return"two";case wc.Few:return"few";case wc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(ln(Ia))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class rh{constructor(t,e,i,n){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oh=(()=>{class t{constructor(t,e,i){this._viewContainer=t,this._template=e,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${i}' of type '${t=i,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,i,n)=>{if(null==t.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new rh(null,this._ngForOf,-1,-1),null===n?void 0:n),s=new lh(t,i);e.push(s)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const s=this._viewContainer.get(i);this._viewContainer.move(s,n);const r=new lh(t,s);e.push(r)}});for(let i=0;i<e.length;i++)this._perViewChange(e[i].view,e[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const t=this._viewContainer.get(i);t.context.index=i,t.context.count=n,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Dl),Vr(fl))},t.\u0275dir=Kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class lh{constructor(t,e){this.record=t,this.view=e}}let ah=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ch,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hh("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hh("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Dl))},t.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ch{constructor(){this.$implicit=null,this.ngIf=null}}function hh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${it(e)}'.`)}let uh=(()=>{class t{constructor(t,e,i){this._ngEl=t,this._differs=e,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[i,n]=t.split(".");null!=(e=null!=e&&n?`${e}${n}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(ml),Vr(Jo))},t.\u0275dir=Kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),dh=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol))},t.\u0275dir=Kt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ce]}),t})();function ph(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${it(t)}'`)}class fh{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class gh{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const mh=new gh,_h=new fh;let wh=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(qr(e))return mh;if(Zr(e))return _h;throw ph(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(Vr(bl,16))},t.\u0275pipe=Qt({name:"async",type:t,pure:!1}),t})(),yh=(()=>{class t{constructor(t){this.locale=t}transform(e,i="mediumDate",n,s){if(null==e||""===e||e!=e)return null;try{return Lc(e,i,s||this.locale,n)}catch(r){throw ph(t,r.message)}}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ia,16))},t.\u0275pipe=Qt({name:"date",type:t,pure:!0}),t})(),vh=(()=>{class t{constructor(t){this._locale=t}transform(e,i,n){if(!Ch(e))return null;n=n||this._locale;try{return function(t,e,i){return th(t,eh(kc(e,_c.Decimal),Dc(e,Cc.MinusSign)),e,Cc.Group,Cc.Decimal,i)}(Sh(e),n,i)}catch(s){throw ph(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ia,16))},t.\u0275pipe=Qt({name:"number",type:t,pure:!0}),t})(),bh=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,i,n="symbol",s,r){if(!Ch(e))return null;r=r||this._locale,"boolean"==typeof n&&(n=n?"symbol":"code");let o=i||this._defaultCurrencyCode;"code"!==n&&(o="symbol"===n||"symbol-narrow"===n?function(t,e,i="en"){const n=function(t){return To(t)[Ao.Currencies]}(i)[t]||mc[t]||[],s=n[1];return"narrow"===e&&"string"==typeof s?s:n[0]||t}(o,"symbol"===n?"wide":"narrow",r):n);try{return function(t,e,i,n,s){const r=eh(kc(e,_c.Currency),Dc(e,Cc.MinusSign));return r.minFrac=function(t){let e;const i=mc[t];return i&&(e=i[2]),"number"==typeof e?e:2}(n),r.maxFrac=r.minFrac,th(t,r,e,Cc.CurrencyGroup,Cc.CurrencyDecimal,s).replace("\xa4",i).replace("\xa4","").trim()}(Sh(e),r,o,i,s)}catch(l){throw ph(t,l.message)}}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ia,16),Vr(Aa,16))},t.\u0275pipe=Qt({name:"currency",type:t,pure:!0}),t})();function Ch(t){return!(null==t||""===t||t!=t)}function Sh(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}let xh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:[{provide:nh,useClass:sh}]}),t})();class Rh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Rh,pc||(pc=t)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(kh=kh||document.querySelector("base"),kh?kh.getAttribute("href"):null);return null==e?null:function(t){Dh=Dh||document.createElement("a"),Dh.setAttribute("href",t);const e=Dh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){kh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const i of t.split(";")){const t=i.indexOf("="),[n,s]=-1==t?[i,""]:[i.slice(0,t),i.slice(t+1)];if(n.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Dh,kh=null;const Eh=new Wi("TRANSITION_ID"),Th=[{provide:ba,useFactory:function(t,e,i){return()=>{i.get(Ca).donePromise.then(()=>{const i=fc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>i.remove(t))})}},deps:[Eh,gc,vr],multi:!0}];class Ih{static init(){var t;t=new Ih,Xa=t}addToWindow(t){Ot.getAngularTestability=(e,i=!0)=>{const n=t.findTestabilityInTree(e,i);if(null==n)throw new Error("Could not find testability for element.");return n},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let i=e.length,n=!1;const s=function(e){n=n||e,i--,0==i&&t(n)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?fc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ah=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Oh=new Wi("EventManagerPlugins");let Ph=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,i){return this._findPluginFor(e).addEventListener(t,e,i)}addGlobalEventListener(t,e,i){return this._findPluginFor(e).addGlobalEventListener(t,e,i)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const i=this._plugins;for(let n=0;n<i.length;n++){const e=i[n];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(ln(Oh),ln(ja))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Fh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=fc().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}let Nh=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Mh=(()=>{class t extends Nh{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,i){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,i.push(e.appendChild(n))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Lh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,i)=>{this._addStylesToHost(t,i,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Lh))}}return t.\u0275fac=function(e){return new(e||t)(ln(gc))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Lh(t){fc().remove(t)}const Vh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Hh=/%COMP%/g;function Bh(t,e,i){for(let n=0;n<e.length;n++){let s=e[n];Array.isArray(s)?Bh(t,s,i):(s=s.replace(Hh,t),i.push(s))}return i}function zh(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let jh=(()=>{class t{constructor(t,e,i){this.eventManager=t,this.sharedStylesHost=e,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new $h(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case kt.Emulated:{let i=this.rendererByCompId.get(e.id);return i||(i=new Wh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,i)),i.applyToHost(t),i}case 1:case kt.ShadowDom:return new Gh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Bh(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ln(Ph),ln(Mh),ln(Sa))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class $h{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Vh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const s=Vh[n];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=Vh[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(Sn.DashCase|Sn.Important)?t.style.setProperty(e,i,n&Sn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Sn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zh(i)):this.eventManager.addEventListener(t,e,zh(i))}}class Wh extends $h{constructor(t,e,i,n){super(t),this.component=i;const s=Bh(n+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Hh,n+"-"+i.id),this.hostAttr="_nghost-%COMP%".replace(Hh,n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Gh extends $h{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Bh(n.id,n.styles,[]);for(let r=0;r<s.length;r++){const t=document.createElement("style");t.textContent=s[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Uh=(()=>{class t extends Fh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,i){return t.addEventListener(e,i,!1),()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,i){return t.removeEventListener(e,i)}}return t.\u0275fac=function(e){return new(e||t)(ln(gc))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const qh=["alt","control","meta","shift"],Zh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Yh=(()=>{class t extends Fh{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,n){const s=t.parseEventName(i),r=t.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fc().onAndCancel(e,s.domEventName,r))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=t._normalizeKey(i.pop());let r="";if(qh.forEach(t=>{const e=i.indexOf(t);e>-1&&(i.splice(e,1),r+=t+".")}),r+=s,0!=i.length||0===s.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(t){let e="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Kh.hasOwnProperty(e)&&(e=Kh[e]))}return Zh[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qh.forEach(n=>{n!=i&&(0,Qh[n])(t)&&(e+=n+".")}),e+=i,e}static eventCallback(e,i,n){return s=>{t.getEventFullKey(s)===e&&n.runGuarded(()=>i(s))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(ln(gc))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Jh=sc(hc,"browser",[{provide:ka,useValue:"browser"},{provide:Da,useValue:function(){Rh.makeCurrent(),Ih.init()},multi:!0},{provide:gc,useFactory:function(){return function(t){fe=t}(document),document},deps:[]}]),Xh=[[],{provide:lr,useValue:"root"},{provide:vn,useFactory:function(){return new vn},deps:[]},{provide:Oh,useClass:Uh,multi:!0,deps:[gc,ja,ka]},{provide:Oh,useClass:Yh,multi:!0,deps:[gc]},[],{provide:jh,useClass:jh,deps:[Ph,Mh,Sa]},{provide:Yo,useExisting:jh},{provide:Nh,useExisting:Mh},{provide:Mh,useClass:Mh,deps:[gc]},{provide:Ka,useClass:Ka,deps:[ja]},{provide:Ph,useClass:Ph,deps:[Oh,ja]},{provide:class{},useClass:Ah,deps:[]},[]];let tu=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Sa,useValue:e.appId},{provide:Eh,useExisting:Sa},Th]}}}return t.\u0275fac=function(e){return new(e||t)(ln(t,12))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:Xh,imports:[xh,dc]}),t})();"undefined"!=typeof window&&window;class eu{}const iu="*";function nu(t,e=null){return{type:4,styles:e,timings:t}}function su(t,e=null){return{type:2,steps:t,options:e}}function ru(t){return{type:6,styles:t,offset:null}}function ou(t,e,i){return{type:0,name:t,styles:e,options:i}}function lu(t,e,i=null){return{type:1,expr:t,animation:e,options:i}}function au(t){Promise.resolve(null).then(t)}class cu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){au(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class hu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,n=0;const s=this.players.length;0==s?au(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==s&&this._onFinish()}),t.onDestroy(()=>{++i==s&&this._onDestroy()}),t.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const i=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(i)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function uu(){return"undefined"!=typeof window&&void 0!==window.document}function du(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pu(t){switch(t.length){case 0:return new cu;case 1:return t[0];default:return new hu(t)}}function fu(t,e,i,n,s={},r={}){const o=[],l=[];let a=-1,c=null;if(n.forEach(t=>{const i=t.offset,n=i==a,h=n&&c||{};Object.keys(t).forEach(i=>{let n=i,l=t[i];if("offset"!==i)switch(n=e.normalizePropertyName(n,o),l){case"!":l=s[i];break;case iu:l=r[i];break;default:l=e.normalizeStyleValue(i,n,l,o)}h[n]=l}),n||l.push(h),c=h,a=i}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return l}function gu(t,e,i,n){switch(e){case"start":t.onStart(()=>n(i&&mu(i,"start",t)));break;case"done":t.onDone(()=>n(i&&mu(i,"done",t)));break;case"destroy":t.onDestroy(()=>n(i&&mu(i,"destroy",t)))}}function mu(t,e,i){const n=i.totalTime,s=_u(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==n?t.totalTime:n,!!i.disabled),r=t._data;return null!=r&&(s._data=r),s}function _u(t,e,i,n,s="",r=0,o){return{element:t,triggerName:e,fromState:i,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function wu(t,e,i){let n;return t instanceof Map?(n=t.get(e),n||t.set(e,n=i)):(n=t[e],n||(n=t[e]=i)),n}function yu(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let vu=(t,e)=>!1,bu=(t,e)=>!1,Cu=(t,e,i)=>[];const Su=du();(Su||"undefined"!=typeof Element)&&(vu=uu()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),bu=(()=>{if(Su||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,i)=>e.apply(t,[i]):bu}})(),Cu=(t,e,i)=>{let n=[];if(i){const i=t.querySelectorAll(e);for(let t=0;t<i.length;t++)n.push(i[t])}else{const i=t.querySelector(e);i&&n.push(i)}return n});let xu=null,Ru=!1;function Du(t){xu||(xu=("undefined"!=typeof document?document.body:null)||{},Ru=!!xu.style&&"WebkitAppearance"in xu.style);let e=!0;return xu.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in xu.style,!e&&Ru)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in xu.style),e}const ku=bu,Eu=vu,Tu=Cu;function Iu(t){const e={};return Object.keys(t).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");e[n]=t[i]}),e}let Au=(()=>{class t{validateStyleProperty(t){return Du(t)}matchesElement(t,e){return ku(t,e)}containsElement(t,e){return Eu(t,e)}query(t,e,i){return Tu(t,e,i)}computeStyle(t,e,i){return i||""}animate(t,e,i,n,s,r=[],o){return new cu(i,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Ou=(()=>{class t{}return t.NOOP=new Au,t})();const Pu="ng-enter",Fu="ng-leave",Nu="ng-trigger",Mu=".ng-trigger",Lu="ng-animating",Vu=".ng-animating";function Hu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bu(parseFloat(e[1]),e[2])}function Bu(t,e){switch(e){case"s":return 1e3*t;default:return t}}function zu(t,e,i){return t.hasOwnProperty("duration")?t:function(t,e,i){let n,s=0,r="";if("string"==typeof t){const i=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};n=Bu(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(s=Bu(parseFloat(o),i[4]));const l=i[5];l&&(r=l)}else n=t;if(!i){let i=!1,r=e.length;n<0&&(e.push("Duration values below 0 are not allowed for this animation step."),i=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&e.splice(r,0,`The provided timing value "${t}" is invalid.`)}return{duration:n,delay:s,easing:r}}(t,e,i)}function ju(t,e={}){return Object.keys(t).forEach(i=>{e[i]=t[i]}),e}function $u(t,e,i={}){if(e)for(let n in t)i[n]=t[n];else ju(t,i);return i}function Wu(t,e,i){return i?e+":"+i+";":""}function Gu(t){let e="";for(let i=0;i<t.style.length;i++){const n=t.style.item(i);e+=Wu(0,n,t.style.getPropertyValue(n))}for(const i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=Wu(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function Uu(t,e,i){t.style&&(Object.keys(e).forEach(n=>{const s=td(n);i&&!i.hasOwnProperty(n)&&(i[n]=t.style[s]),t.style[s]=e[n]}),du()&&Gu(t))}function qu(t,e){t.style&&(Object.keys(e).forEach(e=>{const i=td(e);t.style[i]=""}),du()&&Gu(t))}function Zu(t){return Array.isArray(t)?1==t.length?t[0]:su(t):t}const Ku=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qu(t){let e=[];if("string"==typeof t){let i;for(;i=Ku.exec(t);)e.push(i[1]);Ku.lastIndex=0}return e}function Yu(t,e,i){const n=t.toString(),s=n.replace(Ku,(t,n)=>{let s=e[n];return e.hasOwnProperty(n)||(i.push(`Please provide a value for the animation param ${n}`),s=""),s.toString()});return s==n?t:s}function Ju(t){const e=[];let i=t.next();for(;!i.done;)e.push(i.value),i=t.next();return e}const Xu=/-+([a-z0-9])/g;function td(t){return t.replace(Xu,(...t)=>t[1].toUpperCase())}function ed(t,e){return 0===t||0===e}function id(t,e,i){const n=Object.keys(i);if(n.length&&e.length){let r=e[0],o=[];if(n.forEach(t=>{r.hasOwnProperty(t)||o.push(t),r[t]=i[t]}),o.length)for(var s=1;s<e.length;s++){let i=e[s];o.forEach(function(e){i[e]=sd(t,e)})}}return e}function nd(t,e,i){switch(e.type){case 7:return t.visitTrigger(e,i);case 0:return t.visitState(e,i);case 1:return t.visitTransition(e,i);case 2:return t.visitSequence(e,i);case 3:return t.visitGroup(e,i);case 4:return t.visitAnimate(e,i);case 5:return t.visitKeyframes(e,i);case 6:return t.visitStyle(e,i);case 8:return t.visitReference(e,i);case 9:return t.visitAnimateChild(e,i);case 10:return t.visitAnimateRef(e,i);case 11:return t.visitQuery(e,i);case 12:return t.visitStagger(e,i);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function sd(t,e){return window.getComputedStyle(t)[e]}const rd="*";function od(t,e){const i=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,i){if(":"==t[0]){const n=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,i);if("function"==typeof n)return void e.push(n);t=n}const n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${t}" is not supported`),e;const s=n[1],r=n[2],o=n[3];e.push(cd(s,o)),"<"!=r[0]||s==rd&&o==rd||e.push(cd(o,s))}(t,i,e)):i.push(t),i}const ld=new Set(["true","1"]),ad=new Set(["false","0"]);function cd(t,e){const i=ld.has(t)||ad.has(t),n=ld.has(e)||ad.has(e);return(s,r)=>{let o=t==rd||t==s,l=e==rd||e==r;return!o&&i&&"boolean"==typeof s&&(o=s?ld.has(t):ad.has(t)),!l&&n&&"boolean"==typeof r&&(l=r?ld.has(e):ad.has(e)),o&&l}}const hd=new RegExp("s*:selfs*,?","g");function ud(t,e,i){return new dd(t).build(e,i)}class dd{constructor(t){this._driver=t}build(t,e){const i=new pd(e);return this._resetContextStyleTimingState(i),nd(this,Zu(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0;const s=[],r=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const i=t,n=i.name;n.toString().split(/\s*,\s*/).forEach(t=>{i.name=t,s.push(this.visitState(i,e))}),i.name=n}else if(1==t.type){const s=this.visitTransition(t,e);i+=s.queryCount,n+=s.depCount,r.push(s)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:r,queryCount:i,depCount:n,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,r=n||{};if(i.styles.forEach(t=>{if(fd(t)){const e=t;Object.keys(e).forEach(t=>{Qu(e[t]).forEach(t=>{r.hasOwnProperty(t)||s.add(t)})})}}),s.size){const i=Ju(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=nd(this,Zu(t.animation),e);return{type:1,matchers:od(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gd(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>nd(this,t,e)),options:gd(t.options)}}visitGroup(t,e){const i=e.currentTime;let n=0;const s=t.steps.map(t=>{e.currentTime=i;const s=nd(this,t,e);return n=Math.max(n,e.currentTime),s});return e.currentTime=n,{type:3,steps:s,options:gd(t.options)}}visitAnimate(t,e){const i=function(t,e){let i=null;if(t.hasOwnProperty("duration"))i=t;else if("number"==typeof t)return md(zu(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=md(0,0,"");return t.dynamic=!0,t.strValue=n,t}return i=i||zu(n,e),md(i.duration,i.delay,i.easing)}(t.timings,e.errors);let n;e.currentAnimateTimings=i;let s=t.styles?t.styles:ru({});if(5==s.type)n=this.visitKeyframes(s,e);else{let s=t.styles,r=!1;if(!s){r=!0;const t={};i.easing&&(t.easing=i.easing),s=ru(t)}e.currentTime+=i.duration+i.delay;const o=this.visitStyle(s,e);o.isEmptyStep=r,n=o}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==iu?i.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):i.push(t)}):i.push(t.styles);let n=!1,s=null;return i.forEach(t=>{if(fd(t)){const e=t,i=e.easing;if(i&&(s=i,delete e.easing),!n)for(let t in e)if(e[t].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let n=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void e.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=e.collectedStyles[e.currentQuerySelector],o=r[i];let l=!0;o&&(s!=n&&s>=o.startTime&&n<=o.endTime&&(e.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${n}ms"`),l=!1),s=o.startTime),l&&(r[i]={startTime:s,endTime:n}),e.options&&function(t,e,i){const n=e.params||{},s=Qu(t);s.length&&s.forEach(t=>{n.hasOwnProperty(t)||i.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[i],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const s=[];let r=!1,o=!1,l=0;const a=t.steps.map(t=>{const i=this._makeStyleAst(t,e);let a=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(fd(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(fd(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}return e}(i.styles),c=0;return null!=a&&(n++,c=i.offset=a),o=o||c<0||c>1,r=r||c<l,l=c,s.push(c),i});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let h=0;n>0&&n<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(h=1/(c-1));const u=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return a.forEach((t,n)=>{const r=h>0?n==u?1:h*n:s[n],o=r*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=r,i.styles.push(t)}),i}visitReference(t,e){return{type:8,animation:nd(this,Zu(t.animation),e),options:gd(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:gd(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:gd(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;const[s,r]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(hd,"")),[t=t.replace(/@\*/g,Mu).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Vu),e]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,wu(e.collectedStyles,e.currentQuerySelector,{});const o=nd(this,Zu(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:o,originalSelector:t.selector,options:gd(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:zu(t.timings,e.errors,!0);return{type:12,animation:nd(this,Zu(t.animation),e),timings:i,options:null}}}class pd{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fd(t){return!Array.isArray(t)&&"object"==typeof t}function gd(t){var e;return t?(t=ju(t)).params&&(t.params=(e=t.params)?ju(e):null):t={},t}function md(t,e,i){return{duration:t,delay:e,easing:i}}function _d(t,e,i,n,s,r,o=null,l=!1){return{type:1,element:t,keyframes:e,preStyleProps:i,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:l}}class wd{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const yd=new RegExp(":enter","g"),vd=new RegExp(":leave","g");function bd(t,e,i,n,s,r={},o={},l,a,c=[]){return(new Cd).buildKeyframes(t,e,i,n,s,r,o,l,a,c)}class Cd{buildKeyframes(t,e,i,n,s,r,o,l,a,c=[]){a=a||new wd;const h=new xd(t,e,a,n,s,c,[]);h.options=l,h.currentTimeline.setStyles([r],null,h.errors,l),nd(this,i,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,h.errors,l)}return u.length?u.map(t=>t.buildKeyframes()):[_d(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const n=e.createSubContext(t.options),s=e.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);s!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let n=e.currentTimeline.currentTime;const s=null!=i.duration?Hu(i.duration):null,r=null!=i.delay?Hu(i.delay):null;return 0!==s&&t.forEach(t=>{const i=e.appendInstructionToTimeline(t,s,r);n=Math.max(n,i.duration+i.delay)}),n}visitReference(t,e){e.updateOptions(t.options,!0),nd(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let n=e;const s=t.options;if(s&&(s.params||s.delay)&&(n=e.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Sd);const t=Hu(s.delay);n.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>nd(this,t,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let n=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Hu(t.options.delay):0;t.steps.forEach(r=>{const o=e.createSubContext(t.options);s&&o.delayNextStep(s),nd(this,r,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return zu(e.params?Yu(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,n=e.currentTimeline.duration,s=i.duration,r=e.createSubContext().currentTimeline;r.easing=i.easing,t.styles.forEach(t=>{r.forwardTime((t.offset||0)*s),r.setStyles(t.styles,t.easing,e.errors,e.options),r.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(r),e.transformIntoNewTimeline(n+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,n=t.options||{},s=n.delay?Hu(n.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Sd);let r=i;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((i,n)=>{e.currentQueryIndex=n;const o=e.createSubContext(t.options,i);s&&o.delayNextStep(s),i===e.element&&(l=o.currentTimeline),nd(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,n=e.currentTimeline,s=t.timings,r=Math.abs(s.duration),o=r*(e.currentQueryTotal-1);let l=r*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=o-l;break;case"full":l=i.currentStaggerTime}const a=e.currentTimeline;l&&a.delayNextStep(l);const c=a.currentTime;nd(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-c+(n.startTime-i.currentTimeline.startTime)}}const Sd={};class xd{constructor(t,e,i,n,s,r,o,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Rd(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let n=this.options;null!=i.duration&&(n.duration=Hu(i.duration)),null!=i.delay&&(n.delay=Hu(i.delay));const s=i.params;if(s){let t=n.params;t||(t=this.options.params={}),Object.keys(s).forEach(i=>{e&&t.hasOwnProperty(i)||(t[i]=Yu(s[i],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(t=>{i[t]=e[t]})}}return t}createSubContext(t=null,e,i){const n=e||this.element,s=new xd(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Sd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const n={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new Dd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,s,r){let o=[];if(n&&o.push(this.element),t.length>0){t=(t=t.replace(yd,"."+this._enterClassName)).replace(vd,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=i);0!==i&&(e=i<0?e.slice(e.length+i,e.length):e.slice(0,i)),o.push(...e)}return s||0!=o.length||r.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Rd{constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Rd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||iu,this._currentKeyframe[t]=iu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&(this._previousKeyframe.easing=e);const s=n&&n.params||{},r=function(t,e){const i={};let n;return t.forEach(t=>{"*"===t?(n=n||Object.keys(e),n.forEach(t=>{i[t]=iu})):$u(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(r).forEach(t=>{const e=Yu(r[t],s,i);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:iu),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],n=t._styleSummary[e];(!i||n.time>i.time)&&this._updateStyle(e,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((s,r)=>{const o=$u(s,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?t.add(i):n==iu&&e.add(i)}),i||(o.offset=r/this.duration),n.push(o)});const s=t.size?Ju(t.values()):[],r=e.size?Ju(e.values()):[];if(i){const t=n[0],e=ju(t);t.offset=0,e.offset=1,n=[t,e]}return _d(this.element,n,s,r,this.duration,this.startTime,this.easing,!1)}}class Dd extends Rd{constructor(t,e,i,n,s,r,o=!1){super(t,e,r.delay),this.element=e,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],r=i+e,o=e/r,l=$u(t[0],!1);l.offset=0,s.push(l);const a=$u(t[0],!1);a.offset=kd(o),s.push(a);const c=t.length-1;for(let n=1;n<=c;n++){let o=$u(t[n],!1);o.offset=kd((e+o.offset*i)/r),s.push(o)}i=r,e=0,n="",t=s}return _d(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}}function kd(t,e=3){const i=Math.pow(10,e-1);return Math.round(t*i)/i}class Ed{}class Td extends Ed{normalizePropertyName(t,e){return td(t)}normalizeStyleValue(t,e,i,n){let s="";const r=i.toString().trim();if(Id[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const e=i.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&n.push(`Please provide a CSS unit value for ${t}:${i}`)}return r+s}}const Id=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ad(t,e,i,n,s,r,o,l,a,c,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:s,fromState:i,fromStyles:r,toState:n,toStyles:o,timelines:l,queriedElements:a,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const Od={};class Pd{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return function(t,e,i,n,s){return t.some(t=>t(e,i,n,s))}(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){const n=this._stateStyles["*"],s=this._stateStyles[t],r=n?n.buildStyles(e,i):{};return s?s.buildStyles(e,i):r}build(t,e,i,n,s,r,o,l,a,c){const h=[],u=this.ast.options&&this.ast.options.params||Od,d=this.buildStyles(i,o&&o.params||Od,h),p=l&&l.params||Od,f=this.buildStyles(n,p,h),g=new Set,m=new Map,_=new Map,w="void"===n,y={params:Object.assign(Object.assign({},u),p)},v=c?[]:bd(t,e,this.ast.animation,s,r,d,f,y,a,h);let b=0;if(v.forEach(t=>{b=Math.max(t.duration+t.delay,b)}),h.length)return Ad(e,this._triggerName,i,n,w,d,f,[],[],m,_,b,h);v.forEach(t=>{const i=t.element,n=wu(m,i,{});t.preStyleProps.forEach(t=>n[t]=!0);const s=wu(_,i,{});t.postStyleProps.forEach(t=>s[t]=!0),i!==e&&g.add(i)});const C=Ju(g.values());return Ad(e,this._triggerName,i,n,w,d,f,v,C,m,_,b)}}class Fd{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const i={},n=ju(this.defaultParams);return Object.keys(t).forEach(e=>{const i=t[e];null!=i&&(n[e]=i)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const s=t;Object.keys(s).forEach(t=>{let r=s[t];r.length>1&&(r=Yu(r,n,e)),i[t]=r})}}),i}}class Nd{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Fd(t.style,t.options&&t.options.params||{})}),Md(this.states,"true","1"),Md(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Pd(t,e,this.states))}),this.fallbackTransition=new Pd(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(s=>s.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Md(t,e,i){t.hasOwnProperty(e)?t.hasOwnProperty(i)||(t[i]=t[e]):t.hasOwnProperty(i)&&(t[e]=t[i])}const Ld=new wd;class Vd{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],n=ud(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=n}_buildPlayer(t,e,i){const n=t.element,s=fu(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(n,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const n=[],s=this._animations[t];let r;const o=new Map;if(s?(r=bd(this._driver,e,s,Pu,Fu,{},{},i,Ld,n),r.forEach(t=>{const e=wu(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),r=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(i=>{t[i]=this._driver.computeStyle(e,i,iu)})});const l=pu(r.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,n){const s=_u(e,"","","");return gu(this._getPlayer(t),i,s,n),()=>{}}command(t,e,i,n){if("register"==i)return void this.register(t,n[0]);if("create"==i)return void this.create(t,e,n[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t)}}}const Hd="ng-animate-queued",Bd="ng-animate-disabled",zd=".ng-animate-disabled",jd=[],$d={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Gd{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const e=ju(t);delete e.value,this.options=e}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(i=>{null==t[i]&&(t[i]=e[i])})}}}const Ud="void",qd=new Gd(Ud);class Zd{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ep(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(s=i)&&"done"!=s)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var s;const r=wu(this._elementListeners,t,[]),o={name:e,phase:i,callback:n};r.push(o);const l=wu(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(ep(t,Nu),ep(t,"ng-trigger-"+e),l[e]=qd),()=>{this._engine.afterFlush(()=>{const t=r.indexOf(o);t>=0&&r.splice(t,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,n=!0){const s=this._getTrigger(e),r=new Qd(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(ep(t,Nu),ep(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const a=new Gd(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&a.absorbOptions(l.options),o[e]=a,l||(l=qd),a.value!==Ud&&l.value===a.value){if(!function(t,e){const i=Object.keys(t),n=Object.keys(e);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const n=i[s];if(!e.hasOwnProperty(n)||t[n]!==e[n])return!1}return!0}(l.params,a.params)){const e=[],i=s.matchStyles(l.value,l.params,e),n=s.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{qu(t,i),Uu(t,n)})}return}const c=wu(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=s.matchTransition(l.value,a.value,t,a.params),u=!1;if(!h){if(!n)return;h=s.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:a,player:r,isFallbackTransition:u}),u||(ep(t,Hd),r.onStart(()=>{ip(t,Hd)})),r.onDone(()=>{let e=this.players.indexOf(r);e>=0&&this.players.splice(e,1);const i=this._engine.playersByElement.get(t);if(i){let t=i.indexOf(r);t>=0&&i.splice(t,1)}}),this.players.push(r),c.push(r),r}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Mu,!0);i.forEach(t=>{if(t.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(t);i.size?i.forEach(i=>i.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,i,n){const s=this._engine.statesByElement.get(t);if(s){const r=[];if(Object.keys(s).forEach(e=>{if(this._triggers[e]){const i=this.trigger(t,e,Ud,n);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&pu(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const n=new Set;e.forEach(e=>{const s=e.name;if(n.has(s))return;n.add(s);const r=this._triggers[s].fallbackTransition,o=i[s]||qd,l=new Gd(Ud),a=new Qd(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:r,fromState:o,toState:l,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){const e=i.players.length?i.playersByQueriedElement.get(t):[];if(e&&e.length)n=!0;else{let e=t;for(;e=e.parentNode;)if(i.statesByElement.get(e)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{const n=t.__ng_removed;n&&n!==$d||(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ep(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,r=this._elementListeners.get(s);r&&r.forEach(e=>{if(e.name==i.triggerName){const n=_u(s,i.triggerName,i.fromState.value,i.toState.value);n._data=t,gu(i.player,e.phase,n,e.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((t,e)=>{const i=t.transition.ast.depCount,n=e.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Kd{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const i=new Zd(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),n=!0;break}n||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(i);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const t=Object.keys(i);for(let n=0;n<t.length;n++){const s=i[t[n]].namespaceId;if(s){const t=this._fetchNamespace(s);t&&e.add(t)}}}return e}trigger(t,e,i,n){if(Yd(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!Yd(e))return;const s=e.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const n=this._fetchNamespace(t);n&&n.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ep(t,Bd)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ip(t,Bd))}removeNode(t,e,i,n){if(Yd(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n),i){const i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,n)}}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,i,n){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,n,s){return Yd(e)?this._fetchNamespace(t).listen(e,i,n,s):()=>{}}_buildInstruction(t,e,i,n,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Mu,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Vu,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return pu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=$d,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,zd)&&this.markElementAsDisabled(t,!1),this.driver.query(t,zd,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ep(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let t=0;t<i.length;t++)i[t]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?pu(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new wd,n=[],s=new Map,r=[],o=new Map,l=new Map,a=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let i=0;i<e.length;i++)c.add(e[i])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=tp(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const i=Pu+f++;p.set(e,i),t.forEach(t=>ep(t,i))});const g=[],m=new Set,_=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):_.add(t))}const w=new Map,y=tp(u,Array.from(m));y.forEach((t,e)=>{const i=Fu+f++;w.set(e,i),t.forEach(t=>ep(t,i))}),t.push(()=>{d.forEach((t,e)=>{const i=p.get(e);t.forEach(t=>ip(t,i))}),y.forEach((t,e)=>{const i=w.get(e);t.forEach(t=>ip(t,i))}),g.forEach(t=>{this.processLeaveNode(t)})});const v=[],b=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,s=t.element;if(v.push(e),this.collectedEnterElements.length){const t=s.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!h||!this.driver.containsElement(h,s),u=w.get(s),d=p.get(s),f=this._buildInstruction(t,i,d,u,c);if(f.errors&&f.errors.length)b.push(f);else{if(c)return e.onStart(()=>qu(s,f.fromStyles)),e.onDestroy(()=>Uu(s,f.toStyles)),void n.push(e);if(t.isFallbackTransition)return e.onStart(()=>qu(s,f.fromStyles)),e.onDestroy(()=>Uu(s,f.toStyles)),void n.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),i.append(s,f.timelines),r.push({instruction:f,player:e,element:s}),f.queriedElements.forEach(t=>wu(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const i=Object.keys(t);if(i.length){let t=l.get(e);t||l.set(e,t=new Set),i.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const i=Object.keys(t);let n=a.get(e);n||a.set(e,n=new Set),i.forEach(t=>n.add(t))})}});if(b.length){const t=[];b.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;r.forEach(t=>{const e=t.element;i.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),n.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{wu(C,e,[]).push(t),t.destroy()})});const x=g.filter(t=>rp(t,l,a)),R=new Map;Xd(R,this.driver,_,a,iu).forEach(t=>{rp(t,l,a)&&x.push(t)});const D=new Map;d.forEach((t,e)=>{Xd(D,this.driver,new Set(t),l,"!")}),x.forEach(t=>{const e=R.get(t),i=D.get(t);R.set(t,Object.assign(Object.assign({},e),i))});const k=[],E=[],T={};r.forEach(t=>{const{element:e,player:r,instruction:o}=t;if(i.has(e)){if(c.has(e))return r.onDestroy(()=>Uu(e,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void n.push(r);let t=T;if(S.size>1){let i=e;const n=[];for(;i=i.parentNode;){const e=S.get(i);if(e){t=e;break}n.push(i)}n.forEach(e=>S.set(e,t))}const i=this._buildAnimation(r.namespaceId,o,C,s,D,R);if(r.setRealPlayer(i),t===T)k.push(r);else{const e=this.playersByElement.get(t);e&&e.length&&(r.parentPlayer=pu(e)),n.push(r)}}else qu(e,o.fromStyles),r.onDestroy(()=>Uu(e,o.toStyles)),E.push(r),c.has(e)&&n.push(r)}),E.forEach(t=>{const e=s.get(t.element);if(e&&e.length){const i=pu(e);t.setRealPlayer(i)}}),n.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(ip(t,Fu),e&&e.hasAnimation)continue;let i=[];if(o.size){let e=o.get(t);e&&e.length&&i.push(...e);let n=this.driver.query(t,Vu,!0);for(let t=0;t<n.length;t++){let e=o.get(n[t]);e&&e.length&&i.push(...e)}}const n=i.filter(t=>!t.destroyed);n.length?np(this,t,n):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let i=!1;const n=e.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,s){let r=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(r=e)}else{const e=this.playersByElement.get(t);if(e){const t=!s||s==Ud;e.forEach(e=>{e.queued||(t||e.triggerName==n)&&r.push(e)})}}return(i||n)&&(r=r.filter(t=>!(i&&i!=t.namespaceId||n&&n!=t.triggerName))),r}_beforeAnimationBuild(t,e,i){const n=e.element,s=e.isRemovalTransition?void 0:t,r=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,l=t!==n,a=wu(i,t,[]);this._getPreviousPlayers(t,l,s,r,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}qu(n,e.fromStyles)}_buildAnimation(t,e,i,n,s,r){const o=e.triggerName,l=e.element,a=[],c=new Set,h=new Set,u=e.timelines.map(e=>{const u=e.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new cu(e.duration,e.delay);const p=u!==l,f=function(t){const e=[];return sp(t,e),e}((i.get(u)||jd).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),g=s.get(u),m=r.get(u),_=fu(0,this._normalizer,0,e.keyframes,g,m),w=this._buildPlayer(e,_,f);if(e.subTimeline&&n&&h.add(u),p){const e=new Qd(t,o,u);e.setRealPlayer(w),a.push(e)}return w});a.forEach(t=>{wu(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,i){let n;if(t instanceof Map){if(n=t.get(e),n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&t.delete(e)}}else if(n=t[e],n){if(n.length){const t=n.indexOf(i);n.splice(t,1)}0==n.length&&delete t[e]}return n}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>ep(t,Lu));const d=pu(u);return d.onDestroy(()=>{c.forEach(t=>ip(t,Lu)),Uu(l,e.toStyles)}),h.forEach(t=>{wu(n,t,[]).push(d)}),d}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new cu(t.duration,t.delay)}}class Qd{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new cu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>gu(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){wu(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Yd(t){return t&&1===t.nodeType}function Jd(t,e){const i=t.style.display;return t.style.display=null!=e?e:"none",i}function Xd(t,e,i,n,s){const r=[];i.forEach(t=>r.push(Jd(t)));const o=[];n.forEach((i,n)=>{const r={};i.forEach(t=>{const i=r[t]=e.computeStyle(n,t,s);i&&0!=i.length||(n.__ng_removed=Wd,o.push(n))}),t.set(n,r)});let l=0;return i.forEach(t=>Jd(t,r[l++])),o}function tp(t,e){const i=new Map;if(t.forEach(t=>i.set(t,[])),0==e.length)return i;const n=new Set(e),s=new Map;function r(t){if(!t)return 1;let e=s.get(t);if(e)return e;const o=t.parentNode;return e=i.has(o)?o:n.has(o)?1:r(o),s.set(t,e),e}return e.forEach(t=>{const e=r(t);1!==e&&i.get(e).push(t)}),i}function ep(t,e){if(t.classList)t.classList.add(e);else{let i=t.$$classes;i||(i=t.$$classes={}),i[e]=!0}}function ip(t,e){if(t.classList)t.classList.remove(e);else{let i=t.$$classes;i&&delete i[e]}}function np(t,e,i){pu(i).onDone(()=>t.processLeaveNode(e))}function sp(t,e){for(let i=0;i<t.length;i++){const n=t[i];n instanceof hu?sp(n.players,e):e.push(n)}}function rp(t,e,i){const n=i.get(t);if(!n)return!1;let s=e.get(t);return s?n.forEach(t=>s.add(t)):e.set(t,n),i.delete(t),!0}class op{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Kd(t,e,i),this._timelineEngine=new Vd(t,e,i),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,i,n,s){const r=t+"-"+n;let o=this._triggerCache[r];if(!o){const t=[],e=ud(this._driver,s,t);if(t.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Nd(t,e)}(n,e),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(e,n,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i,n){this._transitionEngine.removeNode(t,e,n||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if("@"==i.charAt(0)){const[t,s]=yu(i);this._timelineEngine.command(t,e,s,n)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,s){if("@"==i.charAt(0)){const[t,n]=yu(i);return this._timelineEngine.listen(t,e,n,s)}return this._transitionEngine.listen(t,e,i,n,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function lp(t,e){let i=null,n=null;return Array.isArray(e)&&e.length?(i=cp(e[0]),e.length>1&&(n=cp(e[e.length-1]))):e&&(i=cp(e)),i||n?new ap(t,i,n):null}let ap=(()=>{class t{constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Uu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uu(this._element,this._initialStyles),this._endStyles&&(Uu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(qu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qu(this._element,this._endStyles),this._endStyles=null),Uu(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function cp(t){let e=null;const i=Object.keys(t);for(let n=0;n<i.length;n++){const s=i[n];hp(s)&&(e=e||{},e[s]=t[s])}return e}function hp(t){return"display"===t||"position"===t}const up="animation",dp="animationend";class pp{constructor(t,e,i,n,s,r,o){this._element=t,this._name=e,this._duration=i,this._delay=n,this._easing=s,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const i=yp(t,"").trim();i.length&&(function(t,e){let i=0;for(let n=0;n<t.length;n++)","===t.charAt(n)&&i++}(i),e=`${i}, ${e}`),wp(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_p(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fp(this._element,this._name,"paused")}resume(){fp(this._element,this._name,"running")}setPosition(t){const e=gp(this._element,this._name);this._position=t*this._duration,wp(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_p(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const i=yp(t,"").split(","),n=mp(i,e);n>=0&&(i.splice(n,1),wp(t,"",i.join(",")))}(this._element,this._name))}}function fp(t,e,i){wp(t,"PlayState",i,gp(t,e))}function gp(t,e){const i=yp(t,"");return i.indexOf(",")>0?mp(i.split(","),e):mp([i],e)}function mp(t,e){for(let i=0;i<t.length;i++)if(t[i].indexOf(e)>=0)return i;return-1}function _p(t,e,i){i?t.removeEventListener(dp,e):t.addEventListener(dp,e)}function wp(t,e,i,n){const s=up+e;if(null!=n){const e=t.style[s];if(e.length){const t=e.split(",");t[n]=i,i=t.join(",")}}t.style[s]=i}function yp(t,e){return t.style[up+e]||""}class vp{constructor(t,e,i,n,s,r,o,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=n,this._delay=s,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new pp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:sd(this.element,i))})}this.currentSnapshot=t}}class bp extends cu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Iu(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Cp{constructor(){this._count=0}validateStyleProperty(t){return Du(t)}matchesElement(t,e){return ku(t,e)}containsElement(t,e){return Eu(t,e)}query(t,e,i){return Tu(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(t=>Iu(t));let n=`@keyframes ${e} {\n`,s="";i.forEach(t=>{s=" ";const e=parseFloat(t.offset);n+=`${s}${100*e}% {\n`,s+=" ",Object.keys(t).forEach(e=>{const i=t[e];switch(e){case"offset":return;case"easing":return void(i&&(n+=`${s}animation-timing-function: ${i};\n`));default:return void(n+=`${s}${e}: ${i};\n`)}}),n+=`${s}}\n`}),n+="}\n";const r=document.createElement("style");return r.textContent=n,r}animate(t,e,i,n,s,r=[],o){const l=r.filter(t=>t instanceof vp),a={};ed(i,n)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(i=>{"offset"!=i&&"easing"!=i&&(e[i]=t[i])})}),e}(e=id(t,e,a));if(0==i)return new bp(t,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(t,h,e);(function(t){var e;const i=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(t).appendChild(u);const d=lp(t,e),p=new vp(t,e,h,i,n,s,c,d);return p.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),p}}class Sp{constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:sd(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class xp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Rp().toString()),this._cssKeyframesDriver=new Cp}validateStyleProperty(t){return Du(t)}matchesElement(t,e){return ku(t,e)}containsElement(t,e){return Eu(t,e)}query(t,e,i){return Tu(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,n,s,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,n,s,r);const l={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(l.easing=s);const a={},c=r.filter(t=>t instanceof Sp);ed(i,n)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const h=lp(t,e=id(t,e=e.map(t=>$u(t,!1)),a));return new Sp(t,e,l,h)}}function Rp(){return uu()&&Element.prototype.animate||{}}let Dp=(()=>{class t extends eu{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:kt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?su(t):t;return Tp(this._renderer,null,e,"register",[i]),new kp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(ln(Yo),ln(gc))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class kp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ep(this._id,t,e||{},this._renderer)}}class Ep{constructor(t,e,i,n){this.id=t,this.element=e,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Tp(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Tp(t,e,i,n,s){return t.setProperty(e,`@@${i}:${n}`,s)}const Ip="@",Ap="@.disabled";let Op=(()=>{class t{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(i);return t||(t=new Pp("",i,this.engine),this._rendererCache.set(i,t)),t}const n=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const r=e=>{Array.isArray(e)?e.forEach(r):this.engine.registerTrigger(n,s,t,e.name,e)};return e.data.animation.forEach(r),new Fp(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){t>=0&&t<this._microtaskId?this._zone.run(()=>e(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,i]=t;e(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(ln(Yo),ln(op),ln(ja))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Pp{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Ip&&e==Ap?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Fp extends Pp{constructor(t,e,i,n){super(e,i,n),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Ip?"."==e.charAt(1)&&e==Ap?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==Ip){const n=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let s=e.substr(1),r="";return s.charAt(0)!=Ip&&([s,r]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,n,s,r,t=>{this.factory.scheduleListenerCallback(t._data||-1,i,t)})}return this.delegate.listen(t,e,i)}}let Np=(()=>{class t extends op{constructor(t,e,i){super(t.body,e,i)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(ln(gc),ln(Ou),ln(Ed))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Mp=new Wi("AnimationModuleType"),Lp=[{provide:eu,useClass:Dp},{provide:Ed,useFactory:function(){return new Td}},{provide:op,useClass:Np},{provide:Yo,useFactory:function(t,e,i){return new Op(t,e,i)},deps:[jh,op,ja]}],Vp=[{provide:Ou,useFactory:function(){return"function"==typeof Rp()?new xp:new Cp}},{provide:Mp,useValue:"BrowserAnimations"},...Lp],Hp=[{provide:Ou,useClass:Au},{provide:Mp,useValue:"NoopAnimations"},...Lp];let Bp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Hp:Vp}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:Vp,imports:[tu]}),t})();const zp=new w(t=>t.complete());function jp(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):zp}function $p(...t){let e=t[t.length-1];return R(e)?(t.pop(),N(t,e)):W(t)}function Wp(t,e,i,s){return n(i)&&(s=i,i=void 0),s?Wp(t,e,i).pipe(D(t=>a(t)?s(...t):s(t))):new w(n=>{Gp(t,e,function(t){n.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},n,i)})}function Gp(t,e,i,n,s){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const n=t;t.addEventListener(e,i,s),r=()=>n.removeEventListener(e,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const n=t;t.on(e,i),r=()=>n.off(e,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const n=t;t.addListener(e,i),r=()=>n.removeListener(e,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let r=0,o=t.length;r<o;r++)Gp(t[r],e,i,n,s)}n.add(r)}class Up extends u{constructor(t,e){super()}schedule(t,e=0){return this}}class qp extends Up{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,n=!1;try{this.work(t)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let Zp=(()=>{class t{constructor(e,i=t.now){this.SchedulerAction=e,this.now=i}schedule(t,e=0,i){return new this.SchedulerAction(this,t).schedule(i,e)}}return t.now=()=>Date.now(),t})();class Kp extends Zp{constructor(t,e=Zp.now){super(t,()=>Kp.delegate&&Kp.delegate!==this?Kp.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Kp.delegate&&Kp.delegate!==this?Kp.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Qp=new Kp(qp);function Yp(t){return!a(t)&&t-parseFloat(t)+1>=0}function Jp(t=0,e,i){let n=-1;return Yp(e)?n=Number(e)<1?1:Number(e):R(e)&&(i=e),R(i)||(i=Qp),new w(e=>{const s=Yp(t)?t:+t-i.now();return i.schedule(Xp,s,{index:0,period:n,subscriber:e})})}function Xp(t){const{index:e,period:i,subscriber:n}=t;if(n.next(e),!n.closed){if(-1===i)return n.complete();t.index=e+1,this.schedule(t,i)}}class tf extends f{notifyNext(t,e,i,n,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ef extends f{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function nf(t,e,i,n,s=new ef(t,i,n)){if(!s.closed)return e instanceof w?e.subscribe(s):F(e)(s)}function sf(...t){if(1===t.length){if(!a(t[0]))return t[0];t=t[0]}return W(t,void 0).lift(new rf)}class rf{call(t,e){return e.subscribe(new of(t))}}class of extends tf{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const e=nf(this,t[i],void 0,i);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==i){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}class lf extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}const af={};class cf{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hf(t,this.resultSelector))}}class hf extends tf{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(af),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(nf(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const n=this.values,s=this.toRespond?n[i]===af?--this.toRespond:this.toRespond:0;n[i]=e,0===s&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function uf(){}function df(...t){return $(1)($p(...t))}function pf(t){return e=>e.lift(new ff(t))}class ff{constructor(t){this.notifier=t}call(t,e){const i=new gf(t),n=H(this.notifier,new L(i));return n&&!i.seenValue?(i.add(n),e.subscribe(i)):i}}class gf extends V{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function mf(t,e){return function(i){return i.lift(new _f(t,e))}}class _f{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new wf(t,this.predicate,this.thisArg))}}class wf extends f{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}const yf=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function vf(t){return e=>0===t?jp():e.lift(new bf(t))}class bf{constructor(t){if(this.total=t,this.total<0)throw new yf}call(t,e){return e.subscribe(new Cf(t,this.total))}}class Cf extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Sf(...t){const e=t[t.length-1];return R(e)?(t.pop(),i=>df(t,i,e)):e=>df(t,e)}class xf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Rf(t,this.compare,this.keySelector))}}class Rf extends f{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:t}=this;i=t(this.key,e)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function Df(t,e){return"function"==typeof e?i=>i.pipe(Df((i,n)=>M(t(i,n)).pipe(D((t,s)=>e(i,t,n,s))))):e=>e.lift(new kf(t))}class kf{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ef(t,this.project))}}class Ef extends V{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(n){return void this.destination.error(n)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new L(this),n=this.destination;n.add(i),this.innerSubscription=H(t,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Tf(t,e,i){return function(n){return n.lift(new If(t,e,i))}}class If{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new Af(t,this.nextOrObserver,this.error,this.complete))}}class Af extends f{constructor(t,e,i,s){super(t),this._tapNext=uf,this._tapError=uf,this._tapComplete=uf,this._tapError=i||uf,this._tapComplete=s||uf,n(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||uf,this._tapError=e.error||uf,this._tapComplete=e.complete||uf)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Of{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Pf(t,this.observables,this.project))}}class Pf extends tf{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let s=0;s<n;s++)this.toRespond.push(s);for(let s=0;s<n;s++)this.add(nf(this,e[s],void 0,s))}notifyNext(t,e,i){this.values[i]=e;const n=this.toRespond;if(n.length>0){const t=n.indexOf(i);-1!==t&&n.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}let Ff=(()=>{class t{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return $p(this.value);case"E":return t=this.error,new w(e=>e.error(t));case"C":return jp()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function Nf(t,e=Qp){var i;const n=(i=t)instanceof Date&&!isNaN(+i)?+t-e.now():Math.abs(t);return t=>t.lift(new Mf(n,e))}class Mf{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Lf(t,this.delay,this.scheduler))}}class Lf extends f{constructor(t,e,i){super(t),this.delay=e,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,i=e.queue,n=t.scheduler,s=t.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const e=Math.max(0,i[0].time-n.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Lf.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,i=new Vf(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Ff.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Ff.createComplete()),this.unsubscribe()}}class Vf{constructor(t,e){this.time=t,this.notification=e}}function Hf(t){return e=>e.lift(new Bf(t))}class Bf{constructor(t){this.total=t}call(t,e){return e.subscribe(new zf(t,this.total))}}class zf extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const jf=new Wi("NgValueAccessor"),$f=["*"];function Wf(t,e){1&t&&Co(0),2&t&&So(100===e.fill?"\u2605":"\u2606")}function Gf(t,e){}function Uf(t,e){if(1&t){const t=Ie();zr(0,"span",2),Co(1),jr(),zr(2,"span",3),Qr("mouseenter",function(){const e=Oe(t).index;return Xr().enter(e+1)})("click",function(){const e=Oe(t).index;return Xr().handleClick(e+1)}),Mr(3,Gf,0,0,"ng-template",4),jr()}if(2&t){const t=e.index,i=Xr(),n=Lr(1);hs(1),xo("(",t<i.nextRate?"*":" ",")"),hs(1),co("cursor",i.isInteractive()?"pointer":"default"),hs(1),Hr("ngTemplateOutlet",i.starTemplate||i.starTemplateFromContent||n)("ngTemplateOutletContext",i.contexts[t])}}function qf(t,e,i=0){return Math.max(Math.min(t,e),i)}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Zf={animation:!0,transitionTimerDelayMs:5};let Kf=(()=>{class t{constructor(){this.animation=Zf.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Qf=()=>{},{transitionTimerDelayMs:Yf}=Zf,Jf=new Map,Xf=(t,e,i,n)=>{let s=n.context||{};const r=Jf.get(e);if(r)switch(n.runningTransition){case"continue":return zp;case"stop":t.run(()=>r.transition$.complete()),s=Object.assign(r.context,s),Jf.delete(e)}const o=i(e,n.animation,s)||Qf;if(!n.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),$p(void 0).pipe(function(t){return e=>new w(i=>e.subscribe(e=>t.run(()=>i.next(e)),e=>t.run(()=>i.error(e)),()=>t.run(()=>i.complete())))}(t));const l=new S,a=new S,c=l.pipe(function(...t){return e=>df(e,$p(...t))}(!0));Jf.set(e,{transition$:l,complete:()=>{a.next(),a.complete()},context:s});const h=function(t){const{transitionDelay:e,transitionDuration:i}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(i))}(e);return t.runOutsideAngular(()=>{const i=Wp(e,"transitionend").pipe(pf(c),mf(({target:t})=>t===e));sf(Jp(h+Yf).pipe(pf(c)),i,a).pipe(pf(c)).subscribe(()=>{Jf.delete(e),t.run(()=>{o(),l.next(),l.complete()})})}),l.asObservable()};var tg=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const eg=(t,e)=>!!e&&e.some(e=>e.contains(t)),ig=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),ng="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");const sg=/\s+/,rg=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,n={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const e=this.offsetParent(t);i=this.offset(t,!1),e!==document.documentElement&&(n=this.offset(e,!1)),n.top+=e.clientTop,n.left+=e.clientLeft}return i.top-=n.top,i.bottom-=n.top,i.left-=n.left,i.right-=n.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),n=window.pageYOffset-document.documentElement.clientTop,s=window.pageXOffset-document.documentElement.clientLeft;let r={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+n,bottom:i.bottom+n,left:i.left+s,right:i.right+s};return e&&(r.height=Math.round(r.height),r.width=Math.round(r.width),r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}positionElements(t,e,i,n){const[s="top",r="center"]=i.split("-"),o=n?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),a=parseFloat(l.marginTop),c=parseFloat(l.marginBottom),h=parseFloat(l.marginLeft),u=parseFloat(l.marginRight);let d=0,p=0;switch(s){case"top":d=o.top-(e.offsetHeight+a+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+h+u);break;case"right":p=o.left+o.width}switch(r){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,_=window.innerWidth||g.clientWidth;return f.left>=0&&f.top>=0&&f.right<=_&&f.bottom<=m}};new Date(1882,10,12),new Date(2174,10,25);class og{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class lg{constructor(t,e,i,n,s,r,o){this._type=t,this._injector=e,this._viewContainerRef=i,this._renderer=n,this._ngZone=s,this._componentFactoryResolver=r,this._applicationRef=o,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:n}=this._windowRef.location,s=this._ngZone.onStable.pipe(vf(1),B(()=>Xf(this._ngZone,n,({classList:t})=>t.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:s}}close(t=!1){return this._windowRef?Xf(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Tf(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):$p(void 0)}_getContentRef(t,e){if(t){if(t instanceof Dl){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new og([i.rootNodes],i)}return new og([[this._renderer.createText(`${t}`)]])}return new og([])}}let ag=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh]]}),t})();class cg{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const hg={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},ug=t=>t>0?Nf(t):t=>t;let dg=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),pg=(()=>{class t{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new ea,this.leave=new ea,this.rateChange=new ea(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case tg.ArrowDown:case tg.ArrowLeft:this.update(this.rate-1);break;case tg.ArrowUp:case tg.ArrowRight:this.update(this.rate+1);break;case tg.Home:this.update(0);break;case tg.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const i=qf(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((e,i)=>e.fill=Math.round(100*qf(t-i,1,0)))}}return t.\u0275fac=function(e){return new(e||t)(Vr(dg),Vr(bl))},t.\u0275cmp=$t({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,i){if(1&t&&ga(i,Dl,5),2&t){let t;pa(t=ma())&&(e.starTemplateFromContent=t.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&Qr("blur",function(){return e.handleBlur()})("keydown",function(t){return e.handleKeyDown(t)})("mouseleave",function(){return e.reset()}),2&t&&(Ro("tabindex",e.disabled?-1:0),Nr("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[jo([{provide:jf,useExisting:rt(()=>t),multi:!0}]),ce],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Mr(0,Wf,1,1,"ng-template",null,0,va),Mr(2,Uf,4,5,"ng-template",1)),2&t&&(hs(2),Hr("ngForOf",e.contexts))},directives:[oh,dh],encapsulation:2,changeDetection:0}),t})(),fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh]]}),t})(),gg=(()=>{class t{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(ln(Kf))},t.\u0275prov=dt({factory:function(){return new t(ln(Kf))},token:t,providedIn:"root"}),t})(),mg=0,_g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("id",e.id),function(t,e,i,n){const s=Ae(),r=je(2);s.firstUpdatePass&&go(s,null,r,n);const o=Ie();if(i!==cs&&Pr(o,r,i)){const l=s.data[ei()];if(bo(l,n)&&!fo(s,r)){let t=l.classesWithoutHost;null!==t&&(i=nt(t,i||"")),Br(s,l,o,i,n)}else!function(t,e,i,n,s,r,o,l){s===cs&&(s=Ft);let a=0,c=0,h=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==h||null!==u;){const o=a<s.length?s[a+1]:void 0,d=c<r.length?r[c+1]:void 0;let p,f=null;h===u?(a+=2,c+=2,o!==d&&(f=u,p=d)):null===u||null!==h&&h<u?(a+=2,f=h):(c+=2,f=u,p=d),null!==f&&wo(t,e,i,n,f,p,!0,l),h=a<s.length?s[a]:null,u=c<r.length?r[c]:null}}(s,l,o,o[11],o[r+1],o[r+1]=function(t,e,i){if(null==i||""===i)return Ft;const n=[],s=fn(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)t(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&t(n,r,s[r]);else"string"==typeof s&&e(n,s);return n}(t,e,i),0,r)}}(Qi,uo,"tooltip"+(e.tooltipClass?" "+e.tooltipClass:""),!0),ho("fade",e.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:$f,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(eo(),$r(0,"div",0),zr(1,"div",1),io(2),jr())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),t})(),wg=(()=>{class t{constructor(t,e,i,n,s,r,o,l,a,c){this._elementRef=t,this._renderer=e,this._ngZone=o,this._document=l,this._changeDetector=a,this.shown=new ea,this.hidden=new ea,this._ngbTooltipWindowId="ngb-tooltip-"+mg++,this._windowRef=null,this.animation=r.animation,this.autoClose=r.autoClose,this.placement=r.placement,this.triggers=r.triggers,this.container=r.container,this.disableTooltip=r.disableTooltip,this.tooltipClass=r.tooltipClass,this.openDelay=r.openDelay,this.closeDelay=r.closeDelay,this._popupService=new lg(_g,i,s,e,this._ngZone,n,c),this._zoneSubscription=o.onStable.subscribe(()=>{this._windowRef&&function(t,e,i,n,s){let r=Array.isArray(i)?i:i.split(sg);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=e.classList,a=t=>{const[e,i]=t.split("-"),n=[];return n.push(`bs-tooltip-${e}`),i&&n.push(`bs-tooltip-${e}-${i}`),n.forEach(t=>{l.add(t)}),n};o.forEach(t=>{l.remove(`bs-tooltip-${t}`)});let c=r.findIndex(t=>"auto"===t);c>=0&&o.forEach(function(t){null==r.find(e=>-1!==e.search("^"+t))&&r.splice(c++,1,t)});const h=e.style;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";let u=null,d=!1;for(u of r){let i=a(u);if(rg.positionElements(t,e,u,n)){d=!0;break}i.forEach(t=>{l.remove(t)})}d||(u=r[0],a(u),rg.positionElements(t,e,u,n))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:e,transition$:i}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=e,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,i,n,s,r,o,l){var a;i&&t.runOutsideAngular((a=()=>{const a=Wp(e,"keydown").pipe(pf(s),mf(t=>t.which===tg.Escape),Tf(t=>t.preventDefault())),c=Wp(e,"mousedown").pipe(D(t=>{const e=t.target;return 2!==t.button&&!eg(e,o)&&("inside"===i?eg(e,r)&&ig(e,l):"outside"===i?!eg(e,r):ig(e,l)||!eg(e,r))}),pf(s)),h=Wp(e,"mouseup").pipe(function(...t){return e=>{let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),e.lift(new Of(t,i))}}(c),mf(([t,e])=>e),Nf(0),pf(s));sf([a.pipe(D(t=>0)),h.pipe(D(t=>1))]).subscribe(e=>t.run(()=>n(e)))},ng?()=>setTimeout(()=>a(),100):a))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,i,n,s,r,o=0,l=0){const a=function(t,e=hg){const i=(t||"").trim();if(0===i.length)return[];const n=i.split(/\s+/).map(t=>t.split(":")).map(t=>{let i=e[t[0]]||t;return new cg(i[0],i[1])}),s=n.filter(t=>t.isManual());if(s.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===s.length&&n.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return n}(i);if(1===a.length&&a[0].isManual())return()=>{};const c=function(t,e,i,n){return new w(s=>{const r=[],o=()=>s.next(!0),l=()=>s.next(!1),a=()=>s.next(!n());return i.forEach(i=>{i.open===i.close?r.push(t.listen(e,i.open,a)):r.push(t.listen(e,i.open,o),t.listen(e,i.close,l))}),()=>{r.forEach(t=>t())}})}(t,e,a,n).pipe(function(t,e,i){return n=>{let s=null;const r=n.pipe(D(t=>({open:t})),mf(t=>{const e=i();return e===t.open||s&&s.open!==e?(s&&s.open!==t.open&&(s=null),!1):(s=t,!0)}),X());return G(r.pipe(mf(t=>t.open),ug(t)),r.pipe(mf(t=>!t.open),ug(e))).pipe(mf(t=>t===s&&(s=null,t.open!==i())),D(t=>t.open))}}(o,l,n)).subscribe(t=>t?s():r());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(Jo),Vr(vr),Vr(Go),Vr(Ol),Vr(gg),Vr(ja),Vr(gc),Vr(bl),Vr(ac))},t.\u0275dir=Kt({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[ce]}),t})(),yg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({}),t})();new Wi("live announcer delay",{providedIn:"root",factory:function(){return 100}});let vg=1;const bg=(()=>Promise.resolve())(),Cg={};function Sg(t){return t in Cg&&(delete Cg[t],!0)}const xg={setImmediate(t){const e=vg++;return Cg[e]=!0,bg.then(()=>Sg(e)&&t()),e},clearImmediate(t){Sg(t)}};class Rg extends qp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=xg.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(xg.clearImmediate(e),t.scheduled=void 0)}}class Dg extends Kp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,n=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++n<s&&(t=e.shift()));if(this.active=!1,i){for(;++n<s&&(t=e.shift());)t.unsubscribe();throw i}}}const kg=new Dg(Rg);class Eg extends qp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class Tg extends Kp{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,n=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++n<s&&(t=e.shift()));if(this.active=!1,i){for(;++n<s&&(t=e.shift());)t.unsubscribe();throw i}}}const Ig=new Tg(Eg);function Ag(t,e,i){return i?Ag(t,e).pipe(D(t=>a(t)?i(...t):i(t))):new w(i=>{const s=(...t)=>i.next(1===t.length?t[0]:t);let r;try{r=t(s)}catch(o){return void i.error(o)}if(n(e))return()=>e(s,r)})}function Og(t,e=Qp){return i=>i.lift(new Pg(t,e))}class Pg{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Fg(t,this.dueTime,this.scheduler))}}class Fg extends f{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ng,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ng(t){t.debouncedNext()}function Mg(t,e=0){return function(i){return i.lift(new Lg(t,e))}}class Lg{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new Vg(t,this.scheduler,this.delay))}}class Vg extends f{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Vg.dispatch,this.delay,new Hg(t,this.destination)))}_next(t){this.scheduleMessage(Ff.createNext(t))}_error(t){this.scheduleMessage(Ff.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Ff.createComplete()),this.unsubscribe()}}class Hg{constructor(t,e){this.notification=t,this.destination=e}}function Bg(t){return e=>e.lift(new zg(t))}class zg{constructor(t){this.value=t}call(t,e){return e.subscribe(new jg(t,this.value))}}class jg extends f{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function $g(t){return!!t&&(t instanceof w||"function"==typeof t.lift&&"function"==typeof t.subscribe)}class Wg extends qp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}class Gg extends Kp{}const Ug=new Gg(Wg);class qg extends S{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Zg(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let r;if(this.closed)throw new v;if(this.isStopped||this.hasError?r=u.EMPTY:(this.observers.push(t),r=new b(this,t)),n&&t.add(t=new Vg(t,n)),e)for(let o=0;o<s&&!t.closed;o++)t.next(i[o]);else for(let o=0;o<s&&!t.closed;o++)t.next(i[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||Ug).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let r=0;for(;r<s&&!(t-n[r].time<i);)r++;return s>e&&(r=Math.max(r,s-e)),r>0&&n.splice(0,r),n}}class Zg{constructor(t,e){this.time=t,this.value=e}}function Kg(t){return t&&"function"==typeof t.connect}class Qg{applyChanges(t,e,i,n,s){t.forEachOperation((t,n,r)=>{let o,l;if(null==t.previousIndex){const s=i(t,n,r);o=e.createEmbeddedView(s.templateRef,s.context,s.index),l=1}else null==r?(e.remove(n),l=3):(o=e.get(n),e.move(o,r),l=2);s&&s({context:null==o?void 0:o.context,operation:l,record:t})})}detach(){}}class Yg{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Jg=new Wi("_ViewRepeater");function Xg(t){return null!=t&&"false"!=`${t}`}function tm(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function em(t){return t instanceof Ko?t.nativeElement:t}class im{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new nm(t,this.durationSelector))}}class nm extends V{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:e}=this;i=e(t)}catch(e){return this.destination.error(e)}const n=H(i,new L(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function sm(t,e=Qp){return i=()=>Jp(t,e),function(t){return t.lift(new im(i))};var i}function rm(){return t=>t.lift(new om)}class om{call(t,e){return e.subscribe(new lm(t))}}class lm extends f{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}let am;try{am="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(KS){am=!1}let cm,hm,um,dm,pm=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!am)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(ln(ka))},t.\u0275prov=dt({factory:function(){return new t(ln(ka))},token:t,providedIn:"root"}),t})(),fm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({}),t})();function gm(t){return function(){if(null==cm&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>cm=!0}))}finally{cm=cm||!1}return cm}()?t:!!t.capture}function mm(){if("object"!=typeof document||!document)return 0;if(null==hm){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const i=document.createElement("div"),n=i.style;n.width="2px",n.height="1px",t.appendChild(i),document.body.appendChild(t),hm=0,0===t.scrollLeft&&(t.scrollLeft=1,hm=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return hm}function _m(t){if(function(){if(null==dm){const t="undefined"!=typeof document?document.head:null;dm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return dm}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const wm=new Wi("cdk-dir-doc",{providedIn:"root",factory:function(){return an(gc)}});let ym=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ea,t){const e=t.documentElement?t.documentElement.dir:null,i=(t.body?t.body.dir:null)||e;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(ln(wm,8))},t.\u0275prov=dt({factory:function(){return new t(ln(wm,8))},token:t,providedIn:"root"}),t})(),vm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({}),t})();const bm=["contentWrapper"],Cm=["*"],Sm=new Wi("VIRTUAL_SCROLL_STRATEGY");let xm=(()=>{class t{constructor(t,e,i){this._ngZone=t,this._platform=e,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(sm(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$p()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(mf(t=>!t||i.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,t)&&e.push(n)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let i=em(e),n=t.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(ln(ja),ln(pm),ln(gc,8))},t.\u0275prov=dt({factory:function(){return new t(ln(ja),ln(pm),ln(gc,8))},token:t,providedIn:"root"}),t})(),Rm=(()=>{class t{constructor(t,e,i,n){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=i,this.dir=n,this._destroyed=new S,this._elementScrolled=new w(t=>this.ngZone.runOutsideAngular(()=>Wp(this.elementRef.nativeElement,"scroll").pipe(pf(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),i&&0!=mm()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==mm()?t.left=t.right:1==mm()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;!function(){if(null==um){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return um=!1,um;if("scrollBehavior"in document.documentElement.style)um=!0;else{const t=Element.prototype.scrollTo;um=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return um}()?(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left)):e.scrollTo(t)}measureScrollOffset(t){const e="left",i="right",n=this.elementRef.nativeElement;if("top"==t)return n.scrollTop;if("bottom"==t)return n.scrollHeight-n.clientHeight-n.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==t?t=s?i:e:"end"==t&&(t=s?e:i),s&&2==mm()?t==e?n.scrollWidth-n.clientWidth-n.scrollLeft:n.scrollLeft:s&&1==mm()?t==e?n.scrollLeft+n.scrollWidth-n.clientWidth:-n.scrollLeft:t==e?n.scrollLeft:n.scrollWidth-n.clientWidth-n.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(xm),Vr(ja),Vr(ym,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Dm=(()=>{class t{constructor(t,e,i){this._platform=t,this._change=new S,this._changeListener=t=>{this._change.next(t)},this._document=i,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+e,height:i,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),i=t.documentElement,n=i.getBoundingClientRect();return{top:-n.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-n.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(sm(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(ln(pm),ln(ja),ln(gc,8))},t.\u0275prov=dt({factory:function(){return new t(ln(pm),ln(ja),ln(gc,8))},token:t,providedIn:"root"}),t})();const km="undefined"!=typeof requestAnimationFrame?Ig:kg;let Em=(()=>{class t extends Rm{constructor(t,e,i,n,s,r,o){super(t,r,i,s),this.elementRef=t,this._changeDetectorRef=e,this._scrollStrategy=n,this._detachedSubject=new S,this._renderedRangeSubject=new S,this._orientation="vertical",this.scrolledIndexChange=new w(t=>this._scrollStrategy.scrolledIndexChange.subscribe(e=>Promise.resolve().then(()=>this.ngZone.run(()=>t.next(e))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=u.EMPTY,this._viewportChanges=o.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Sf(null),sm(0,km)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(pf(this._detachedSubject)).subscribe(t=>{const e=t.length;e!==this._dataLength&&(this._dataLength=e,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){var e,i;((e=this._renderedRange).start!=(i=t).start||e.end!=i.end)&&(this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,e="to-start"){const i="horizontal"==this.orientation,n=i?"X":"Y";let s=`translate${n}(${Number((i&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===e&&(s+=` translate${n}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=s&&(this._renderedContentTransform=s,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,e="auto"){const i={behavior:e};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollTo(i)}scrollToIndex(t,e="auto"){this._scrollStrategy.scrollToIndex(t,e)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const e of t)e()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(bl),Vr(ja),Vr(Sm,8),Vr(ym,8),Vr(xm),Vr(Dm))},t.\u0275cmp=$t({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&fa(bm,7),2&t){let t;pa(t=ma())&&(e._contentWrapper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,e){2&t&&ho("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==e.orientation)},inputs:{orientation:"orientation"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[jo([{provide:Rm,useExisting:t}]),Cr],ngContentSelectors:Cm,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,e){1&t&&(eo(),zr(0,"div",0,1),io(2),jr(),$r(3,"div",2)),2&t&&(hs(3),co("width",e._totalContentWidth)("height",e._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),t})(),Tm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({}),t})(),Im=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[vm,fm,Tm],vm,Tm]}),t})();function Am(t){const{subscriber:e,counter:i,period:n}=t;e.next(i),this.schedule({subscriber:e,counter:i+1,period:n},n)}function Om(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Pm(t,e){const i=e?"":"none";Om(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}function Fm(t,e){const i=t.style;i.position=e?"":"fixed",i.top=i.opacity=e?"":"0",i.left=e?"":"-999em"}function Nm(t,e){return e?t+" "+e:t}function Mm(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function Lm(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Vm(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Hm(t,e,i){const{top:n,bottom:s,left:r,right:o}=t;return i>=n&&i<=s&&e>=r&&e<=o}function Bm(t,e,i){t.top+=e,t.bottom=t.top+t.height,t.left+=i,t.right=t.left+t.width}function zm(t,e,i,n){const{top:s,right:r,bottom:o,left:l,width:a,height:c}=t,h=a*e,u=c*e;return n>s-u&&n<o+u&&i>l-h&&i<r+h}class jm{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Vm(t)})})}handleScroll(t){const e=t.target,i=this.positions.get(e);if(!i)return null;const n=e===this._document?e.documentElement:e,s=i.scrollPosition;let r,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();r=t.top,o=t.left}else r=e.scrollTop,o=e.scrollLeft;const l=s.top-r,a=s.left-o;return this.positions.forEach((t,i)=>{t.clientRect&&e!==i&&n.contains(i)&&Bm(t.clientRect,l,a)}),s.top=r,s.left=o,{top:l,left:a}}}function $m(t){const e=t.cloneNode(!0),i=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");return"canvas"===n?qm(t,e):"input"!==n&&"select"!==n&&"textarea"!==n||Um(t,e),Wm("canvas",t,e,qm),Wm("input, textarea, select",t,e,Um),e}function Wm(t,e,i,n){const s=e.querySelectorAll(t);if(s.length){const e=i.querySelectorAll(t);for(let t=0;t<s.length;t++)n(s[t],e[t])}}let Gm=0;function Um(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Gm++}`)}function qm(t,e){const i=e.getContext("2d");if(i)try{i.drawImage(t,0,0)}catch(KS){}}const Zm=gm({passive:!0}),Km=gm({passive:!1});class Qm{constructor(t,e,i,n,s,r){this._config=e,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new S,this._pointerMoveSubscription=u.EMPTY,this._pointerUpSubscription=u.EMPTY,this._scrollSubscription=u.EMPTY,this._resizeSubscription=u.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new S,this.started=new S,this.released=new S,this.ended=new S,this.entered=new S,this.exited=new S,this.dropped=new S,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const i=t.target;return!!i&&(i===e||e.contains(i))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),i=this._dropContainer;if(!e)return void this._endDragSequence(t);i&&(i.isDragging()||i.isReceiving())||(t.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect())),t.preventDefault();const i=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,e);else{const t=this._activeTransform;t.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:t,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new jm(i,s),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Xg(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Pm(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>em(t)),this._handles.forEach(t=>Pm(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=em(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Km),e.addEventListener("touchstart",this._pointerDown,Zm)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?em(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Xm(this._rootElement),Xm(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Pm(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Pm(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Xm(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Xm(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){t_(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,n=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();i.insertBefore(s,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),Fm(t,!1),this._document.body.appendChild(i.replaceChild(n,t)),this._getPreviewInsertionPoint(i,r).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),n=t_(e),s=!n&&0!==e.button,r=this._rootElement,o=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),i||s||o)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Vm(this._boundaryElement));const l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const a=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Fm(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),n=this._getPointerPositionOnPage(t),s=this._getDragDistance(n),r=e._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s,dropPoint:n}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:s,dropPoint:n}),e.drop(this,i,this._initialIndex,this._initialContainer,r,s,n),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:n}){let s=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,t,e,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(i,n),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let n;if(i&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),n=e_(s,this._document),this._previewRef=s,t.matchSize?i_(n,e):n.style.transform=Ym(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;n=$m(t),i_(n,t.getBoundingClientRect()),this._initialTransform&&(n.style.transform=this._initialTransform)}return Om(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:`${this._config.zIndex||1e3}`}),Pm(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>n.classList.add(t)):n.classList.add(e)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function(t){const e=getComputedStyle(t),i=Lm(e,"transition-property"),n=i.find(t=>"transform"===t||"all"===t);if(!n)return 0;const s=i.indexOf(n),r=Lm(e,"transition-duration"),o=Lm(e,"transition-delay");return Mm(r[s])+Mm(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const i=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",i),t(),clearTimeout(n))},n=setTimeout(i,1.5*e);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=e_(this._placeholderRef,this._document)):i=$m(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),n=t===this._rootElement?null:t,s=n?n.getBoundingClientRect():i,r=t_(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:s.left-i.left+(r.pageX-s.left-o.left),y:s.top-i.top+(r.pageY-s.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=t_(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=n,e.y=s,e.matrixTransform(t.inverse())}}return{x:n,y:s}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:n}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?n=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,s=this._boundaryRect,r=this._previewRect,o=s.top+e,l=s.bottom-(r.height-e);i=Jm(i,s.left+t,s.right-(r.width-t)),n=Jm(n,o,l)}return{x:i,y:n}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,r=Math.abs(e-s.x),o=Math.abs(i-s.y);return r>this._config.pointerDirectionChangeThreshold&&(n.x=e>s.x?1:-1,s.x=e),o>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Pm(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Km),t.removeEventListener("touchstart",this._pointerDown,Zm)}_applyRootElementTransform(t,e){const i=Ym(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=Nm(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const n=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=Ym(t,e);this._preview.style.transform=Nm(s,n)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const s=i.left-n.left,r=n.right-i.right,o=i.top-n.top,l=n.bottom-i.bottom;i.width>n.width?(s>0&&(t+=s),r>0&&(t-=r)):t=0,i.height>n.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:t_(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=t.target;this._boundaryRect&&(i===this._document||i!==this._boundaryElement&&i.contains(this._boundaryElement))&&Bm(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_m(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const t=this._document;return e||t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement||t.body}return em(i)}}function Ym(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Jm(t,e,i){return Math.max(e,Math.min(i,t))}function Xm(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function t_(t){return"t"===t.type[0]}function e_(t,e){const i=t.rootNodes;if(1===i.length&&i[0].nodeType===e.ELEMENT_NODE)return i[0];const n=e.createElement("div");return i.forEach(t=>n.appendChild(t)),n}function i_(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Ym(e.left,e.top)}function n_(t,e,i){const n=s_(e,t.length-1),s=s_(i,t.length-1);if(n===s)return;const r=t[n],o=s<n?-1:1;for(let l=n;l!==s;l+=o)t[l]=t[l+o];t[s]=r}function s_(t,e){return Math.max(0,Math.min(e,t))}class r_{constructor(t,e,i,n,s){this._dragDropRegistry=e,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new S,this.entered=new S,this.exited=new S,this.dropped=new S,this.sorted=new S,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=u.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new S,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Qp){return(!Yp(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Qp),new w(i=>(i.add(e.schedule(Am,t,{subscriber:i,counter:0,period:t})),i))}(0,Ig).pipe(pf(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode,e=this.autoScrollStep;1===this._verticalScrollDirection?l_(t,-e):2===this._verticalScrollDirection&&l_(t,e),1===this._horizontalScrollDirection?a_(t,-e):2===this._horizontalScrollDirection&&a_(t,e)})},this.element=em(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new jm(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,n){let s;this._draggingStarted(),null==n?(s=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(t,e,i))):s=n;const r=this._activeDraggables,o=r.indexOf(t),l=t.getPlaceholderElement();let a=r[s];if(a===t&&(a=r[s+1]),o>-1&&r.splice(o,1),a&&!this._dragDropRegistry.isDragging(a)){const e=a.getRootElement();e.parentElement.insertBefore(l,e),r.splice(s,0,t)}else if(this._shouldEnterAsFirstChild(e,i)){const e=r[0].getRootElement();e.parentNode.insertBefore(l,e),r.unshift(t)}else em(this.element).appendChild(l),r.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,n,s,r,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:r,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=em(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?o_("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,n){if(this.sortingDisabled||!this._clientRect||!zm(this._clientRect,.05,e,i))return;const s=this._itemPositions,r=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===r&&s.length>0)return;const o="horizontal"===this._orientation,l=o_(s,e=>e.drag===t),a=s[r],c=a.clientRect,h=l>r?1:-1,u=this._getItemOffsetPx(s[l].clientRect,c,h),d=this._getSiblingOffsetPx(l,s,h),p=s.slice();n_(s,l,r),this.sorted.next({previousIndex:l,currentIndex:r,container:this,item:t}),s.forEach((e,i)=>{if(p[i]===e)return;const n=e.drag===t,s=n?u:d,r=n?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=s,o?(r.style.transform=Nm(`translate3d(${Math.round(e.offset)}px, 0, 0)`,e.initialTransform),Bm(e.clientRect,0,s)):(r.style.transform=Nm(`translate3d(0, ${Math.round(e.offset)}px, 0)`,e.initialTransform),Bm(e.clientRect,s,0))}),this._previousSwap.overlaps=Hm(c,e,i),this._previousSwap.drag=a.drag,this._previousSwap.delta=o?n.x:n.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.positions.forEach((r,o)=>{o!==this._document&&r.clientRect&&!i&&zm(r.clientRect,.05,t,e)&&([n,s]=function(t,e,i,n){const s=c_(e,n),r=h_(e,i);let o=0,l=0;if(s){const e=t.scrollTop;1===s?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(r){const e=t.scrollLeft;1===r?e>0&&(l=1):t.scrollWidth-e>t.clientWidth&&(l=2)}return[o,l]}(o,r.clientRect,t,e),(n||s)&&(i=o))}),!n&&!s){const{width:r,height:o}=this._viewportRuler.getViewportSize(),l={width:r,height:o,top:0,right:r,bottom:o,left:0};n=c_(l,e),s=h_(l,t),i=window}!i||n===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=em(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=em(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:Vm(e)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=em(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var e;const i=t.getRootElement();if(i){const n=null===(e=this._itemPositions.find(e=>e.drag===t))||void 0===e?void 0:e.initialTransform;i.style.transform=n||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const n="horizontal"===this._orientation,s=e[t].clientRect,r=e[t+-1*i];let o=s[n?"width":"height"]*i;if(r){const t=n?"left":"top",e=n?"right":"bottom";-1===i?o-=r.clientRect[t]-s[e]:o+=s[t]-r.clientRect[e]}return o}_getItemOffsetPx(t,e,i){const n="horizontal"===this._orientation;let s=n?e.left-t.left:e.top-t.top;return-1===i&&(s+=n?e.width-t.width:e.height-t.height),s}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return n?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return n?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,n){const s="horizontal"===this._orientation,r=o_(this._itemPositions,({drag:r,clientRect:o},l,a)=>{if(r===t)return a.length<2;if(n){const t=s?n.x:n.y;if(r===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return s?e>=Math.floor(o.left)&&e<Math.floor(o.right):i>=Math.floor(o.top)&&i<Math.floor(o.bottom)});return-1!==r&&this.sortPredicate(r,t,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&Hm(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(n=>n._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!Hm(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;const s=em(this.element);return n===s||s.contains(n)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(t=>this.enterPredicate(t,this)||this._draggables.indexOf(t)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Bm(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=_m(em(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function o_(t,e){for(let i=0;i<t.length;i++)if(e(t[i],i,t))return i;return-1}function l_(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function a_(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function c_(t,e){const{top:i,bottom:n,height:s}=t,r=.05*s;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}function h_(t,e){const{left:i,right:n,width:s}=t,r=.05*s;return e>=i-r&&e<=i+r?1:e>=n-r&&e<=n+r?2:0}const u_=gm({passive:!1,capture:!0});let d_=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=t=>t.isDragging(),this.pointerMove=new S,this.pointerUp=new S,this.scroll=new S,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,u_)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,u_)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:u_}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:u_}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(ln(ja),ln(gc))},t.\u0275prov=dt({factory:function(){return new t(ln(ja),ln(gc))},token:t,providedIn:"root"}),t})();const p_={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let f_=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=p_){return new Qm(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new r_(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(ln(gc),ln(ja),ln(Dm),ln(d_))},t.\u0275prov=dt({factory:function(){return new t(ln(gc),ln(ja),ln(Dm),ln(d_))},token:t,providedIn:"root"}),t})();const g_=new Wi("CDK_DRAG_PARENT"),m_=new Wi("CdkDropListGroup");let __=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Xg(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[jo([{provide:m_,useExisting:t}])]}),t})();const w_=new Wi("CDK_DRAG_CONFIG");let y_=0;const v_=new Wi("CdkDropList");let b_=(()=>{class t{constructor(e,i,n,s,r,o,l){this.element=e,this._changeDetectorRef=n,this._scrollDispatcher=s,this._dir=r,this._group=o,this._destroyed=new S,this.connectedTo=[],this.id="cdk-drop-list-"+y_++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new ea,this.entered=new ea,this.exited=new ea,this.sorted=new ea,this._unsortedItems=new Set,this._dropListRef=i.createDropList(e),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,i)=>this.sortPredicate(t,e.data,i.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Xg(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Sf(this._dir.value),pf(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const i=(n=this.connectedTo,Array.isArray(n)?n:[n]).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);var n;if(this._group&&this._group._items.forEach(t=>{-1===i.indexOf(t)&&i.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Xg(this.sortingDisabled),e.autoScrollDisabled=Xg(this.autoScrollDisabled),e.autoScrollStep=tm(this.autoScrollStep,2),e.connectedTo(i.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:s,listOrientation:r}=t;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=s&&s,this.orientation=r||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(f_),Vr(bl),Vr(xm),Vr(ym,8),Vr(m_,12),Vr(w_,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(Nr("id",e.id),ho("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[jo([{provide:m_,useValue:void 0},{provide:v_,useExisting:t}])]}),t._dropLists=[],t})();const C_=new Wi("CdkDragHandle"),S_=new Wi("CdkDragPlaceholder"),x_=new Wi("CdkDragPreview");let R_=(()=>{class t{constructor(e,i,n,s,r,o,l,a,c,h,u){this.element=e,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=c,this._selfHandle=h,this._parentDrag=u,this._destroyed=new S,this.started=new ea,this.released=new ea,this.ended=new ea,this.entered=new ea,this.exited=new ea,this.dropped=new ea,this.moved=new w(t=>{const e=this._dragRef.moved.pipe(D(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=a.createDrag(e,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,t._dragInstances.push(this),o&&this._assignDefaults(o),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Xg(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(vf(1),pf(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Sf(this._handles),Tf(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Df(t=>G(...t.map(t=>t._stateChanges.pipe(Sf(t))))),pf(this._destroyed)).subscribe(t=>{const e=this._dragRef,i=t.element.nativeElement;t.disabled?e.disableHandle(i):e.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,i=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=t._dragInstances.indexOf(this);e>-1&&t._dragInstances.splice(e,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?D_(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?D_(this.element.nativeElement,t):em(t):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof i&&i?i:tm(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),t&&e.withDirection(t.value)}}),e.beforeStarted.pipe(vf(1)).subscribe(()=>{var i,n;if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(null===(i=s.classList)||void 0===i?void 0:i.contains("cdk-drag")){e.withParent((null===(n=t._dragInstances.find(t=>t.element.nativeElement===s))||void 0===n?void 0:n._dragRef)||null);break}s=s.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance,dropPoint:t.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance,dropPoint:t.dropPoint})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:r,draggingDisabled:o,rootElementSelector:l,previewContainer:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=i||0,e&&(this.lockAxis=e),n&&(this.constrainPosition=n),s&&(this.previewClass=s),r&&(this.boundaryElement=r),l&&(this.rootElementSelector=l),a&&(this.previewContainer=a)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(v_,12),Vr(gc),Vr(ja),Vr(Ol),Vr(w_,8),Vr(ym,8),Vr(f_),Vr(bl),Vr(C_,10),Vr(g_,12))},t.\u0275dir=Kt({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){if(1&t&&(ga(i,x_,5),ga(i,S_,5),ga(i,C_,5)),2&t){let t;pa(t=ma())&&(e._previewTemplate=t.first),pa(t=ma())&&(e._placeholderTemplate=t.first),pa(t=ma())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&ho("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[jo([{provide:g_,useExisting:t}]),ce]}),t._dragInstances=[],t})();function D_(t,e){let i=t.parentElement;for(;i;){if(i.matches?i.matches(e):i.msMatchesSelector(e))return i;i=i.parentElement}return null}let k_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:[f_],imports:[Tm]}),t})();const E_=t=>e=>e.pipe(mf(e=>e.kind===t)),T_=t=>e=>t(e).pipe(vf(1)),I_=T_(E_("onConstructed")),A_=T_(E_("onInit")),O_=T_(E_("onDestroy")),P_=(E_("beforeInvalidateHeaders"),E_("onInvalidateHeaders")),F_=E_("onResizeRow");function N_(t,e){return N_.pipe(t,e)}function M_(t,e){if(Array.isArray(e))return e.map(e=>L_(t,e));if("function"==typeof e){const i=t.findIndex(e);return i>-1&&(t.splice(i,1),!0)}return L_(t,e)}function L_(t,e){const i=t.indexOf(e);return i>-1&&(t.splice(i,1),!0)}!function(t){const e={},i=new WeakMap;function n(t,e=!1){let n=i.get(t);return n||!0!==e||i.set(t,n=new S),n}t.kill=function(t,...s){if(0===s.length)!function(t){const s=n(t);s&&(s.next(e),s.complete(),i.delete(t))}(t);else{const e=n(t);if(e)for(const t of s)e.next(t)}},t.pipe=function(t,i){return s=>s.pipe(pf(n(t,!0).pipe(mf(t=>t===e||i&&t===i))))}}(N_||(N_={}));class V_{constructor(t,e){this._name=t,this._options=e,this.value=null,this._inputValue=null,this._inputValueType=0,this._inputValueIdentityChangeSinceLastCheck=!1}setInput(t){if(t!==this._inputValue){let e;if(t)if(Array.isArray(t))e=4;else if(t instanceof Set)e=8;else if("string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");e=1}else e=2;else e=0,t=null;this._inputValue=t,this._inputValueType=e,this._inputValueIdentityChangeSinceLastCheck=!0,this._processValueChange(!0)}}updateValue(){let t=this._inputValueIdentityChangeSinceLastCheck;return!this._inputValueIdentityChangeSinceLastCheck&&14&this._inputValueType?t=this._processValueChange(!1):this._inputValueIdentityChangeSinceLastCheck=!1,t}_processValueChange(t){let e=t,i=null;const n=!!(1&this._options),s=!!(8&this._options),r=!!(2&this._options);switch(this._inputValueType){case 1:if(t){const t=this._inputValue.split(/\s+/g);if(16&this._options){i={};for(let e=0;e<t.length;e++)i[t[e]]=!0}else i=t.join(" ")}break;case 2:{const o=this._inputValue,l=Object.keys(o);t||(e=function(t,e,i){const n=Object.keys(i);if(t.length!==n.length)return!0;for(let s=0,r=t.length;s<=r;s++){let r=t[s];if(r!==n[s]||e[r]!==i[r])return!0}return!1}(l,o,this.value)),e&&(i=function(t,e,i,n,s){const r={};for(let o=0;o<s.length;o++){let l=s[o],a=n[l];void 0!==a&&("boolean"!=typeof a&&(a=""+a),H_(r,t?l.trim():l,a,e,i))}return r}(n,s,r,o,l));break}case 4:case 8:{const s=Array.from(this._inputValue);t||(e=!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(Object.keys(this.value),s)),e&&(i=function(t,e,i,n){const s={};for(let r=0;r<n.length;r++){let t=n[r];t=e?t.trim():t,H_(s,t,!0,!1,i)}return s}(0,n,r,s));break}default:e=t,i=null}return e&&(this.value=i),e}}function H_(t,e,i,n,s){if(s&&e.indexOf(" ")>0){const s=e.split(/\s+/g);for(let e=0;e<s.length;e++)B_(t,s[e],i,n)}else B_(t,e,i,n)}function B_(t,e,i,n){if(n&&"string"==typeof i){const t=e.indexOf(".");if(t>0){const n=e.substr(t+1);e=e.substring(0,t),i+=n}}t[e]=i}function z_(t,e){if(e.path)for(const i of e.path)if(!(t=t[i]))return;return t[e.prop]}function j_(t,e){return t.transform?t.transform(z_(e,t),e,t):z_(e,t)}class $_{constructor(){this.kind="token",this._perPage=10,this._total=0,this.onChange$=new lf({page:[null,null]}),this.onChange=this.onChange$.asObservable(),this.reset()}get perPage(){return this._perPage}set perPage(t){if(t<1)throw new Error(`Invalid total size value ${t}`);if(this._perPage!==t){const e={perPage:[this._perPage,this._perPage=t]};this.emit(e)}}get page(){return this._page}set page(t){if(this._page!==t){const e=this._tokens.indexOf(t);if(-1===e)throw new Error(`Invalid page token ${t}`);this._cursor=e;const i=this._page;this._page=t,this.emit({page:[i,t]})}}get total(){return this._total}set total(t){const e={total:[this._total,this._total=t]};this.emit(e)}get totalPages(){return this._tokens.length}get range(){if(!this._range){const t=this._cursor*this.perPage,e=Math.min(this._total,t+this.perPage);this._range=this.noCacheMode?[0,e-t]:[t,e]}return this._range}reset(){this._tokens=[null],this._cursor=0,this._total=0,this.page=null}canMove(t){return this._tokens.indexOf(t)>-1}hasNext(){return this._cursor<this._tokens.length-1}hasPrev(){return this._cursor>0}move(t){this.page=t}nextPage(){this.page=this._tokens[++this._cursor]}prevPage(){this.page=this._tokens[--this._cursor]}addNext(t){const e=this._cursor+1;this._tokens[e]!==t&&(this._tokens[e]=t,this._tokens.splice(e+1))}emit(t){this._range=void 0,this.queuedChanges?Object.assign(this.queuedChanges,t):(this.queuedChanges=t,setTimeout(()=>{this.queuedChanges=void 0,this.onChange$.next(t)}))}}class W_{constructor(){this.kind="pageNumber",this._total=0,this._perPage=10,this._page=1,this._totalPages=0,this.onChange$=new lf({page:[null,1]}),this.onChange=this.onChange$.asObservable()}get perPage(){return this._perPage}set perPage(t){if(t<1)throw new Error(`Invalid total size value ${t}`);if(this._perPage!==t){const e={perPage:[this._perPage,this._perPage=t]},i=this._page;this.calcPages(),i!==this._page&&(e.page=[i,this._page]),this.emit(e)}}get page(){return this._page}set page(t){if(t<0||t>this._totalPages)throw new Error(`Invalid page index ${t}`);if(this._page!==t){const e=this._page;this._page=t,this.emit({page:[e,t]})}}get total(){return this._total}set total(t){if(t<0)throw new Error(`Invalid total size value ${t}`);if(this._total!==t){const e={total:[this._total,this._total=t]},i=this._page;this.calcPages(),i!==this._page&&(e.page=[i,this._page]),this.emit(e)}}get totalPages(){return this._totalPages}get range(){if(!this._range){const t=(this.page-1)*this.perPage,e=Math.min(this._total,t+this.perPage);this._range=this.noCacheMode?[0,e-t]:[t,e]}return this._range}canMove(t){const e=this._page+t;return e>=1&&e<=this.totalPages}hasNext(){return this.canMove(1)}hasPrev(){return this.canMove(-1)}move(t){this.page=this._page+t}nextPage(){this.move(1)}prevPage(){this.move(-1)}reset(){this.page=1}calcPages(){this._totalPages=Math.ceil(this._total/this.perPage),this._totalPages>0&&this._page>this._totalPages&&(this.page=this._totalPages)}emit(t){this._range=void 0,this.queuedChanges?Object.assign(this.queuedChanges,t):(this.queuedChanges=t,setTimeout(()=>{this.queuedChanges=void 0,this.onChange$.next(t)}))}}function G_(t,e,i){return i.sort((i,n)=>{const s="asc"===e.order?1:-1;let r=j_(t,i),o=j_(t,n);return r=isNaN(+r)?r:+r,o=isNaN(+o)?o:+o,r&&o?(r<o?-1:r===o?0:1)*s:(r?1:-1)*s})}const U_=(t,e,i,n)=>e&&e.toString().toLowerCase().includes(t),q_=Object.freeze({}),Z_={filter:(t,e)=>t.filter===e.filter&&t.type==e.type,sort(t,e){if(t.column===e.column){const i=t.sort||{},n=e.sort||{};return i.order===n.order&&i.sortFn===n.sortFn}},data:(t,e)=>t===e};function K_(t,e,i){if("pagination"===t){const t=e||{},n=i.pagination,s=Object.keys(t).filter(e=>n[e]!=t[e][1]&&"total"!==e),r={changed:s.length>0,page:Q_(n.page),perPage:Q_(n.perPage)};if(r.changed)for(const e of s)r[e].changed=!0,r[e].prev=t[e][0],r[e].curr=n[e]=t[e][1];return r}{const n=i[t];return(e=e||q_)===n||e!==q_&&n!==q_&&(0,Z_[t])(n,e)?Q_(n):(i[t]=e,{changed:!0,prev:n,curr:e})}}function Q_(t){return{changed:!1,prev:t,curr:t}}const Y_=["sort","filter","pagination"],J_=[...Y_,"data"],X_={},tw={filter:q_,sort:q_,pagination:{},data:q_};class ew{constructor(t,e){this.sourceFactory=t,this._inFlight=new Set,this._inPreFlight=!1,this.config=Object.assign({},e||{}),this._refresh$=new S,this._onSourceChange$=new S,this.onSourceChanged=this._onSourceChange$.pipe(mf(t=>t!==X_)),this.onSourceChanging=this._onSourceChange$.pipe(mf(t=>t===X_))}static hasCustomBehavior(t){for(const e of Y_)if(t[e])return!0;return!1}static isCustomBehaviorEvent(t,e){for(const i of Y_)if(e[i]&&t[i].changed)return!0;return!1}get inFlight(){return this._inPreFlight||this._inFlight.size>0}dispose(){this._refresh$.complete(),this._onSourceChange$.complete()}refresh(t){this._refresh$.next({data:t})}clearCache(t){if(t in this.cache){const e=this.cache[t];return this.cache[t]=tw[t],e}return null}setPaginator(t){this.paginator=t}updateProcessingLogic(t,e,i,n={}){let s=-1;const r=t=>-1===s||t.changed;this._lastSource=void 0,this.cache=Object.assign(Object.assign({},tw),n);const o=[t.pipe(D(t=>K_("filter",t,this.cache)),mf(r)),e.pipe(mf(t=>!0!==t.skipUpdate),D(t=>K_("sort",t,this.cache)),mf(r)),i.pipe(D(t=>K_("pagination",t,this.cache)),mf(r)),this._refresh$.pipe(D(t=>{return{changed:(e=K_("data",t,this.cache)).changed,prev:e.prev.data,curr:e.hasOwnProperty("curr")?e.curr.data:e.prev.data};var e}),mf(r))],l=ew.hasCustomBehavior(this.config);return function(...t){let e,i;return R(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&a(t[0])&&(t=t[0]),W(t,i).lift(new cf(e))}([o[0],o[1],o[2],o[3]]).pipe(Tf(()=>this._inPreFlight=!0),Og(0),Df(([t,e,i,n])=>{this._inPreFlight=!1,s++;const r={id:10*Math.random(),filter:t,sort:e,pagination:i,data:n,eventSource:n.changed?"data":"customTrigger",isInitial:0===s,updateTotalLength:t=>{this.paginator&&(this.paginator.total=t)}};return this.onStartOfEvent(r),(n.changed||l&&ew.isCustomBehaviorEvent(r,this.config)?this.runHandle(r).pipe(D(t=>(!1!==t&&(r.data.changed=!0),{event:r,data:t}))):$p({event:r,data:this._lastSource})).pipe(D(t=>{var e;if(!1===t.data)return;const i=this.config,n=t.event,s={};for(const l of Y_)i[l]||!n.isInitial&&!n[l].changed||(s[l]=!0);n.data.changed&&(this._lastSource=t.data,i.sort?this._lastSortedSource=this._lastSource:(s.sort=!0,s.filter=!0),i.filter?this._lastFilteredSource=this._lastSource:s.filter=!0),i.pagination||!s.sort&&!s.filter||(s.pagination=!0),s.sort&&(this._lastSortedSource=this.applySort(this._lastSource,n.sort.curr||n.sort.prev));let r=this._lastSortedSource;(s.filter||!i.filter&&(null===(e=n.filter.curr)||void 0===e?void 0:e.filter))&&(r=this._lastFilteredSource=this.applyFilter(r,n.filter.curr||n.filter.prev),this.config.pagination||!s.filter&&s.pagination||this.resetPagination(r.length)),s.pagination&&(r=this.applyPagination(r));const o=Object.assign({},n);for(const l of J_)o[l]="pagination"===l?JSON.parse(JSON.stringify(n[l])):Object.assign({},n[l]),n[l].changed=!1;return n.pagination.page.changed=n.pagination.perPage.changed=!1,{event:o,data:r,sorted:this._lastSortedSource,filtered:this._lastFilteredSource}}),Tf(()=>this.onEndOfEvent(r)),mf(t=>!!t))}))}applyFilter(t,e){return function(t,e){if(!e||!t||0===t.length)return t;{const i=e.columns;if("predicate"===e.type){const n=e.filter;return t.filter(t=>n(t,i))}if("value"===e.type){const n="function"==typeof e.filter.toLowerCase?e.filter.toLowerCase():e.filter;return t.filter(t=>i.some(i=>(i.filter||U_)(i.filter?e.filter:n,j_(i,t),t,i)))}}return t}(t,e)}applySort(t,e){return function(t,e,i){return e&&e.order?t&&i?("function"==typeof e.sortFn?e.sortFn:"function"==typeof t.sort?t.sort:G_)(t,e,i.slice()):i||[]:i}(e.column,e.sort,t)}applyPagination(t){if(this.paginator){const e=this.paginator.range;return t.slice(e[0],e[1])}return t}resetPagination(t){this.paginator&&(this.paginator.total=t,this.paginator.page=t>0?1:0)}onStartOfEvent(t){this._inFlight.add(t)}onEndOfEvent(t){this._inFlight.delete(t)}emitOnSourceChanging(t){this._onSourceChange$.next(X_)}emitOnSourceChanged(t,e){this._onSourceChange$.next(e)}runHandle(t){const e=this.sourceFactory(t);return!1===e?$p(!1):(this.emitOnSourceChanging(t),(Array.isArray(e)?$p(e):($g(e)?e:M(e)).pipe(D(t=>Array.isArray(t)?t:[]))).pipe(Mg(kg,0),Tf(e=>this.emitOnSourceChanged(t,e))))}}const iw={};class nw extends class{}{constructor(t,e){super(),this._selection=new Yg(!0,[]),this._tableConnectionChange$=new S,this._onRenderDataChanging=new S,this._renderData$=new lf([]),this._filter$=new lf(void 0),this._sort$=new lf({column:null,sort:null,skipUpdate:!1}),this._onError$=new S,e=e||{},this.adapter=t,this.onSourceChanging=this._adapter.onSourceChanging,this.onSourceChanged=this.adapter.onSourceChanged.pipe(Mg(kg,0),Bg(void 0)),this.onRenderDataChanging=this._onRenderDataChanging.asObservable(),this.onRenderedDataChanged=this._renderData$.pipe(Hf(1),Bg(void 0)),this.onError=this._onError$.asObservable(),this.tableConnectionChange=this._tableConnectionChange$.asObservable(),this.keepAlive=e.keepAlive||!1,this.skipInitial=e.skipInitial||!1,this.sortChange=this._sort$.asObservable()}get pagination(){return this._pagination}set pagination(t){if(this._pagination!==t){switch(this._pagination=t,t){case"pageNumber":this._paginator=new W_;break;case"token":this._paginator=new $_;break;default:this._paginator=void 0}this._adapter&&this._adapter.setPaginator(this._paginator)}}get adapter(){return this._adapter}set adapter(t){this._adapter!==t&&(this._adapter=t,this.pagination&&this._adapter.setPaginator(this._paginator))}get renderStart(){return this._lastRange?this._lastRange.start:0}get renderLength(){return this._renderData$.value.length}get renderedData(){return this._renderData$.value||[]}get sortedData(){return this._lastAdapterEvent&&this._lastAdapterEvent.sorted||[]}get filteredData(){return this._lastAdapterEvent&&this._lastAdapterEvent.filtered||[]}get filter(){return this._filter$.value}get sort(){return this._sort$.value}get paginator(){return this._paginator}get length(){return this.source.length}get source(){return this._source||[]}get selection(){return this._selection}refresh(t){this._tableConnected?this._adapter.refresh(t):this._lastRefresh=t}setFilter(t,e){if(t&&"function"!=typeof t&&(!e||0===e.length))throw new Error("Invalid filter definitions, columns are mandatory when using a single value input.");this._filter$.next(function(t,e){return void 0===t?void 0:{columns:e,type:"function"==typeof t?"predicate":"value",filter:t}}(t,e||[]))}syncFilter(){const t=this._adapter.clearCache("filter");t&&this.setFilter(t.filter,t.columns)}setSort(t,e,i=!1){this._sort$.next(t&&"boolean"!=typeof t?{column:t,sort:e,skipUpdate:i}:{column:null,sort:{},skipUpdate:!!t})}dispose(){this._disposed||(N_.kill(this),this._adapter.dispose(),this._onRenderDataChanging.complete(),this._renderData$.complete(),this._filter$.complete(),this._sort$.complete(),this._onError$.complete(),this._disposed=!0)}disconnect(t){this._lastRefresh=void 0,this._tableConnectionChange$.next(this._tableConnected=!1),!1===this.keepAlive&&this.dispose()}connect(t){if(this._disposed)throw new Error("PblDataSource is disposed. Use `keepAlive` if you move datasource between tables.");return this._tableConnected=!0,this._updateProcessingLogic(t),this._tableConnectionChange$.next(this._tableConnected),this._renderData$}moveItem(t,e,i=!1){if(!0!==i&&this._lastRange&&(t=this._lastRange.start+t,e=this._lastRange.start+e),this.length>0){this._eventEmitter.emitEvent({source:"ds",kind:"onBeforeMoveItem",fromIndex:t,toIndex:e}),n_(this._source,t,e);const i=this._lastRange?this._source.slice(this._lastRange.start,this._lastRange.end):this._source;this._renderData$.next(i)}}_attachEmitter(t){this._eventEmitter=t}_detachEmitter(){this._eventEmitter=void 0}_updateProcessingLogic(t){const e={filter:this.filter,sort:this.sort},i=this._paginator;i&&(e.pagination={page:i.page,perPage:i.perPage});const n=this._adapter.updateProcessingLogic(this._filter$,this._sort$,i?i.onChange:$p(void 0),e);N_.kill(this,iw);const s=(t,e)=>e.slice(t.start,t.end+1);let r,o;t.viewChange.pipe(N_(this,iw)).subscribe(t=>{var e,i;(null===(e=this._lastRange)||void 0===e?void 0:e.start)===t.start&&(null===(i=this._lastRange)||void 0===i?void 0:i.end)===t.end||(this._lastRange=t,r||t&&(null==o?void 0:o.length)&&this._renderData$.next(s(this._lastRange,o)))}),n.pipe(N_(this,iw),Tf(t=>{o=t.data,r=!0,this._onRenderDataChanging.next(this._lastAdapterEvent=t)})).subscribe(({data:t})=>{this._lastRange&&(null==t?void 0:t.length)&&(t=s(this._lastRange,t)),this._renderData$.next(t),r=!1},t=>{this._onError$.next(t)}),this._adapter.onSourceChanged.pipe(N_(this,iw)).subscribe(t=>this._source=t||[]),void 0!==this._lastRefresh?(this._adapter.refresh(this._lastRefresh),this._lastRefresh=void 0):this.skipInitial||this.refresh()}}class sw extends class{constructor(){this._adapter={},this._dsOptions={}}onTrigger(t){return this._adapter.onTrigger=t,this}setCustomTriggers(...t){if(0===t.length)this._adapter.customTriggers=!1;else{const e=this._adapter.customTriggers={};for(const i of t)e[i]=!0}return this}skipInitialTrigger(){return this._dsOptions.skipInitial=!0,this}keepAlive(){return this._dsOptions.keepAlive=!0,this}onCreated(t){return this._onCreated=t,this}create(){const t=this.createDataSource(this.createAdapter());return this._onCreated&&this._onCreated(t),t}}{createAdapter(){return new ew(this._adapter.onTrigger,this._adapter.customTriggers||!1)}createDataSource(t){return new nw(t,this._dsOptions)}}function rw(){return new sw}const ow={showHeader:!0,showFooter:!1,noFiller:!1,clearContextOnSourceChanging:!1},lw=new Wi("PEB_NGRID_CONFIG");let aw=(()=>{class t{constructor(t){if(this.config=new Map,this.configNotify=new Map,t)for(const i of Object.keys(t))this.config.set(i,t[i]);const e=this.config.get("table")||{};this.config.set("table",Object.assign(Object.assign({},ow),e))}has(t){return this.config.has(t)}get(t,e){return this.config.get(t)||e}set(t,e){const i=this.get(t);e=Object.assign({},e),Object.freeze(e),this.config.set(t,e),this.notify(t,e,i)}onUpdate(t){return this.getGetNotifier(t)}getGetNotifier(t){let e=this.configNotify.get(t);return e||this.configNotify.set(t,e=new qg(1)),e}notify(t,e,i){this.getGetNotifier(t).next({curr:e,prev:i})}}return t.\u0275fac=function(e){return new(e||t)(ln(lw,8))},t.\u0275prov=dt({factory:function(){return new t(ln(lw,8))},token:t,providedIn:"root"}),t})();const cw=[[["caption"]],[["colgroup"],["col"]]],hw=["caption","colgroup, col"];function uw(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Xg(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const dw=new Wi("CDK_TABLE");let pw=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl))},t.\u0275dir=Kt({type:t,selectors:[["","cdkCellDef",""]]}),t})(),fw=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl))},t.\u0275dir=Kt({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),gw=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl))},t.\u0275dir=Kt({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class mw{}const _w=uw(mw);let ww=(()=>{class t extends _w{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=Xg(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(Vr(dw,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,i){if(1&t&&(ga(i,pw,5),ga(i,fw,5),ga(i,gw,5)),2&t){let t;pa(t=ma())&&(e.cell=t.first),pa(t=ma())&&(e.headerCell=t.first),pa(t=ma())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[jo([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Cr]}),t})();class yw{constructor(){this.tasks=[],this.endTasks=[]}}const vw=new Wi("_COALESCED_STYLE_SCHEDULER");let bw=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new S}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new yw,this._getScheduleObservable().pipe(pf(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new yw;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?M(Promise.resolve(void 0)):this._ngZone.onStable.pipe(vf(1))}}return t.\u0275fac=function(e){return new(e||t)(ln(ja))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Cw=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Rw?t.headerCell.template:this instanceof Ew?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(fl))},t.\u0275dir=Kt({type:t,features:[ce]}),t})();class Sw extends Cw{}const xw=uw(Sw);let Rw=(()=>{class t extends xw{constructor(t,e,i){super(t,e),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(fl),Vr(dw,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Cr,ce]}),t})();class Dw extends Cw{}const kw=uw(Dw);let Ew=(()=>{class t extends kw{constructor(t,e,i){super(t,e),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(fl),Vr(dw,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Cr,ce]}),t})(),Tw=(()=>{class t extends Cw{constructor(t,e,i){super(t,e),this._table=i}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(fl),Vr(dw,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Cr]}),t})(),Iw=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol))},t.\u0275dir=Kt({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),Aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ur(0,0)},directives:[Iw],encapsulation:2}),t})(),Ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ur(0,0)},directives:[Iw],encapsulation:2}),t})(),Pw=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl))},t.\u0275dir=Kt({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const Fw=["top","bottom","left","right"];class Nw{constructor(t,e,i,n,s=!0,r=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=n,this._isBrowser=s,this._needsPositionStickyOnElement=r,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const n of t)if(n.nodeType===n.ELEMENT_NODE){i.push(n);for(let t=0;t<n.children.length;t++)i.push(n.children[t])}this._coalescedStyleScheduler.schedule(()=>{for(const t of i)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,i,n=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!i.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],r=s.children.length,o=this._getCellWidths(s,n),l=this._getStickyStartColumnPositions(o,e),a=this._getStickyEndColumnPositions(o,i),c=e.lastIndexOf(!0),h=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const n="rtl"===this.direction,s=n?"right":"left",u=n?"left":"right";for(const o of t)for(let t=0;t<r;t++){const n=o.children[t];e[t]&&this._addStickyStyle(n,s,l[t],t===c),i[t]&&this._addStickyStyle(n,u,a[t],t===h)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===c?[]:o.slice(0,c+1).map((t,i)=>e[i]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===h?[]:o.slice(h).map((t,e)=>i[e+h]?t:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const n="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,r=[],o=[],l=[];for(let c=0,h=0;c<n.length;c++){if(!s[c])continue;r[c]=h;const t=n[c];l[c]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;h+=e,o[c]=e}const a=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var t,e;for(let o=0;o<n.length;o++){if(!s[o])continue;const t=r[o],e=o===a;for(const n of l[o])this._addStickyStyle(n,i,t,e)}"top"===i?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,offsets:r,elements:l}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,offsets:r,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(t=>!t)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const i of e)t.style[i]="",t.classList.remove(this._borderCellCss[i]);Fw.some(i=>-1===e.indexOf(i)&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,n){t.classList.add(this._stickCellCss),n&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const n of Fw)t.style[n]&&(i+=e[n]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],n=t.children;for(let s=0;s<n.length;s++)i.push(n[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let n=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=n,n+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let n=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=n,n+=t[s]);return i}}const Mw=new Wi("CDK_SPL");let Lw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Ko))},t.\u0275dir=Kt({type:t,selectors:[["","rowOutlet",""]]}),t})(),Vw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Ko))},t.\u0275dir=Kt({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),Hw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Ko))},t.\u0275dir=Kt({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),Bw=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Ko))},t.\u0275dir=Kt({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),zw=(()=>{class t{constructor(t,e,i,n,s,r,o,l,a,c,h){this._differs=t,this._changeDetectorRef=e,this._elementRef=i,this._dir=s,this._platform=o,this._viewRepeater=l,this._coalescedStyleScheduler=a,this._viewportRuler=c,this._stickyPositioningListener=h,this._onDestroy=new S,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new lf({start:0,end:Number.MAX_VALUE}),n||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=r,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=Xg(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=Xg(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler.change().pipe(pf(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),Kg(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,e,(t,e,i)=>this._getEmbeddedViewArgs(t.item,i),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const i=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,i,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const i=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const i=[];for(let n=0;n<e.length;n++)this._renderRows[n].rowDef===t&&i.push(e[n]);this._addStickyColumnStyles(i,t)}),i.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let n=this._data[i];const s=this._getRenderRowsForData(n,i,e.get(n));this._cachedRenderRowsMap.has(n)||this._cachedRenderRowsMap.set(n,new WeakMap);for(let e=0;e<s.length;e++){let i=s[e];const n=this._cachedRenderRowsMap.get(i.data);n.has(i.rowDef)?n.get(i.rowDef).push(i):n.set(i.rowDef,[i]),t.push(i)}}return t}_getRenderRowsForData(t,e,i){return this._getRowDefs(t,e).map(n=>{const s=i&&i.has(n)?i.get(n):[];if(s.length){const t=s.shift();return t.dataIndex=e,t}return{data:t,rowDef:n,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),jw(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=jw(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=jw(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=jw(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const n=this._footerRowDefs.reduce(t,!1);return n&&this._forceRenderFooterRows(),e||i||n}_switchDataSource(t){this._data=[],Kg(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;Kg(this.dataSource)?t=this.dataSource.connect(this):$g(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=$p(this.dataSource)),this._renderChangeSubscription=t.pipe(pf(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const i=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),n=i.map(t=>t.sticky),s=i.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,n,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let i=0;i<t.viewContainer.length;i++){const n=t.viewContainer.get(i);e.push(n.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(i=>!i.when||i.when(e,t));else{let n=this._rowDefs.find(i=>i.when&&i.when(e,t))||this._defaultRowDef;n&&i.push(n)}return i}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,i,n={}){const s=t.viewContainer.createEmbeddedView(e.template,n,i);return this._renderCellTemplateForItem(e,n),s}_renderCellTemplateForItem(t,e){for(let i of this._getCellTemplates(t))Iw.mostRecentCellOutlet&&Iw.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,i=t.length;e<i;e++){const n=t.get(e).context;n.count=i,n.first=0===e,n.last=e===i-1,n.even=e%2==0,n.odd=!n.even,this.multiTemplateDataRows?(n.dataIndex=this._renderRows[e].dataIndex,n.renderIndex=e):n.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const i=this._columnDefsByName.get(e);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of e){const e=this._document.createElement(i.tag);e.setAttribute("role","rowgroup");for(const t of i.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Nw(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:$p()).pipe(pf(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const i=this._noDataRowOutlet.viewContainer;e?i.createEmbeddedView(t.templateRef):i.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(Vr(fl),Vr(bl),Vr(Ko),zi("role"),Vr(ym,8),Vr(gc),Vr(pm),Vr(Jg),Vr(vw),Vr(Dm),Vr(Mw,12))},t.\u0275cmp=$t({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,i){if(1&t&&(ga(i,Pw,5),ga(i,ww,5),ga(i,Tw,5),ga(i,Rw,5),ga(i,Ew,5)),2&t){let t;pa(t=ma())&&(e._noDataRow=t.first),pa(t=ma())&&(e._contentColumnDefs=t),pa(t=ma())&&(e._contentRowDefs=t),pa(t=ma())&&(e._contentHeaderRowDefs=t),pa(t=ma())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(fa(Lw,7),fa(Vw,7),fa(Hw,7),fa(Bw,7)),2&t){let t;pa(t=ma())&&(e._rowOutlet=t.first),pa(t=ma())&&(e._headerRowOutlet=t.first),pa(t=ma())&&(e._footerRowOutlet=t.first),pa(t=ma())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&ho("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[jo([{provide:dw,useExisting:t},{provide:Jg,useClass:Qg},{provide:vw,useClass:bw},{provide:Mw,useValue:null}])],ngContentSelectors:hw,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(eo(cw),io(0),io(1,1),Ur(2,0),Ur(3,1),Ur(4,2),Ur(5,3))},directives:[Vw,Lw,Bw,Hw],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function jw(t,e){return t.concat(Array.from(e))}let $w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[Im]]}),t})();class Ww{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new Gw(t,this.closingNotifier))}}class Gw extends V{constructor(t,e){super(t),this.buffer=[],this.add(H(e,new L(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}const Uw=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function qw(t=null){return e=>e.lift(new Zw(t))}class Zw{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kw(t,this.defaultValue))}}class Kw extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Qw(t=Xw){return e=>e.lift(new Yw(t))}class Yw{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Jw(t,this.errorFactory))}}class Jw extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Xw(){return new Uw}function ty(t,e){const i=arguments.length>=2;return n=>n.pipe(t?mf((e,i)=>t(e,i,n)):_,vf(1),i?qw(e):Qw(()=>new Uw))}let ey=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({}),t})();const iy=["pbl-ngrid-fixed-meta-row-container",""],ny=["viewRef"],sy=["row",""],ry=[[["",8,"pbl-ngrid-row-prefix"]],[["",8,"pbl-ngrid-row-suffix"]]],oy=[".pbl-ngrid-row-prefix",".pbl-ngrid-row-suffix"],ly=["vcRef"];function ay(t,e){1&t&&Ur(0)}function cy(t,e){1&t&&Ur(0)}function hy(t,e){1&t&&Ur(0)}const uy=[[["caption"]],[["colgroup"],["col"]]],dy=["caption","colgroup, col"],py=["beforeTable"],fy=["beforeContent"],gy=["afterContent"],my=["fbTableCell"],_y=["fbHeaderCell"],wy=["fbFooterCell"];function yy(t,e){1&t&&$r(0,"pbl-ngrid-column-row",20),2&t&&Hr("row",Xr().columnRowDef.header)}function vy(t,e){1&t&&$r(0,"pbl-ngrid-column-row",21),2&t&&Hr("row",Xr().columnRowDef.header)}function by(t,e){1&t&&$r(0,"pbl-ngrid-meta-row",23),2&t&&Hr("row",Xr().$implicit)}const Cy=function(){return[]};function Sy(t,e){if(1&t&&(Wr(0),Mr(1,by,1,1,"pbl-ngrid-meta-row",22),Gr()),2&t){const t=e.$implicit;hs(1),Hr("cdkHeaderRowDef",ql(2,Cy))("cdkHeaderRowDefSticky","sticky"===t.rowDef.type)}}function xy(t,e){1&t&&$r(0,"pbl-ngrid-column-row",24),2&t&&Hr("row",Xr().columnRowDef.footer)}function Ry(t,e){1&t&&$r(0,"pbl-ngrid-meta-row",24),2&t&&Hr("row",Xr().$implicit)}function Dy(t,e){if(1&t&&(Wr(0),Mr(1,Ry,1,1,"pbl-ngrid-meta-row",3),Gr()),2&t){const t=e.$implicit;hs(1),Hr("cdkFooterRowDef",ql(2,Cy))("cdkFooterRowDefSticky","sticky"===t.rowDef.type)}}function ky(t,e){1&t&&$r(0,"pbl-ngrid-row",25)}function Ey(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.value;hs(1),So(t)}}function Ty(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.col;hs(1),So(t.label)}}function Iy(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.col;hs(1),So(t.label)}}const Ay=["*"],Oy=["innerBoxHelper"];function Py(t,e){if(1&t&&$r(0,"div",6),2&t){const t=Xr();co("width",t._totalContentWidth)("height",t._totalContentHeight)}}function Fy(t,e){if(1&t&&(zr(0,"div",7),Kl(1,"async"),jr()),2&t){const t=Xr();co("min-width",Ql(1,6,t._minWidth$),"px")("top",t.ngeRenderedContentSize,"px")("height",t.pblFillerHeight)}}const Ny=[[["",8,"cdk-virtual-scroll-before-content-wrapper"]],"*"],My=[".cdk-virtual-scroll-before-content-wrapper","*"],Ly=new Wi("PBL_NGRID_EXTERNAL_API");let Vy=(()=>{class t{constructor(t){this.extApi=t,this.header={fixed:[],row:[],sticky:[],all:[]},this.footer={fixed:[],row:[],sticky:[],all:[]},this.sync$=new S,this.hzScroll$=new S,this.sync=this.sync$.pipe(Og(0,kg)),this.hzScroll=this.hzScroll$.asObservable(),t.onInit(()=>{const{grid:e}=t;let i=e.viewport.measureScrollOffset("start"),n=!0;e.viewport.elementScrolled().pipe(mf(()=>n),sm(0,Ig)).subscribe({next:()=>{const t=e.viewport.measureScrollOffset("start");i!==t?this.hzScroll$.next(i=t):e.viewport.isScrolling&&(n=!1,e.viewport.scrolling.pipe(vf(1)).subscribe(()=>n=!0))},complete:()=>this.hzScroll$.complete()})})}addMetaRow(t){const{columnStore:e}=this.extApi,i=e.metaHeaderRows,n=e.metaFooterRows,s=t.meta;if(s===e.headerColumnDef)!0===t.gridWidthRow?this.gridWidthRow={rowDef:s,el:t.element}:this.addToSection(this.header,t,e.metaHeaderRows.length);else if(s===e.footerColumnDef)this.addToSection(this.footer,t,0);else{let e=i.findIndex(t=>t.rowDef===s);e>-1?this.addToSection(this.header,t,e):(e=n.findIndex(t=>t.rowDef===s),e>-1&&this.addToSection(this.footer,t,e))}this.sync$.next()}removeMetaRow(t){const e=t.meta;let i=this.header.all.indexOf(t.meta);i>-1?(this.header.all.splice(i,1),i=this.header[e.type].findIndex(t=>t.rowDef===e),this.header[e.type].splice(i,1),this.sync$.next()):(i=this.footer.all.indexOf(t.meta))>-1&&(this.footer.all.splice(i,1),i=this.footer[e.type].findIndex(t=>t.rowDef===e),this.footer[e.type].splice(i,1),this.sync$.next())}addToSection(t,e,i){const n=e.meta;t[n.type].push({index:i,rowDef:n,el:e.element}),t.all.push(n)}}return t.\u0275fac=function(e){return new(e||t)(ln(Ly))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Hy=(()=>{class t{constructor(t,e){this.metaRows=t,this._width$=new S,this._totalColumnWidth=0,this._hzScrollDir=1,this.element=e.nativeElement,t.sync.pipe(N_(this)).subscribe(()=>this.syncRowDefinitions()),this.metaRows.extApi.events.pipe(F_,N_(this)).subscribe(t=>this.updateWidths()),this.metaRows.extApi.grid.columnApi.totalColumnWidthChange.pipe(N_(this)).subscribe(t=>{this._totalColumnWidth=t,this.updateWidths()}),this._hzScrollDir="rtl"===this.metaRows.extApi.getDirection()?-1:1,this.metaRows.extApi.directionChange().pipe(N_(this)).subscribe(t=>this._hzScrollDir="rtl"===t?-1:1)}ngOnChanges(t){if("type"in t){const e=this.element;e.scrollLeft=this.metaRows.extApi.grid.viewport.measureScrollOffset("start")*this._hzScrollDir,t.type.isFirstChange&&(this.metaRows.hzScroll.pipe(N_(this)).subscribe(t=>e.scrollLeft=t*this._hzScrollDir),this.metaRows.extApi.cdkTable.onRenderRows.pipe(N_(this)).subscribe(()=>{this.updateWidths()}))}}ngOnDestroy(){this._width$.complete(),N_.kill(this)}updateWidths(){this._innerWidth=this.metaRows.extApi.grid.viewport.innerWidth,this._minWidth=this.metaRows.extApi.cdkTable.minWidth,this._width=Math.max(this._innerWidth,this._minWidth),this._width$.next(Math.max(this._innerWidth,this._totalColumnWidth))}syncRowDefinitions(){const t="header"===this.type,e=t?this.metaRows.header:this.metaRows.footer,i=this.element.firstElementChild,n=i.nextElementSibling;t&&i.appendChild(this.metaRows.gridWidthRow.el);for(const s of e.fixed)n.appendChild(s.el)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Vy),Vr(Ko))},t.\u0275cmp=$t({type:t,selectors:[["div","pbl-ngrid-fixed-meta-row-container",""]],hostAttrs:[2,"flex","0 0 auto","overflow","hidden"],hostVars:2,hostBindings:function(t,e){2&t&&co("width",e._innerWidth,"px")},inputs:{type:["pbl-ngrid-fixed-meta-row-container","type"]},features:[ce],attrs:iy,decls:3,vars:6,consts:[[1,"pbl-cdk-table",2,"height","0px","overflow","hidden"],[1,"pbl-cdk-table"]],template:function(t,e){1&t&&($r(0,"div",0),zr(1,"div",1),Kl(2,"async"),jr()),2&t&&(co("width",e._width,"px"),hs(1),co("width",Ql(2,4,e._width$),"px"))},pipes:[wh],encapsulation:2}),t})();function By(t){return`pbl-ngrid-column-${t.cssClassFriendlyName}`}function zy(t){return`pbl-ngrid-column-type-${t.name}`}const jy=/((?:\d*\.)?\d+)(%|px)$/;function $y(t){const e=jy.exec(t);if(e)return{value:Number(e[1]),type:e[2]}}function Wy(t,e){["id","label","css","minWidth","width","maxWidth","type"].forEach(i=>i in t&&(e[i]=t[i])),t.data&&(e.data=Object.assign(e.data||{},t.data))}const Gy=Symbol("PblMetaColumn"),Uy=["kind","rowIndex"];class qy{constructor(t){this.data={},this.defaultWidth="",this[Gy]=!0,Wy(t,this);for(const e of Uy)e in t&&(this[e]=t[e]);(function(t){return t instanceof qy||t&&!0===t[Gy]})(t)||"string"==typeof t.type&&(this.type={name:t.type})}get width(){return this._width}set width(t){t!==this._width&&(this._parsedWidth=$y(this._width=t),Object.defineProperty(this,"isFixedWidth",{value:this._parsedWidth&&"px"===this._parsedWidth.type,configurable:!0}))}get parsedWidth(){return this._parsedWidth}get columnDef(){return this._columnDef}static extendProperty(t){-1===Uy.indexOf(t)&&Uy.push(t)}attach(t){this.detach(),this._columnDef=t,this.columnDef.updateWidth(this.width||this.defaultWidth,"attach")}detach(){this._columnDef=void 0}updateWidth(t){this.defaultWidth=t||"",this.columnDef&&this.columnDef.updateWidth(this.width||t,"update")}}const Zy=Symbol("PblColumnGroup"),Ky=[];function Qy(t){return t instanceof Xy||t&&!0===t[Zy]}function Yy(t){return"string"==typeof t?t:t.id}class Jy{constructor(){this.store=new Map,this._all=[]}get all(){return this._all}attach(t,e){const i=this._find(t);return!!i&&(i.activeColumns.add(Yy(e)),!0)}detach(t,e){const i=this._find(t);return!!i&&i.activeColumns.delete(Yy(e))}findGhosts(){return Array.from(this.store.values()).filter(t=>0===t.activeColumns.size).map(t=>t.group)}add(t){this.store.set(t.id,{group:t,activeColumns:new Set}),this.updateAll()}remove(t){const e=this.find(t);return!(!e||!this.store.delete(e.id)||(this.updateAll(),0))}find(t){const e=this._find(t);if(e)return e.group}clone(){const t=new Jy;return t.store=new Map(this.store),t.updateAll(),t}_find(t){return this.store.get(Yy(t))}updateAll(){this._all=Array.from(this.store.values()).map(t=>t.group)}}class Xy extends qy{constructor(t,e,i=!1){super(Qy(t)?t:Object.assign({id:`group-${t.columnIds.join(".")}-row-${t.rowIndex}`,kind:"header"},t)),this.placeholder=i,this[Zy]=!0,this.columnIds=t.columnIds,this.columns=e;for(const n of e)n.markInGroup(this);for(const n of Ky)n in t&&(this[n]=t[n])}get isVisible(){return this.columns.some(t=>!t.hidden)}static extendProperty(t){-1===Ky.indexOf(t)&&Ky.push(t)}createSlave(t=[]){const e=new Xy(Object.assign(Object.assign({},this),{id:this.id+"-slave"+Date.now()}),t);return e.slaveOf=this,Object.defineProperty(e,"template",{get:function(){return this.slaveOf.template},set:function(t){}}),e}replace(t){const{id:e}=t,i=this.columns.findIndex(t=>t.id===e);return i>-1&&(this.columns.splice(i,1,t),!0)}}const tv=Symbol("PblColumn"),ev=["pIndex","transform","filter","sort","alias","headerType","footerType","pin"];function iv(t){return t instanceof nv||t&&!0===t[tv]}class nv{constructor(t,e){if(this.data={},this.defaultWidth="",this._groups=new Set,this[tv]=!0,iv(t)){Wy(t,this),this.prop=t.prop,this.path=t.path,this.orgProp=t.orgProp,this.groupStore=e||t.groupStore,this._groups=new Set(t._groups);for(const e of Array.from(t._groups.values())){const t=this.groupStore.find(e);t&&(this.markInGroup(t),t.replace(this))}}else{const i=t.path||t.prop.split("."),n=t.path?t.prop:i.pop();(t=Object.create(t)).id=t.id||t.prop||t.label,t.label="label"in t?t.label:n,"string"==typeof t.type&&(t.type={name:t.type}),"string"==typeof t.headerType&&(t.headerType={name:t.headerType}),"string"==typeof t.footerType&&(t.footerType={name:t.footerType}),Wy(t,this),this.groupStore=e||new Jy,this.prop=n,this.orgProp=t.prop,i.length&&(this.path=i)}for(const i of ev)i in t&&(this[i]=t[i])}get width(){return this._width}set width(t){var e;if(t!==this._width){this._parsedWidth=$y(this._width=t);const i="px"===(null===(e=this._parsedWidth)||void 0===e?void 0:e.type);Object.defineProperty(this,"isFixedWidth",{value:i,configurable:!0})}}get parsedWidth(){return this._parsedWidth}get columnDef(){return this._columnDef}get groups(){return Array.from(this._groups.values())}static extendProperty(t){-1===ev.indexOf(t)&&ev.push(t)}attach(t){this.detach(),this._columnDef=t,this.defaultWidth&&this.columnDef.updateWidth(this.width||this.defaultWidth,"attach")}detach(){this._columnDef=void 0}setDefaultWidth(t){this.defaultWidth=t}updateWidth(t){t&&(this.width=t);const{columnDef:e}=this;e&&e.updateWidth(this.width||this.defaultWidth||"","update")}getValue(t){return j_(this,t)}setValue(t,e){return function(t,e,i){if(e.path)for(const n of e.path)if(!(t=t[n]))return;t[e.prop]=i}(t,this,e)}markInGroup(t){this.groupStore.attach(t,this),this._groups.add(t.id)}markNotInGroup(t){return this.groupStore.detach(t,this),this._groups.delete(t.id)}isInGroup(t){return this._groups.has(t.id)}getGroupOfRow(t){const e=this.groups;for(const i of e){const e=this.groupStore.find(i);if(e&&e.rowIndex===t)return e}}groupLogic(t,e){const[i,n,s]=t;if(n===i)return n;if(e){if(i&&n===i.slaveOf)return i;if(s&&n===s.slaveOf)return s;const t=n.createSlave([this]);if(this.groupStore.add(t),n.placeholder){const t=s&&s.slaveOf&&s.placeholder,e=i&&i.placeholder?i:t?s:void 0;if(e)return e}return t}if(null==n?void 0:n.slaveOf){if(n.slaveOf===i)return n.slaveOf;if(n.slaveOf===(null==i?void 0:i.slaveOf))return i;if(n.slaveOf===s)return n.slaveOf}else if((null==i?void 0:i.placeholder)&&(null==n?void 0:n.placeholder))return i;return n}checkMaxWidthLock(t){if(t===this.maxWidth){if(!this.maxWidthLock)return this.maxWidthLock=!0,!0}else if(this.maxWidthLock)return this.maxWidthLock=!1,!0;return!1}}class sv{constructor(){this._raw={table:{cols:[]},header:[],footer:[],headerGroup:[]},this._defaults={table:{},header:{},footer:{}},this._currentHeaderRow=0,this._currentFooterRow=0}get currentHeaderRow(){return this._currentHeaderRow}get currentFooterRow(){return this._currentFooterRow}static fromDefinitionSet(t){const e=new sv;return Object.assign(e._raw,t),e}build(){const{_defaults:t,_raw:e}=this,i=new Jy,n={header:e.table.header,footer:e.table.footer,cols:e.table.cols.map(e=>new nv(Object.assign(Object.assign({},t.table),e),i))},s=e.header.map(e=>({rowIndex:e.rowIndex,rowClassName:e.rowClassName,type:e.type||"fixed",cols:e.cols.map(e=>new qy(Object.assign(Object.assign({},t.header),e)))})),r=e.footer.map(e=>({rowIndex:e.rowIndex,rowClassName:e.rowClassName,type:e.type||"fixed",cols:e.cols.map(e=>new qy(Object.assign(Object.assign({},t.footer),e)))})),o=e.headerGroup.map(t=>({rowIndex:t.rowIndex,rowClassName:t.rowClassName,type:t.type||"fixed",cols:this.buildHeaderGroups(t.rowIndex,t.cols,n.cols).map(t=>(i.add(t),t))}));return{groupStore:i,table:n,header:s,footer:r,headerGroup:o}}default(t,e="table"){return this._defaults[e]=t,this}table(...t){const e=t[0].prop?{}:t.shift(),{header:i,footer:n}=e;return Object.assign(this._raw.table,{header:i,footer:n}),this._raw.table.cols.push(...t),this}header(...t){const e=this._currentHeaderRow++,i=this.processRowOptions(t),n=this.genRowClass(i,e),s=t.map(t=>Object.assign({id:t.id,kind:"header",rowIndex:e},t));return this._raw.header.push({rowIndex:e,rowClassName:n,cols:s,type:i&&i.type||"fixed"}),this}footer(...t){const e=this._currentFooterRow++,i=this.processRowOptions(t),n=this.genRowClass(i,e),s=t.map(t=>Object.assign({id:t.id,kind:"footer",rowIndex:e},t));return this._raw.footer.push({rowIndex:e,rowClassName:n,cols:s,type:i&&i.type||"fixed"}),this}headerGroup(...t){const e=this._currentHeaderRow++,i=this.processRowOptions(t,"columnIds","prop"),n=this.genRowClass(i,e),s=t.map(t=>Object.assign({rowIndex:e},t));return this._raw.headerGroup.push({rowIndex:e,rowClassName:n,cols:s,type:i&&i.type||"fixed"}),this}processRowOptions(t,...e){0===e.length&&(e=["id"]);for(const i of e)if(i in t[0])return;return t.shift()}genRowClass(t,e){return t&&t.rowClassName||`pbl-ngrid-row-index-${e.toString()}`}buildHeaderGroups(t,e,i){var n,s;const r=[],o=i.slice(),l=e.slice();for(const c of l){if(c.prop){const t=o.findIndex(t=>t.orgProp===c.prop);c.columnIds=o.slice(t,t+c.span+1).map(t=>t.id),delete c.prop,delete c.span}c.rowIndex=t;const e=new Xy(c,o.filter(t=>c.columnIds.indexOf(t.orgProp)>-1),!1);r.push(e)}let a=0;for(;o.length;){const e=o.shift(),i=e.orgProp,l=r.findIndex(t=>t.columnIds.indexOf(i)>-1);if(l>-1){const t=r[l];if(l<a){const i=[e];for(;t.columnIds.indexOf(null===(n=o[0])||void 0===n?void 0:n.orgProp)>-1;)i.push(o.shift());r[a]=t.createSlave(i),a+=1}else{for(;t.columnIds.indexOf(null===(s=o[0])||void 0===s?void 0:s.orgProp)>-1;)o.shift();a+=1}}else{const n=r[a-1];if(null==n?void 0:n.placeholder){const t=Object.keys(n).reduce((t,e)=>(t[e]=n[e],t),{});t.columnIds=[...t.columnIds,i],delete t.id,r[a-1]=new Xy(t,[...n.columns,e],!0)}else r.splice(a,0,new Xy({rowIndex:t,kind:"header",columnIds:[i]},[e],!0)),a+=1}}return r}}function rv(){return new sv}class ov{constructor(t,e){this.strategy=t,this.dir=e,this.cols=new Map,this._minimumRowWidth=0}get minimumRowWidth(){return this._minimumRowWidth}reset(){this.maxWidthLockChanged=!1,this._minimumRowWidth=0,this.cols.clear()}widthBreakout(t){return lv(this.strategy,t)}addColumn(t){if(!this.cols.has(t)){const{column:e}=t;let i=e.minWidth||0;e.isFixedWidth&&(i=Math.max(e.parsedWidth.value,i));const n=this.strategy.cell(t),s=i+n;this.cols.set(t,s),this._minimumRowWidth+=s,e.maxWidth&&e.checkMaxWidthLock(t.width-n)&&(this.maxWidthLockChanged=!0)}}addGroup(t){let e=0;for(const i of t)this.addColumn(i),e+=i.width;return e-=this.strategy.group(t,this.dir),e}}function lv(t,e){const i=t.cell(e);return{content:e.width-i,nonContent:i}}const av={cell(t){const e=t.style;return parseInt(e.paddingLeft,10)+parseInt(e.paddingRight,10)},groupCell:t=>0,group(t,e){const i=t.length;return i>0?parseInt(t[0].style["rtl"===e?"paddingRight":"paddingLeft"],10)+parseInt(t[i-1].style["rtl"===e?"paddingLeft":"paddingRight"],10):0}};let cv=(()=>{class t extends ww{constructor(t){super(),this.extApi=t,this.isDragging=!1,this.widthChange=new ea,this._widths=[],this.grid=t.grid;const{strategy:e}=t.widthCalc.dynamicColumnWidth;this.widthBreakout=t=>lv(e,t)}get column(){return this._column}set column(t){this.attach(t)}get widths(){return this._widths[1]}get netWidth(){return this._netWidth}updateWidth(t,e){const{isFixedWidth:i,parsedWidth:n}=this._column,s=i?Math.max(this._column.parsedWidth.value,this._column.minWidth||0):this._column.minWidth;let r=s&&`${s}px`;r||"%"!==(null==n?void 0:n.type)||(r=t);const o=i?Math.min(this._column.parsedWidth.value,this._column.maxWidth||this._column.parsedWidth.value):this._column.maxWidth,l=[r||"",t,o?`${o}px`:t];if("resize"===e)this._widths[1]=l,this.widthChange.emit({reason:e});else{const t=this._widths[0]||[];this._widths[0]=l,this._widths[1]||(this._widths[1]=l);for(let i=0;i<3;i++)if(t[i]!==l[i]){this.widthChange.emit({reason:e});break}}}applyWidth(t){hv(t,this.widths)}applySourceWidth(t){hv(t,this._widths[0])}queryCellElements(...t){const e=`.${By(this)}`,i=[];if(0===t.length)i.push(e);else for(const n of t)switch(n){case"table":i.push(`.pbl-ngrid-cell${e}`);break;case"header":i.push(`.pbl-ngrid-header-cell${e}:not(.pbl-header-group-cell)`);break;case"headerGroup":i.push(`.pbl-header-group-cell${e}`);break;case"footer":i.push(`.pbl-ngrid-footer-cell${e}:not(.pbl-footer-group-cell)`);break;case"footerGroup":i.push(`.pbl-footer-group-cell${e}`)}return 0===i.length?[]:Array.from(this.extApi.element.querySelectorAll(i.join(", ")))}ngOnDestroy(){this.detach(),this.widthChange.complete()}onResize(){if(iv(this.column)){const t=this._netWidth;this._netWidth=this.widthBreakout(this.column.sizeInfo).content,t!==this._netWidth&&this.updateWidth(`${this._netWidth}px`,"resize")}}updatePin(t){switch(this.sticky=this.stickyEnd=!1,t){case"start":this.sticky=!0;break;case"end":this.stickyEnd=!0}this.grid.isInit&&this.extApi.cdkTable.updateStickyColumnStyles()}attach(t){this._column!==t&&(this.detach(),t&&(this._column=t,t.attach(this),this.name=t.id.replace(/ /g,"_"),iv(t)&&this.updatePin(t.pin)))}detach(){if(this._column){const t=this._column;this._column=void 0,t.detach()}}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ly))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridColumnDef",""]],inputs:{column:["pblNgridColumnDef","column"]},outputs:{widthChange:"pblNgridColumnDefWidthChange"},features:[jo([{provide:ww,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Cr]}),t})();function hv(t,e){t.style.minWidth=e[0],t.style.width=e[1],t.style.maxWidth=e[2],t.style.boxSizing=e[0]&&e[0].endsWith("%")?"border-box":"content-box"}function uv(t,e,i,n){const s=t.getMulti(i);if(s){let t;if(iv(e))switch(i){case"headerCell":e.headerType&&(t={id:e.id,type:e.headerType});break;case"footerCell":e.footerType&&(t={id:e.id,type:e.footerType})}t||(t=e);const n=function(t,e,i){for(const n of t)if(n.type){if(e.type&&n.type===e.type.name)return n}else if(n.name===e.id)return n}(s,t);if(n)return n}if(n&&t.parent)return uv(t.parent,e,i,n)}class dv{constructor(){this._agg={pct:0,px:0,minRowWidth:0,pctCount:0,pxCount:0,count:0}}get minimumRowWidth(){return this._agg.minRowWidth}get defaultColumnWidth(){const t=this._agg;return{pct:(100-t.pct)/t.count,px:t.px/t.count}}addColumn(t){const e=this._agg,i=t.parsedWidth;let n=t.minWidth||0;if(i)switch(i.type){case"%":e.pctCount+=1,e.pct+=i.value;break;case"px":e.pxCount+=1,e.px+=i.value,n=i.value;break;default:return}else t.maxWidthLock?(e.pxCount+=1,e.px+=t.maxWidth):e.count+=1;e.minRowWidth+=n}}function pv(t,e,i){const{pct:n,px:s}=t.defaultColumnWidth,r=`calc(${n}% - ${s}px)`;for(const o of e)o.setDefaultWidth(r),o.updateWidth();for(const o of i)for(const t of[o.header,o.footer])t&&t.updateWidth("")}class fv{constructor(){this.hidden=new Set,this.allHidden=new Set,this.indirect=new Map,this.clear(!1)}add(t,e){let i;e?(i=this.indirect.get(e),i||this.indirect.set(e,i=new Set)):i=this.hidden;const n=i.size;if(t[0]instanceof nv)for(const s of t)i.add(s.id);else for(const s of t)i.add(s);return i.size!==n}remove(t,e){let i;e?(i=this.indirect.get(e),i||this.indirect.set(e,i=new Set)):i=this.hidden;const n=i.size;if(t[0]instanceof nv)for(const s of t)i.delete(s.id);else for(const s of t)i.delete(s);return i.size!==n}clear(t){this.hidden.clear(),t?this.syncAllHidden():(this.indirect.clear(),this.allHidden.clear())}syncAllHidden(){this.allHidden.clear();for(const t of this.hidden)this.allHidden.add(t);for(const t of this.indirect.values())for(const e of t)this.allHidden.add(e);return this}}class gv{constructor(t){this.differs=t,this.visibleChanged$=new S,this.hDiffers=[],this.fDiffers=[]}setHeader(t){const e=t.rowDef.rowIndex;if(this.headers[e]=t,this.hDiffers[e]){const i=this.hDiffers[e].diff(t.keys);i&&this.visibleChanged$.next({metaRow:t,changes:i})}else this.hDiffers[e]=this.differs.find([]).create(),this.hDiffers[e].diff(t.keys)}setFooter(t){const e=t.rowDef.rowIndex;if(this.footers[e]=t,this.fDiffers[e]){const i=this.fDiffers[e].diff(t.keys);i&&this.visibleChanged$.next({metaRow:t,changes:i})}else this.fDiffers[e]=this.differs.find([]).create(),this.fDiffers[e].diff(t.keys)}updateHeader(t){this.setHeader(Object.assign(this.headers[t.rowDef.rowIndex]||{},t))}updateFooter(t){this.setFooter(Object.assign(this.footers[t.rowDef.rowIndex]||{},t))}clear(){this.headers=[],this.footers=[]}dispose(){this.visibleChanged$.complete()}}class mv{constructor(t,e){this.extApi=t,this.differs=e,this.byId=new Map,this.hiddenColumns=new fv,this._visibleChanged$=new S,this.grid=t.grid,this.metaRowsStore=new gv(e),this.resetIds(),this.resetColumns(),this.metaRowsStore.visibleChanged$.subscribe(t=>{t.changes.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this.find(e.item);t.metaRow.rowDef.cols.splice(n,0,"header"===t.metaRow.kind?t.metaRow.isGroup?i.headerGroup:i.header:t.metaRow.isGroup?i.footerGroup:i.footer)}else null==n?t.metaRow.rowDef.cols.splice(i,1):_v(t.metaRow.rowDef.cols,i,n)})})}get metaHeaderRows(){return this.metaRowsStore.headers}get metaFooterRows(){return this.metaRowsStore.footers}get primary(){return this._primary}get groupStore(){return this._groupStore}getColumnsOf(t){switch(t.rowType){case"data":case"header":case"footer":return this.visibleColumns;case"meta-header":case"meta-footer":return t._row.rowDef.cols}return[]}columnRowChange(){return this._visibleChanged$}metaRowChange(){return this.metaRowsStore.visibleChanged$.asObservable()}isColumnHidden(t){return this.hiddenColumns.hidden.has(t.id)}clearColumnVisibility(){this.updateColumnVisibility(void 0,this.allColumns)}updateColumnVisibility(t,e){const i=t&&this.hiddenColumns.add(t),n=e&&this.hiddenColumns.remove(e);(n||i)&&(this.setHidden(),n&&(this.attachCustomCellTemplates(),this.attachCustomHeaderCellTemplates()),this.checkVisibleChanges(),this.grid.rowsApi.syncRows())}addGroupBy(...t){this.hiddenColumns.add(t,"groupBy")&&(this.setHidden(),this.checkVisibleChanges())}removeGroupBy(...t){this.hiddenColumns.remove(t,"groupBy")&&(this.setHidden(),this.checkVisibleChanges())}moveColumn(t,e){const{visibleColumns:i,allColumns:n}=this;let s=i.indexOf(e),r=i.indexOf(t);if(s>-1&&r>-1)return _v(i,r,s),this.hiddenColumns.allHidden.size>0&&(s=n.indexOf(e),r=n.indexOf(t)),_v(n,r,s),this.checkVisibleChanges(),!0}swapColumns(t,e){let i=this.visibleColumns.indexOf(t),n=this.visibleColumns.indexOf(e);if(i>-1&&n>-1){const{visibleColumns:s,allColumns:r}=this;return s[i]=e,s[n]=t,this.hiddenColumns.allHidden.size&&(i=r.indexOf(t),n=r.indexOf(e)),r[i]=e,r[n]=t,this.checkVisibleChanges(),!0}return!1}find(t){return this.byId.get(t)}getAllHeaderGroup(){return this._groupStore?this._groupStore.all:[]}getStaticWidth(){const t=new dv;for(const e of this.visibleColumns)t.addColumn(e);return t}invalidate(t){const e=this.lastSet="groupStore"in t?t:sv.fromDefinitionSet(t).build(),{groupStore:i,table:n,header:s,footer:r,headerGroup:o}=e;this._groupStore=i.clone();const l=new dv;this.resetColumns(),this.resetIds(),this.headerColumnDef={rowClassName:n.header&&n.header.rowClassName||"",type:n.header&&n.header.type||"fixed"},this.footerColumnDef={rowClassName:n.footer&&n.footer.rowClassName||"",type:n.footer&&n.footer.type||"fixed"},this._primary=void 0,this.hiddenColumnIds=Array.from(this.hiddenColumns.hidden);const a=this.hiddenColumns.syncAllHidden().allHidden;for(const c of n.cols){let t;t=new nv(c,this.groupStore),this.getColumnRecord(t.id).data=t,this.allColumns.push(t),this.columnIds.push(t.id),t.hidden=a.has(t.id),t.hidden||(this.visibleColumns.push(t),this.visibleColumnIds.push(t.id),l.addColumn(t)),t.pIndex&&(this._primary&&ic()&&console.warn(`Multiple primary index columns defined: previous: "${this._primary.id}", current: "${t.id}"`),this._primary=t)}for(const c of s){const t=Object.assign({},c);t.cols=[];const e=[];for(const i of c.cols){const n=this.getColumnRecord(i.id,this.metaColumns),s=n.header||(n.header=new qy(i));e.push(s.id),t.cols.push(s)}this.metaRowsStore.setHeader({rowDef:t,keys:e,kind:"header"})}for(const c of o)this._updateGroup(c);for(const c of r){const t=Object.assign({},c);t.cols=[];const e=[];for(const i of c.cols){const n=this.getColumnRecord(i.id,this.metaColumns),s=n.footer||(n.footer=new qy(i));e.push(s.id),t.cols.push(s)}this.metaRowsStore.setFooter({rowDef:t,keys:e,kind:"footer"})}pv(l,this.visibleColumns,this.metaColumns),this.differ=this.differs.find(this.visibleColumns).create((t,e)=>e.id),this.differ.diff(this.visibleColumns)}updateGroups(...t){if(0===t.length)for(const e of this.lastSet.headerGroup)this._updateGroup(e);else{const e=t.slice();for(const t of this.lastSet.headerGroup){const i=e.indexOf(t.rowIndex);if(i>-1&&(e.splice(i,1),this._updateGroup(t),0===e.length))return}}}attachCustomCellTemplates(t){const{registry:e}=this.grid;t||(t=this.visibleColumns);for(const i of this.visibleColumns){const t=uv(e,i,"tableCell",!0);if(t)i.cellTpl=t.tRef;else{const t=e.getMultiDefault("tableCell");i.cellTpl=t?t.tRef:this.grid._fbTableCell}const n=uv(e,i,"editorCell",!0);if(n)i.editorTpl=n.tRef;else{const t=e.getMultiDefault("editorCell");i.editorTpl=t?t.tRef:void 0}}}attachCustomHeaderCellTemplates(t){const{registry:e}=this.grid;t||(t=[].concat(this.visibleColumns,this.metaColumns));const i=e.getMultiDefault("headerCell")||{tRef:this.grid._fbHeaderCell},n=e.getMultiDefault("footerCell")||{tRef:this.grid._fbFooterCell};for(const s of t)if(iv(s)){const t=uv(e,s,"headerCell",!0)||i,r=uv(e,s,"footerCell",!0)||n;s.headerCellTpl=t.tRef,s.footerCellTpl=r.tRef}else{if(s.header){const t=uv(e,s.header,"headerCell",!0)||i;s.header.template=t.tRef}if(s.headerGroup){const t=uv(e,s.headerGroup,"headerCell",!0)||i;s.headerGroup.template=t.tRef}if(s.footer){const t=uv(e,s.footer,"footerCell",!0)||n;s.footer.template=t.tRef}}}dispose(){this._visibleChanged$.complete(),this.metaRowsStore.dispose()}_updateGroup(t){const e=[],i=[],n=[];for(let s=0;s<this.visibleColumns.length;s++){const r=[this.visibleColumns[s-1],this.visibleColumns[s],this.visibleColumns[s+1]],o=r.map(e=>e?e.getGroupOfRow(t.rowIndex):void 0),l=-1!==n.lastIndexOf(o[1]),a=r[1],c=a.groupLogic(o,l);c!==o[1]&&(a.markNotInGroup(o[1]),a.markInGroup(c));const h=this.getColumnRecord(c.id,this.metaColumns);h.headerGroup||(h.headerGroup=c),-1===n.lastIndexOf(c)&&(i.push(c.id),c.isVisible&&e.push(c.id)),c.replace(a),n.push(c)}for(const s of this._groupStore.findGhosts())if(s.rowIndex===t.rowIndex){const{id:t}=s;let n=i.indexOf(t);-1!==n&&(i.splice(n,1),n=e.indexOf(t),-1!==n&&e.splice(n,1),this.metaColumns.splice(this.metaColumns.findIndex(e=>e.id===t),1)),this._groupStore.remove(s)}this.metaRowsStore.updateHeader({rowDef:t,keys:e,allKeys:i,isGroup:!0,kind:"header"})}getColumnRecord(t,e){let i=this.byId.get(t);return i||(this.byId.set(t,i={id:t}),e&&e.push(i)),i}setHidden(){const t=this.hiddenColumns.syncAllHidden().allHidden;this.visibleColumns=[];for(const e of this.allColumns)e.hidden=t.has(e.id),e.hidden||this.visibleColumns.push(e);for(const e of this.metaRowsStore.headers)e.isGroup&&(e.keys=e.allKeys.filter(t=>this.find(t).headerGroup.isVisible));pv(this.getStaticWidth(),this.visibleColumns,this.metaColumns)}resetColumns(){this.allColumns=[],this.visibleColumns=[],this.metaColumns=[],this.byId.clear()}resetIds(){this.columnIds=[],this.visibleColumnIds=[],this.hiddenColumnIds=[],this.metaRowsStore.clear()}checkVisibleChanges(){this.differ&&(this.columnUpdateInProgress||(this.columnUpdateInProgress=!0,Promise.resolve().then(()=>{this.columnUpdateInProgress=!1;const t=this.differ.diff(this.visibleColumns);t&&(this.hiddenColumnIds=Array.from(this.hiddenColumns.hidden),this.visibleColumnIds=Array.from(this.visibleColumns).map(t=>t.id),this.columnIds=Array.from(this.allColumns).map(t=>t.id),this._visibleChanged$.next({columns:this.visibleColumns,changes:t}),this.afterColumnPositionChange())})))}afterColumnPositionChange(){this.extApi.contextApi.clear(!0),this.updateGroups(),this.extApi.widthCalc.resetColumnsWidth(),this.extApi.rowsApi.syncRows("header",!0),this.extApi.widthCalc.calcColumnWidth()}}function _v(t,e,i){const n=wv(e,t.length-1),s=wv(i,t.length-1);if(n===s)return;const r=t[n],o=s<n?-1:1;for(let l=n;l!==s;l+=o)t[l]=t[l+o];t[s]=r}function wv(t,e){return Math.max(0,Math.min(e,t))}class yv{constructor(){}static create(t){const e=new yv;return e.grid=t.grid,e.store=t.columnStore,e.extApi=t,e}get visibleColumnIds(){return this.store.visibleColumnIds}get hiddenColumnIds(){return this.store.hiddenColumnIds}get visibleColumns(){return this.store.visibleColumns}get columns(){return this.store.allColumns}get columnIds(){return this.store.columnIds}get totalColumnWidthChange(){return this._totalColumnWidthChange||(this._totalColumnWidthChange=this.extApi.events.pipe(F_,D(t=>this.grid.columnApi.visibleColumns.reduce((t,e)=>{var i,n;return null!==(n=t+(null===(i=e.sizeInfo)||void 0===i?void 0:i.width))&&void 0!==n?n:0},0)))),this._totalColumnWidthChange}findColumnAt(t){return this.store.visibleColumns[t]}findColumn(t){const e=this.store.find(t);if(e)return e.data}renderIndexOf(t){const e="string"==typeof t?this.findColumn(t):t;return this.store.visibleColumns.indexOf(e)}indexOf(t){const e="string"==typeof t?this.findColumn(t):t;return this.store.allColumns.indexOf(e)}isColumnHidden(t){return this.store.isColumnHidden(t)}hideColumns(t,...e){this.store.updateColumnVisibility([t,...e])}showColumns(t,...e){!0===t?this.store.clearColumnVisibility():this.store.updateColumnVisibility(void 0,[t,...e])}resizeColumn(t,e){t.updateWidth(e)}autoSizeColumn(t){const e=this.findColumnAutoSize(t);this.resizeColumn(t,`${e}px`)}autoSizeColumns(...t){const e=t.length>0?t:this.visibleColumns;for(const i of e){const t=this.findColumnAutoSize(i);i.updateWidth(`${t}px`)}}autoSizeToFit(t,e={}){const i=this.extApi.widthCalc.dynamicColumnWidth,{visibleColumns:n}=this,s=e.columnBehavior||(()=>e);let r=0,o=0;const l=[],a=n.map((n,a)=>{const c=i.widthBreakout(n.sizeInfo),h=Object.assign(Object.assign({},s(n)||{}),e);return r+=c.content,t-=c.nonContent,h.keepMinWidth&&n.minWidth&&(o+=n.minWidth,l.push(a)),Object.assign(Object.assign({},c),{instructions:h})}),c=o/t,h=(r*c-o)/(1-c);for(const u of l){const t=h*(n[u].minWidth/o);a[u].content+=t,r+=t}for(let u=0;u<n.length;u++){const e=a[u],i=e.instructions,s=n[u],o=e.content/r;let l;i.keepMinWidth&&s.minWidth||(s.minWidth=void 0),i.keepMaxWidth&&s.maxWidth||(s.maxWidth=void 0,s.checkMaxWidthLock(s.sizeInfo.width));const{forceWidthType:c}=i;"px"===c||!c&&s.isFixedWidth?l=t*o+"px":("%"===c||!c&&s.width)&&(l=100*o+"%"),l&&s.updateWidth(l)}this.extApi.widthCalc.resetColumnsWidth(),this.extApi.widthCalc.calcColumnWidth()}moveColumn(t,e){if(iv(e))return t!==e&&this.store.moveColumn(t,e);{const i=this.findColumnAt(e);return!!i&&this.moveColumn(t,i)}}swapColumns(t,e){return this.store.swapColumns(t,e)}addGroupBy(...t){this.store.addGroupBy(...t)}removeGroupBy(...t){this.store.removeGroupBy(...t)}findColumnAutoSize(t){const{columnDef:e}=t,i=e.queryCellElements();for(let r=0,o=i.length;r<o;r++){const t=this.extApi.rowsApi.findRowByElement(i[r].parentElement);if("header"===t.rowType&&t.gridWidthRow){i.splice(r,1);break}}let n,s=0;for(const r of i){if(r.childElementCount<=1)n=(r.firstElementChild||r).scrollWidth;else{n=0;let t=r.firstElementChild;do{switch(getComputedStyle(t).position){case"sticky":case"absolute":case"fixed":break;default:n+=t.scrollWidth}}while(t=t.nextElementSibling)}n>s&&(s=n+1)}return s}}function vv(t,e){t.classList.add(...e?["cdk-footer-row","pbl-ngrid-footer-row"]:["cdk-header-row","pbl-ngrid-header-row"])}function bv(t,e){e?t.classList.remove("pbl-ngrid-row-hidden"):t.classList.add("pbl-ngrid-row-hidden")}function Cv(t,e,i,n,s){n&&(n.rowClassName&&i.classList.remove(n.rowClassName),t.removeMetaRow(e)),e.meta=s,s&&(s.rowClassName&&i.classList.add(s.rowClassName),t.addMetaRow(e))}const Sv={header:{selector:"pbl-ngrid-header-row",first:"pbl-ngrid-first-header-row",last:"pbl-ngrid-last-header-row"},footer:{selector:"pbl-ngrid-footer-row",first:"pbl-ngrid-first-footer-row",last:"pbl-ngrid-last-footer-row"}};function xv(t,e,i){var n,s;const r=Sv[t],o=e.querySelectorAll(`.${r.selector}:not(.pbl-ngrid-row-visually-hidden):not(.pbl-ngrid-row-hidden)`),l=o[0];i.first!==l&&(null===(n=i.first)||void 0===n||n.classList.remove(r.first),null==l||l.classList.add(r.first));const a=o[o.length-1];return i.last!==a&&(null===(s=i.last)||void 0===s||s.classList.remove(r.last),null==a||a.classList.add(r.last)),{first:l,last:a}}function Rv(t){return"data"===t.rowType}class Dv{constructor(t,e,i){this.extApi=t,this.zone=e,this.cellFactory=i,this.allByElement=new Map,this.allRows=new Set,this.rows=new Map,this.columnRows=new Set,this.metaHeaderRows=new Set,this.metaFooterRows=new Set,this.firstLast={header:{},footer:{}},this.metaRowService=new Vy(t),t.onConstructed(()=>this.cdkTable=t.cdkTable);for(const n of["header","data","footer","meta-header","meta-footer"])this.rows.set(n,new Set);this.metaRowService.sync.pipe(N_(this)).subscribe(()=>{this.firstLast.header=xv("header",this.extApi.element,this.firstLast.header),this.firstLast.footer=xv("footer",this.extApi.element,this.firstLast.footer)}),t.columnStore.columnRowChange().pipe(N_(this)).subscribe(t=>{const e=this.gridWidthRow;let i=!1;t.changes.forEachOperation((t,n,s)=>{if(null==t.previousIndex)for(const e of this.columnRows)e._createCell(t.item,s);else if(null==s)for(const e of this.columnRows)e._destroyCell(n);else{for(const t of this.columnRows)t._moveCell(n,s);if(!i&&e){const t=e.cellsLength-1;i=s===t||n===t}}}),i&&this.gridWidthRow.updateSize()}),t.columnStore.metaRowChange().pipe(N_(this)).subscribe(t=>{const e="header"===t.metaRow.kind?this.metaHeaderRows:this.metaFooterRows;for(const i of e)if(i.row.rowDef.rowIndex===t.metaRow.rowDef.rowIndex){t.changes.forEachOperation((e,n,s)=>{if(null==e.previousIndex){const n=this.extApi.columnStore.find(e.item);i._createCell("header"===t.metaRow.kind?t.metaRow.isGroup?n.headerGroup:n.header:t.metaRow.isGroup?n.footerGroup:n.footer,s)}else null==s?i._destroyCell(n):i._moveCell(n,s)});break}}),t.onConstructed(()=>{if(this.intersection=t.viewport.intersection,this.intersection.observerMode)this.intersection.intersectionChanged.subscribe(t=>{for(const e of t){const t=this.allByElement.get(e.target);Rv(t)&&t._setOutOfViewState(!e.isIntersecting)}});else{let e=t.viewport.isScrolling;t.viewport.scrolling.subscribe(t=>{0===t&&e&&this.forceUpdateOutOfView(...this.dataRows()),e=!!t})}}),t.events.pipe(P_).subscribe(t=>{const e=this.dataRows();for(const i of e)i._rebuildCells()}),t.events.subscribe(e=>{if("onBeforeMoveItem"===e.kind)try{const{fromIndex:i,toIndex:n}=e,s=t.grid.rowsApi.findDataRowByDsIndex(i);if(i<n)for(let e=i+1;e<=n;e++)t.grid.rowsApi.findDataRowByDsIndex(e).context.dsIndex-=1;else for(let e=i-1;e>=n;e--)t.grid.rowsApi.findDataRowByDsIndex(e).context.dsIndex+=1;s.context.dsIndex=n}catch(i){}})}forceUpdateOutOfView(...t){if(this.intersection.observerMode){const t=this.intersection.snapshot();for(const e of t){const t=this.allByElement.get(e.target);Rv(t)&&t._setOutOfViewState(!e.isIntersecting)}}else{const{clientRect:e}=this.extApi.viewport.getBoundingClientRects;for(const i of t)i._setOutOfViewState(kv(i,e))}}addRow(t){switch(this.allRows.add(t),this.allByElement.set(t.element,t),this.rows.get(t.rowType).add(t),t.rowType){case"header":t.gridWidthRow&&(this.gridWidthRow=t);case"data":this.intersection.track(t.element);case"footer":this.columnRows.add(t);break;case"meta-header":this.metaHeaderRows.add(t);break;case"meta-footer":this.metaFooterRows.add(t)}}removeRow(t){this.allRows.delete(t),this.allByElement.delete(t.element);const e=this.rows.get(t.rowType);switch(e&&e.delete(t),t.rowType){case"header":t.gridWidthRow&&t===this.gridWidthRow&&(this.gridWidthRow=void 0);case"data":this.intersection.untrack(t.element);case"footer":this.columnRows.delete(t);break;case"meta-header":this.metaHeaderRows.delete(t);break;case"meta-footer":this.metaFooterRows.delete(t)}}dataRows(){return Array.from(this.rows.get("data"))}findRowByElement(t){return this.allByElement.get(t)}findDataRowByDsIndex(t){var e;for(const i of this.dataRows())if((null===(e=i.context)||void 0===e?void 0:e.dsIndex)===t)return i}findDataRowByIndex(t){for(const e of this.dataRows())if(e.rowIndex===t)return e}findDataRowByIdentity(t){var e;for(const i of this.dataRows())if((null===(e=i.context)||void 0===e?void 0:e.identity)===t)return i}findColumnRow(t){return Array.from(this.rows.get(t)).find(t=>!1===t.gridWidthRow)}syncRows(t=!1,...e){if(!ja.isInAngularZone())return void this.zone.run(()=>this.syncRows(t,...e));"boolean"==typeof t||"boolean"==typeof e[0]&&e.shift();let i,n=e.length>0;switch(t){case"header":case"data":case"footer":case"meta-header":case"meta-footer":i=this.rows.get(t);break;default:n=!1,i=this.allRows}if(n)for(const s of e)for(const t of Array.from(i))t.rowIndex===s&&t.ngDoCheck();else for(const s of Array.from(i))s.ngDoCheck()}}function kv(t,e,i){const n=t.element.getBoundingClientRect();let s;switch(i){case"top":s=n.bottom>=e.top;break;case"bottom":s=n.top<=e.bottom;break;default:s=n.bottom>=e.top&&n.top<=e.bottom}return!s}const Ev=new Wi("PblNgridComponent"),Tv=new Map;function Iv(t,e){return t.runOnce&&t.runOnce(),Tv.set(t.id,Object.assign(Object.assign({},t),{target:e})),t.id}const Av=new WeakMap,Ov=new S,Pv=new WeakSet;class Fv{constructor(){this._events=new S,this.events=this._events.asObservable()}static create(t,e){if(Av.has(e.grid))return;const i=new Fv;return Av.set(e.grid,i),i.grid=e.grid,i.injector=t,i.extApi=e,i.controller=new Lv(i),{plugin:i,init:()=>Ov.next({table:i.grid,controller:i.controller})}}emitEvent(t){this._events.next(t)}destroy(){Av.has(this.grid)&&(this._events.complete(),Av.delete(this.grid))}}let Nv,Mv,Lv=(()=>{class t{constructor(t){this.context=t,this.plugins=new Map,this.grid=t.grid,this.extApi=t.extApi,this.events=t.events}static onCreatedSafe(e,i){Pv.has(e)||(Pv.add(e),t.created.subscribe(t=>i(t.table,t.controller)))}static find(t){const e=Av.get(t);if(e)return e.controller}static findPlugin(e,i){var n;return null===(n=t.find(e))||void 0===n?void 0:n.getPlugin(i)}get injector(){return this.context.injector}onInit(){return this.grid.isInit?$p(!1):this.events.pipe(A_,Bg(!0))}hasPlugin(t){return this.plugins.has(t)}getPlugin(t){return this.plugins.get(t)}ensurePlugin(t){return this.getPlugin(t)||this.createPlugin(t)}setPlugin(t,e){if(Tv.has(t)&&!this.plugins.has(t))return this.plugins.set(t,e),e=>this.grid===e&&this.plugins.delete(t)}hasAncestor(t){return!!this.injector.get(t,null,bt.Optional)}createPlugin(t){if(!Tv.has(t))return;const e=Tv.get(t),i=e.factory;return i&&"function"==typeof e.target[i]?e.target[i](this.grid,this.context.injector):void 0}}return t.created=Ov.asObservable(),t})(),Vv=(()=>{class t{constructor(t,e,i){this.cdRef=e,this._cells=[],this._attached=!0,this.element=i.nativeElement,t&&(this.grid=t),this.onCtor()}get height(){return this.element.getBoundingClientRect().height}get cellsLength(){return this._cells.length}get attached(){return this._attached}ngOnInit(){this.resolveTokens(),this.element.setAttribute("data-rowtype",this.rowType),this._extApi.rowsApi.addRow(this)}ngAfterViewInit(){for(const t of this._extApi.columnStore.getColumnsOf(this))this._createCell(t);this.detectChanges()}ngDoCheck(){this._attached&&this.grid&&this.detectChanges()}ngOnDestroy(){var t;N_.kill(this),null===(t=this._extApi)||void 0===t||t.rowsApi.removeRow(this)}_attach(){return!this._attached&&(this._attached=!0,!0)}_detach(){return!!this._attached&&(this._attached=!1,!0)}_createCell(t,e){if(!this.canCreateCell||this.canCreateCell(t,e)){const i=this.createComponent(t,e);i.instance.setOwner(this),this.cellCreated&&this.cellCreated(t,i)}}_destroyCell(t){const e="number"==typeof t?this._cells[t]:t;if(e){const t=this._cells.indexOf(e);if(!this.canDestroyCell||this.canDestroyCell(e)){const i=this._cells.length;this._viewRef.remove(t),i===this._cells.length&&this._cells.splice(t,1),this.cellDestroyed&&this.cellDestroyed(e,t)}}}_moveCell(t,e){const i=this._cells[t];i&&(this.canMoveCell&&!this.canMoveCell(t,e,i)||(this._viewRef.move(i.hostView,e),function(t,e,i,n){const s=wv(e,t.length-1),r=wv(i,t.length-1);if(s===r)return;const o=t[s],l=r<s?-1:1;for(let a=s;a!==r;a+=l){const e=a+l;n(t[a],t[e],a,e),t[a]=t[e]}n(t[r],o,r,s),t[r]=o}(this._cells,t,e,(t,e,i,n)=>{this.cellMoved&&this.cellMoved(t,e,i,n)})))}createComponent(t,e){const i=this._viewRef.length;e||0===e||(e=i),e=Math.min(i,e);const n=this._viewRef.createComponent(this._extApi.rowsApi.cellFactory.getComponentFactory(this),e,this.cellInjector);return this._cells.splice(e,0,n),n.onDestroy(()=>this._cells.splice(this._cells.indexOf(n),1)),n}resolveTokens(){var t;const e=null===(t=this._viewRef)||void 0===t?void 0:t.injector,i=null==e?void 0:e.get(Ly,null);i?(this._extApi=this._extApi||i,this.cellInjector=e):(this._extApi=this._extApi||Lv.find(this.grid).extApi,this.cellInjector=vr.create({providers:[{provide:Ev,useValue:this.grid},{provide:this.grid.constructor,useValue:this.grid},{provide:Ly,useValue:this._extApi}],parent:e}))}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ev,8),Vr(bl),Vr(Ko))},t.\u0275dir=Kt({type:t,viewQuery:function(t,e){if(1&t&&fa(ny,7,Ol),2&t){let t;pa(t=ma())&&(e._viewRef=t.first)}}}),t})();const Hv=new class{bridgeRow(t){const e=Nv;return Nv=void 0,Mv=t,e}bridgeContext(t,e){Mv=void 0,Nv=t;const i=e();return Mv=Nv=void 0,i}};let Bv=(()=>{class t extends Vv{constructor(){super(...arguments),this.rowType="data",this.observerMode=!0,this.outOfView=!1}get rowIndex(){return this._rowIndex}ngOnInit(){super.ngOnInit(),this.updateRow(),this.updateOutOfView()}ngOnDestroy(){var t;super.ngOnDestroy(),null===(t=this.context)||void 0===t||t.detachRow(this)}updateRow(){return this.currRow!==this.context.$implicit&&(this.prevRow=this.currRow,this.currRow=this.context.$implicit,this.currRow&&(this.grid.rowClassUpdate&&"item"===this.grid.rowClassUpdateFreq&&this.updateHostClass(),this.identityUpdated()),!0)}getCell(t){var e;return null===(e=this._cells[t])||void 0===e?void 0:e.instance}getCellById(t){var e;const i=this._extApi.columnApi.renderIndexOf(t);return null===(e=this._cells[i])||void 0===e?void 0:e.instance}_rebuildCells(){const t=this._extApi.columnStore.getColumnsOf(this);this.context._rebuildCells(this._extApi.columnStore.allColumns);const e=t.length;for(let n=0;n<e;n++){const e=this._cells[n];e?this.attachColumn(t[n],e):this._createCell(t[n])}let i=this.cellsLength;for(;i>e;)this._destroyCell(--i);this.detectChanges()}_setOutOfViewState(t){var e;this.outOfView!==t&&(this.outOfView=t,(null===(e=this.context)||void 0===e?void 0:e.outOfView)!==t&&(this.context.outOfView=t,this.ngDoCheck()))}updateOutOfView(t){this.observerMode&&!t||this._extApi.rowsApi.forceUpdateOutOfView(this)}onCtor(){const{context:t,index:e}=Hv.bridgeRow(this);this.grid=t.grid,this._extApi=Lv.find(this.grid).extApi,this._rowIndex=e,this.context=t,this.context.attachRow(this)}detectChanges(){this.grid.rowClassUpdate&&"ngDoCheck"===this.grid.rowClassUpdateFreq&&this.updateHostClass();for(const t of this._cells)t.instance.setContext(this.context),t.changeDetectorRef.detectChanges()}updateHostClass(){const t=this.element;if(this.grid.rowClassUpdate){this._classDiffer||(this._classDiffer=new V_("NgClass",23),this._lastClass=new Set);const e=this.grid.rowClassUpdate(this.context);if(this._classDiffer.setInput(e),this._classDiffer.updateValue()){const e=this._lastClass;this._lastClass=new Set;const i=this._classDiffer.value||{};for(const n of Object.keys(i))i[n]?(t.classList.add(n),this._lastClass.add(n)):t.classList.remove(n),e.delete(n);if(e.size>0)for(const n of e.values())t.classList.remove(n)}}else if(this._classDiffer){const e=this._classDiffer.value||{};this._classDiffer=this._lastClass=void 0;for(const i of Object.keys(e))t.classList.remove(i)}}cellCreated(t,e){this.attachColumn(t,e)}cellDestroyed(t,e){N_.kill(this,t.instance.column)}cellMoved(t,e,i,n){e.instance.syncColumn(),this.context.updateCell(t.instance.cellCtx.clone(e.instance.column)),e.changeDetectorRef.markForCheck()}identityUpdated(){this.element.setAttribute("row-id",this.context.dsIndex),this.element.setAttribute("row-key",this.context.identity)}attachColumn(t,e){t.columnDef||(new cv(this._extApi).column=t,t.columnDef.name=t.id),e.instance.setColumn(t),e.instance.setContext(this.context)}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-row","row",""]],viewQuery:function(t,e){if(1&t&&fa(ny,7,Ol),2&t){let t;pa(t=ma())&&(e._viewRef=t.first)}},hostAttrs:["role","row",1,"cdk-row","pbl-ngrid-row"],exportAs:["pblNgridRow"],features:[jo([{provide:Ow,useExisting:t}]),Cr],attrs:sy,ngContentSelectors:oy,decls:4,vars:0,consts:[["viewRef",""]],template:function(t,e){1&t&&(eo(ry),io(0),Ur(1,null,0),io(3,1))},encapsulation:2,changeDetection:0}),t})(),zv=(()=>{class t extends Vv{constructor(t,e,i,n,s,r){super(t,e,i),this.metaRows=n,this.gridWidthRow=null!==r,this.isFooter=null!==s,this.rowType=this.isFooter?"footer":"header"}set row(t){this.updateRow(t)}get rowIndex(){return 0}get meta(){return this._meta}set meta(t){this._meta=t}ngOnInit(){super.ngOnInit(),this.handleVisibility()}ngOnDestroy(){this.metaRows.removeMetaRow(this),super.ngOnDestroy()}updateSize(){if(this.gridWidthRow)for(const t of this._cells)t.instance.updateSize()}onCtor(){}detectChanges(){for(const t of this._cells)t.changeDetectorRef.markForCheck()}updateRow(t){t!==this._meta&&Cv(this.metaRows,this,this.element,this._meta,t)}cellCreated(t,e){t.columnDef||(new cv(this._extApi).column=t,t.columnDef.name=t.id),e.instance.setColumn(t,this.gridWidthRow)}cellDestroyed(t,e){N_.kill(this,t.instance.column)}handleVisibility(){vv(this.element,this.isFooter);const t=this.isFooter?"showFooter":"showHeader";this._extApi.grid[t]||bv(this.element,!1),this._extApi.propChanged.pipe(N_(this)).subscribe(e=>{e.source===this._extApi.grid&&e.key===t&&bv(this.element,!1===e.prev)})}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ev,8),Vr(bl),Vr(Ko),Vr(Vy),zi("footer"),zi("gridWidthRow"))},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-column-row"]],hostAttrs:["role","row"],inputs:{row:"row"},features:[jo([{provide:Aw,useExisting:t}]),Cr],decls:2,vars:0,consts:[["viewRef",""]],template:function(t,e){1&t&&Ur(0,null,0)},encapsulation:2}),t})(),jv=(()=>{class t extends Vv{constructor(t,e,i,n,s){super(t,e,i),this.metaRows=n,this.gridWidthRow=!1,this.isFooter=null!==s,this.rowType=this.isFooter?"meta-footer":"meta-header"}get row(){return this._row}set row(t){this.updateRow(t)}get rowIndex(){return this._row.rowDef.rowIndex}get meta(){return this._meta}set meta(t){this._meta=t}ngOnInit(){super.ngOnInit(),this.handleVisibility()}ngOnDestroy(){this.metaRows.removeMetaRow(this),super.ngOnDestroy()}onCtor(){}detectChanges(){for(const t of this._cells)t.changeDetectorRef.markForCheck()}cellCreated(t,e){e.instance.setColumn(t,this.isFooter)}cellDestroyed(t,e){}cellMoved(t,e,i,n){}updateRow(t){var e;t!==this._row&&(Cv(this.metaRows,this,this.element,this._meta,null==t?void 0:t.rowDef),(null===(e=this._row)||void 0===e?void 0:e.isGroup)&&this.element.classList.remove("pbl-meta-group-row"),(null==t?void 0:t.isGroup)&&this.element.classList.add("pbl-meta-group-row"),this._row=t)}handleVisibility(){vv(this.element,this.isFooter)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ev,8),Vr(bl),Vr(Ko),Vr(Vy),zi("footer"))},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-meta-row"]],hostAttrs:["role","row"],inputs:{row:"row"},features:[jo([{provide:Aw,useExisting:t}]),Cr],decls:2,vars:0,consts:[["viewRef",""]],template:function(t,e){1&t&&Ur(0,null,0)},encapsulation:2}),t})();const $v=new Wi("PblNgridCellFactoryResolver");let Wv=(()=>{class t{constructor(t){this.factoryMap=t}getComponentFactory(t){return this.factoryMap[t.rowType]}}return t.\u0275fac=function(e){return new(e||t)(ln($v))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Gv=(()=>{class t{constructor(t){this._parent=t,this._multi={},this._multiDefaults={},this._singles={},this.changes$=new S,this.changes=this.changes$.asObservable(),this._parent?(this._parent.changes.pipe(N_(this)).subscribe(this.changes$),this.root=this._parent.root):this.root=this}get parent(){return this._parent}getRoot(){return this.root}getSingle(t){return this._singles[t]||this._parent&&this._parent.getSingle(t)}setSingle(t,e){e!==this.getSingle(t)&&(this._singles[t]=e,this.emitChanges({op:e?"add":"remove",type:t,value:e}))}getMultiDefault(t){return this._multiDefaults[t]||this._parent&&this._parent.getMultiDefault(t)}setMultiDefault(t,e){e!==this.getMultiDefault(t)&&(this._multiDefaults[t]=e,this.emitChanges({op:e?"add":"remove",type:t,value:e}))}getMulti(t){return this._multi[t]}addMulti(t,e){(this.getMulti(t)||(this._multi[t]=[])).push(e),"*"===e.name&&this.setMultiDefault(t,e),this.emitChanges({op:"add",type:t,value:e})}removeMulti(t,e){const i=this.getMulti(t);if(i){const n=i.indexOf(e);n>-1&&i.splice(n,1),this.emitChanges({op:"remove",type:t,value:e})}}forMulti(t,e){let i=this,n=0;for(;i;){const s=i.getMulti(t);if(s&&(n++,!0===e(s)))return;i=i.parent}return n}ngOnDestroy(){this.changes$.complete(),N_.kill(this)}bufferStart(){this.root.bufferedData||(this.root.bufferedData=[])}bufferEnd(){if(this.root.bufferedData){const t=this.root.bufferedData;this.root.bufferedData=void 0,this.emitChanges(t)}}emitChanges(t){const e=Array.isArray(t)?t:[t];this.root.bufferedData?this.root.bufferedData.push(...e):this.changes$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(ln(t,12))},t.\u0275prov=dt({factory:function(){return new t(ln(t,12))},token:t,providedIn:"root"}),t})(),Uv=(()=>{class t extends Tw{constructor(t,e,i,n){super(t,e,n),this.registry=i,this._table=n,this.columns=[]}getColumnsDiff(){return null}clone(){const t=Object.create(this);return this.columns=[],t}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(fl),Vr(Gv),Vr(dw,8))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridRowDef",""]],inputs:{columns:["pblNgridRowDefColumns","columns"],when:["pblNgridRowDefWhen","when"]},features:[jo([{provide:Tw,useExisting:t}]),Cr]}),t})();class qv{constructor(){}get $implicit(){return this}static create(t,e){const i=new qv;return i.col=t,i.grid=e,i}}class Zv{constructor(){this._editing=!1,this._focused=!1,this._selected=!1,this._external={}}get $implicit(){return this}get row(){return this.rowContext.$implicit}get value(){return this.col.getValue(this.row)}set value(t){this.col.setValue(this.row,t)}get rowContext(){return this._rowContext}get editing(){return this._editing}get focused(){return this._focused}get selected(){return this._selected}static create(t,e,i){const n=new Zv;return n._rowContext=t,n.col=e,n.extApi=i,Object.defineProperties(n,{grid:{value:i.grid},index:{value:i.grid.columnApi.indexOf(e)}}),n}static defaultState(){return{editing:!1,focused:!1,selected:!1,external:{}}}clone(t){const e=Zv.create(this._rowContext,t||this.col,this.extApi);return e.fromState(this.getState(),this._rowContext,!0),e}getExternal(t){return this._external[t]}setExternal(t,e,i=!1){this._external[t]=e,i&&this._rowContext.saveState()}getState(){return{editing:this._editing,focused:this._focused,selected:this._selected,external:this._external}}fromState(t,e,i){const n=!i&&this._editing===t.editing;this._rowContext=e,this._editing=t.editing,this._focused=t.focused,this._selected=t.selected,this._external=t.external,n&&e.updateCell(this)}startEdit(t){this.col.editorTpl&&!this.editing&&(this._editing=!0,this._rowContext.updateCell(this),t&&this.grid.rowsApi.syncRows("data",!0,this.rowContext.index))}stopEdit(t){this.editing&&!this.grid.viewport.isScrolling&&(this._editing=!1,this._rowContext.updateCell(this),t&&this.grid.rowsApi.syncRows("data",this.rowContext.index))}}class Kv{constructor(t,e,i){this.extApi=i,this.external={},this.dsIndex=e,this._$implicit=t,this.identity=this.extApi.contextApi.getRowIdentity(e,t),this.grid=i.grid,this._rebuildCells(this.extApi.grid.columnApi.columns)}get $implicit(){return this._$implicit}set $implicit(t){this._$implicit!==t&&(this._$implicit=t,this.updateRowData())}get dataIndex(){return this.index}set dataIndex(t){this.index=t}get length(){var t,e;return null!==(e=null===(t=this.cells)||void 0===t?void 0:t.length)&&void 0!==e?e:0}static defaultState(t,e,i){const n=[];for(let s=0;s<i;s++)n.push(Zv.defaultState());return{identity:t,dsIndex:e,cells:n,firstRender:!0,external:{}}}getExternal(t){return this.external[t]}setExternal(t,e,i=!1){this.external[t]=e,i&&this.saveState()}getState(){return{identity:this.identity,dsIndex:this.dsIndex,firstRender:this.firstRender,cells:this.cells.map(t=>t.getState()),external:this.external}}fromState(t){this.firstRender=t.firstRender,this.dsIndex=t.dsIndex,this.external=t.external;for(let e=0,i=this.cells.length;e<i;e++)this.cells[e].fromState(t.cells[e],this)}saveState(){this.extApi.contextApi.saveState(this)}cell(t){const e="number"==typeof t?t:this.grid.columnApi.indexOf(t);return this.cells[e]}getCells(){return this.cells&&this.cells.slice()||[]}updateCell(t){this.cells[t.index]=t.clone()}attachRow(t){this.detachRow(this._attachedRow),this._attachedRow=t,this._updatePending&&this.updateRowData()}detachRow(t){t&&this._attachedRow===t&&(this.saveState(),this._attachedRow=void 0)}_rebuildCells(t){const e=this.cells=[],i=t.length;for(let n=0;n<i;n++){const i=Zv.create(this,t[n],this.extApi);e.push(i)}}updateRowData(){this._attachedRow?(this._updatePending=!1,this.extApi.contextApi._updateRowContext(this,this._attachedRow.rowIndex),this._attachedRow.updateRow()):this._updatePending=!!this._$implicit}}function Qv(t,e){return t.matches?t.matches(e):t.msMatchesSelector(e)}function Yv(t,e){if(!(t instanceof Node))return null;let i=t;for(;null!=i&&!(i instanceof Element&&Qv(i,e));)i=i.parentNode;return i||null}function Jv(t){return Array.from(Yv(t,"pbl-cdk-table").querySelectorAll("pbl-ngrid-row")).indexOf(t)}function Xv(t,e){let i,n;if("rowIdent"in(s=t)&&"colIndex"in s)i=t.rowIdent,n=t.colIndex;else{if(!function(t){return"rowContext"in t&&"index"in t}(t)){const[i,n]=function(t){const e=Yv(t,"pbl-ngrid-row"),i=Array.from(e.querySelectorAll("pbl-ngrid-cell"));return[Jv(e),i.indexOf(t)]}(t),s=e.viewCache.get(i);if(s){const t=e.columnApi.findColumnAt(n),i=e.columnApi.indexOf(t);return s.cell(i)}return}i=t.rowContext.identity,n=t.index}var s;const r=e.cache.get(i);if(r){const t=e.extApi.grid.contextApi.findRowInView(r.identity);if(t)return t.cell(n);if(r.cells[n])return[r,n]}}class tb{constructor(t){var e;this.extApi=t,this.viewCache=new Map,this.viewCacheGhost=new Set,this.cache=new Map,this.activeSelected=[],this.focusChanged$=new lf({prev:void 0,curr:void 0}),this.selectionChanged$=new S,this.focusChanged=this.focusChanged$.pipe((e=this.focusChanged$.pipe(Og(0,kg)),function(t){return t.lift(new Ww(e))}),D(t=>({prev:t[0].prev,curr:t[t.length-1].curr}))),this.selectionChanged=this.selectionChanged$.asObservable(),this.columnApi=t.columnApi,t.events.pipe(mf(t=>"onDataSource"===t.kind),vf(1)).subscribe(()=>{this.vcRef=t.cdkTable._rowOutlet.viewContainer,this.syncViewAndContext(),t.cdkTable.onRenderRows.subscribe(()=>this.syncViewAndContext())}),t.events.pipe(O_).subscribe(t=>this.destroy())}get focusedCell(){return this.activeFocused?Object.assign({},this.activeFocused):void 0}get selectedCells(){return this.activeSelected.slice()}focusCell(t){if(t){const e=Xv(t,this);e&&(this.focusCell(),e instanceof Zv?e.focused||this.extApi.grid.viewport.isScrolling||(this.updateState(e.rowContext.identity,e.index,{focused:!0}),this.activeFocused={rowIdent:e.rowContext.identity,colIndex:e.index},this.selectCells([this.activeFocused],!0),this.extApi.grid.rowsApi.syncRows("data",e.rowContext.index)):(this.updateState(e[0].identity,e[1],{focused:!0}),this.activeFocused={rowIdent:e[0].identity,colIndex:e[1]}),this.emitFocusChanged(this.activeFocused))}else if(this.activeFocused){const{rowIdent:t,colIndex:e}=this.activeFocused;this.activeFocused=void 0,this.updateState(t,e,{focused:!1}),this.emitFocusChanged(this.activeFocused);const i=this.findRowInView(t);i&&this.extApi.grid.rowsApi.syncRows("data",i.index)}}selectCells(t,e){const i=new Set;e&&this.unselectCells();const n=[];for(const s of t){const t=Xv(s,this);if(t instanceof Zv){if(!t.selected&&!this.extApi.grid.viewport.isScrolling){const e=t.rowContext.identity,s=t.index;this.updateState(e,s,{selected:!0});const r={rowIdent:e,colIndex:s};this.activeSelected.push(r),n.push(r),i.add(t.rowContext.index)}}else if(t){const[e,i]=t;e.cells[i].selected||(this.updateState(e.identity,i,{selected:!0}),this.activeSelected.push({rowIdent:e.identity,colIndex:i}))}}i.size>0&&this.extApi.grid.rowsApi.syncRows("data",...Array.from(i.values())),this.selectionChanged$.next({added:n,removed:[]})}unselectCells(t){const e=new Set;let i=this.activeSelected,n=!0;Array.isArray(t)?(i=t,n=!1):this.activeSelected=[];const s=[];for(const r of i){const t=Xv(r,this);if(t instanceof Zv){if(t.selected){const i=t.rowContext.identity,r=t.index;this.updateState(i,r,{selected:!1}),n||M_(this.activeSelected,t=>t.colIndex===r&&t.rowIdent===i)&&s.push({rowIdent:i,colIndex:r}),e.add(t.rowContext.index)}}else if(t){const[e,i]=t;e.cells[i].selected&&(this.updateState(e.identity,i,{selected:!1}),!n)&&M_(this.activeSelected,t=>t.colIndex===i&&t.rowIdent===e.identity)&&s.push({rowIdent:e.identity,colIndex:i})}}e.size>0&&this.extApi.grid.rowsApi.syncRows("data",...Array.from(e.values())),this.selectionChanged$.next({added:[],removed:s})}clear(t){if(this.viewCache.clear(),this.viewCacheGhost.clear(),this.cache.clear(),!0===t)for(const e of this.extApi.rowsApi.dataRows())this.viewCache.set(e.rowIndex,e.context),e.context.fromState(this.getCreateState(e.context)),this.syncViewAndContext()}saveState(t){t instanceof Kv&&this.cache.set(t.identity,t.getState())}getRow(t){const e="number"==typeof t?t:Jv(t);return this.rowContext(e)}getCell(t,e){if("number"==typeof t){const i=this.rowContext(t);if(i)return i.cell(e)}else{const e=Xv(t,this);if(e instanceof Zv)return e}}getDataItem(t){const e=Xv(t,this);if(e instanceof Zv)return e.col.getValue(e.rowContext.$implicit);if(e){const t=this.extApi.grid.ds.source[e[0].dsIndex];return this.extApi.grid.columnApi.findColumnAt(e[1]).getValue(t)}}createCellContext(t,e){const i=this.rowContext(t),n=this.columnApi.indexOf(e);return i.cell(n)}rowContext(t){return this.viewCache.get(t)}updateState(t,e,i){const n=this.cache.get(t);if(n){if("number"==typeof e){const t=n.cells[e];t&&Object.assign(t,i)}else Object.assign(n,e);const s=this.findRowInView(t);s&&s.fromState(n)}}findRowInView(t){const e=this.cache.get(t);if(e){const i=this.viewCache.get(e.dsIndex-this.extApi.grid.ds.renderStart);if(i&&i.identity===t)return i}}findRowInCache(t,e,i){const n=this.cache.get(t);if(!e)return n;{const t=n.dsIndex+e,s=this.getRowIdentity(t);if(null!==s){let e=this.findRowInCache(s);return!e&&i&&t<this.extApi.grid.ds.length&&(e=Kv.defaultState(s,t,this.columnApi.columns.length),this.cache.set(s,e)),e}}}getRowIdentity(t,e){const{ds:i}=this.extApi.grid,{primary:n}=this.extApi.columnStore,s=e||i.source[t];return s?n?n.getValue(s):t:null}_createRowContext(t,e){const i=new Kv(t,this.extApi.grid.ds.renderStart+e,this.extApi);return i.fromState(this.getCreateState(i)),this.addToViewCache(e,i),i}_updateRowContext(t,e){const i=this.extApi.grid.ds.renderStart+e,n=this.getRowIdentity(i,t.$implicit);t.identity!==n&&(t.saveState(),t.dsIndex=i,t.identity=n,t.fromState(this.getCreateState(t)),this.addToViewCache(e,t))}addToViewCache(t,e){this.viewCache.set(t,e),this.viewCacheGhost.delete(e.identity)}getCreateState(t){let e=this.cache.get(t.identity);return e||(e=Kv.defaultState(t.identity,t.dsIndex,this.columnApi.columns.length),this.cache.set(t.identity,e)),e}emitFocusChanged(t){this.focusChanged$.next({prev:this.focusChanged$.value.curr,curr:t})}destroy(){this.focusChanged$.complete(),this.selectionChanged$.complete()}syncViewAndContext(){this.viewCacheGhost.forEach(t=>{this.findRowInView(t)||(this.cache.get(t).firstRender=!1)}),this.viewCacheGhost=new Set(Array.from(this.viewCache.values()).filter(t=>t.firstRender).map(t=>t.identity))}}let eb=(()=>{class t{constructor(t,e){this.tRef=t,this.registry=e}ngOnInit(){this.registry.addMulti(this.kind,this)}ngOnDestroy(){this.registry.removeMulti(this.kind,this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t}),t})();class ib extends qv{constructor(){super()}static createDateHeaderCtx(t,e){const i=new ib;return i.col=t.columnDef.column,i.grid=t.grid,Object.defineProperty(i,"injector",{value:e}),i}}class nb{}function sb(t,e,i){if(i){const e=t.classList;for(const t of i.columnDef._columnCssClassName)e.add(t);if(t.classList.remove(By(i.columnDef)),i.type&&t.classList.remove(zy(i.type)),i.css){const e=i.css.split(" ");for(const i of e)t.classList.remove(i)}}const n=t.classList;for(const s of e.columnDef._columnCssClassName)n.add(s);if(t.classList.add(By(e.columnDef)),e.type&&t.classList.add(zy(e.type)),e.css){const i=e.css.split(" ");for(const e of i)t.classList.add(e)}}function rb(){this.columnDef.applyWidth(this.el)}function ob(){this.columnDef.applySourceWidth(this.el)}let lb=(()=>{class t{constructor(t,e){this.extApi=t,this.el=e.nativeElement}get owner(){return this._owner}setOwner(t){this._owner=t}focus(){this.el.focus({preventScroll:!0}),this.extApi.viewport._scrollIntoView(this.el)}ngOnDestroy(){N_.kill(this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ly),Vr(Ko))},t.\u0275dir=Kt({type:t}),t})();const ab=new Map;class cb{constructor(t){this.extApi=t,this.columns=[],this.entries=new WeakMap,this.ro=new ResizeObserver(t=>{requestAnimationFrame(()=>this.onResize(t))})}static get(t){let e=ab.get(t.grid);return e||(e=new cb(t),ab.set(t.grid,e)),e}has(t){return-1!==this.columns.indexOf(t)}hasColumn(t){return this.columns.some(e=>e.column===t)}add(t){this.entries.set(t.target,t),this.ro.observe(t.target),this.columns.push(t)}remove(t){this.ro.unobserve(t.target),this.entries.delete(t.target);const e=this.columns.indexOf(t);e>-1&&this.columns.splice(e,1),0===this.columns.length&&(this.ro.disconnect(),ab.delete(this.extApi.grid))}onResize(t){const e=[];for(const i of t){const t=this.entries.get(i.target);t&&e.push(t)}if(e.length>0){let t=!1;for(const i of e)t=t||i.column.columnDef.isDragging,i.updateSize();t||this.extApi.widthCalc.calcColumnWidth(this.columns.map(t=>t.column))}}}class hb extends class{constructor(t){this.target=t}get column(){return this._column}set column(t){this.attachColumn(t)}attachColumn(t){this.detachColumn(),t&&(t.sizeInfo=this),this._column=t}detachColumn(){this._column&&(this._column.sizeInfo=void 0,this._column=void 0)}updateSize(){if(this.column&&!this.column.columnDef.isDragging){const t=this.target,e=t.getBoundingClientRect();this.width=e.width,this.height=e.height,this.style=getComputedStyle(t),this.column.columnDef.onResize()}}}{constructor(t,e){super(t),this.controller=cb.get(e)}attachColumn(t){super.attachColumn(t),t?this.controller.has(this)||(this.updateSize(),this.controller.add(this)):this.controller.remove(this)}destroy(){this.controller.remove(this),this.detachColumn()}}const ub=new Map;let db=(()=>{class t extends lb{constructor(t,e,i){super(t,e),this.zone=i}get columnDef(){var t;return null===(t=this.column)||void 0===t?void 0:t.columnDef}get grid(){return this.extApi.grid}setColumn(t,e){const i=this.column;if(i!==t){let n,s,r;i&&N_.kill(this,i),this.column=t,r=e?ob:rb,n=t=>!e&&"update"!==t.reason||e&&"resize"!==t.reason,s=e?void 0:this.initMainHeaderColumnView(t),e&&!this.resizeObserver&&(this.resizeObserver=new hb(this.el,this.extApi)),this.columnDef.widthChange.pipe(mf(n),N_(this,t)).subscribe(r.bind(this)),s&&s.detectChanges(),r.call(this),sb(this.el,t)}}updateSize(){this.resizeObserver&&this.resizeObserver.updateSize()}ngAfterViewInit(){this.resizeObserver&&(this.resizeObserver.column=this.column)}ngOnDestroy(){var t;null===(t=this.resizeObserver)||void 0===t||t.destroy(),this.column&&N_(this,this.column),super.ngOnDestroy()}initMainHeaderColumnView(t){this.cellCtx=ib.createDateHeaderCtx(this,this.vcRef.injector);const e=this.cellCtx,i=this.vcRef.createEmbeddedView(t.headerCellTpl,e);return this.zone.onStable.pipe(ty()).subscribe(()=>{this.runHeaderExtensions(e,i);const t=this.vcRef.get(0);t.destroyed||t.detectChanges()}),i}runHeaderExtensions(t,e){let i=ub.get(this.grid);if(!i){const t=new Map;this.grid.registry.forMulti("dataHeaderExtensions",e=>{for(const i of e)t.has(i.name)||t.set(i.name,i)}),i=Array.from(t.values()),ub.set(this.grid,i),this.zone.onStable.pipe(ty()).subscribe(()=>ub.delete(this.grid))}let{rootNodes:n}=e;for(const s of i)s.shouldRender&&!s.shouldRender(t)||(s instanceof eb?this.vcRef.createEmbeddedView(s.tRef,t).markForCheck():s instanceof nb&&(n=this.createComponent(s,t,n)))}createComponent(t,e,i){const n=t.getFactory(e),s=[];t.projectContent&&s.push(i);const r=this.vcRef.createComponent(n,this.vcRef.length,null,s);return t.projectContent&&(i=[r.location.nativeElement]),t.onCreated&&t.onCreated(e,r),i}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ly),Vr(Ko),Vr(ja))},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-header-cell"]],viewQuery:function(t,e){if(1&t&&fa(ly,7,Ol),2&t){let t;pa(t=ma())&&(e.vcRef=t.first)}},hostAttrs:["role","columnheader",1,"cdk-header-cell","pbl-ngrid-header-cell"],exportAs:["ngridHeaderCell"],features:[Cr],decls:2,vars:0,consts:[["vcRef",""]],template:function(t,e){1&t&&Ur(0,null,0)},encapsulation:2,changeDetection:0}),t})();const pb="pbl-ngrid-editable-cell";let fb=(()=>{class t extends lb{constructor(){super(...arguments),this.focused=!1,this.selected=!1}syncColumn(){this.column&&(this.colIndex=this.column.columnDef.grid.columnApi.indexOf(this.column))}setContext(t){this._rowCtx=t}setColumn(t){const e=this.column;e!==t&&(e&&N_.kill(this,e),this.column=t,this.colIndex=this.column.columnDef.grid.columnApi.indexOf(t),t.columnDef.applyWidth(this.el),sb(this.el,t,e),function(t,e,i){(null==i?void 0:i.editable)&&i.editorTpl&&t.classList.remove(pb),e.editable&&e.editorTpl&&t.classList.add(pb)}(this.el,t,e),t.columnDef.widthChange.pipe(mf(t=>"update"!==t.reason),N_(this,t)).subscribe(t=>this.column.columnDef.applyWidth(this.el)))}ngDoCheck(){if(this._rowCtx){const t=this.cellCtx=this._rowCtx.cell(this.colIndex);this.template=t.editing?this.column.editorTpl:this.column.cellTpl,t.focused!==this.focused&&((this.focused=t.focused)?this.el.classList.add("pbl-ngrid-cell-focused"):this.el.classList.remove("pbl-ngrid-cell-focused")),this.cellCtx.selected!==this.selected&&((this.selected=t.selected)?this.el.classList.add("pbl-ngrid-cell-selected"):this.el.classList.remove("pbl-ngrid-cell-selected"))}}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-cell"]],hostAttrs:["role","gridcell",1,"pbl-ngrid-cell"],hostVars:2,hostBindings:function(t,e){2&t&&Nr("id",null==e.column?null:e.column.id)("tabindex",null==e.column||null==e.column.columnDef?null:e.column.columnDef.grid.cellFocus)},exportAs:["pblNgridCell"],features:[Cr],decls:1,vars:2,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&Mr(0,ay,1,0,"ng-container",0),2&t&&Hr("ngTemplateOutlet",e.template)("ngTemplateOutletContext",e.cellCtx)},directives:[dh],encapsulation:2}),t})(),gb=(()=>{class t extends lb{get columnDef(){var t;return null===(t=this.column)||void 0===t?void 0:t.columnDef}get grid(){return this.extApi.grid}setColumn(t){const e=this.column;e!==t&&(e&&N_.kill(this,e),this.column=t,this.cellCtx=qv.create(t,this.grid),rb.call(this),sb(this.el,t),this.columnDef.widthChange.pipe(mf(t=>"update"!==t.reason),N_(this,t)).subscribe(rb.bind(this)))}ngOnDestroy(){this.column&&N_(this,this.column),super.ngOnDestroy()}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-footer-cell"]],hostAttrs:["role","gridcell",1,"cdk-footer-cell","pbl-ngrid-footer-cell"],features:[Cr],decls:1,vars:2,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&Mr(0,cy,1,0,"ng-container",0),2&t&&Hr("ngTemplateOutlet",null==e.column?null:e.column.footerCellTpl)("ngTemplateOutletContext",e.cellCtx)},directives:[dh],encapsulation:2,changeDetection:0}),t})(),mb=(()=>{class t extends lb{get columnDef(){return this.column.columnDef}get grid(){return this.extApi.grid}setColumn(t,e){const i=this.column;i!==t&&(i&&N_.kill(this,i),this.column=t,t&&(t.columnDef||(new cv(this.extApi).column=t,t.columnDef.name=t.id),this.cellCtx=qv.create(t,this.grid),Qy(t)&&(this.el.classList.add("pbl-header-group-cell"),t.placeholder&&this.el.classList.add("pbl-header-group-cell-placeholder")),this.columnDef.widthChange.pipe(mf(t=>"resize"!==t.reason),N_(this,t)).subscribe(t=>this.columnDef.applySourceWidth(this.el)),ob.call(this),sb(this.el,t),function(t,e){t.classList.add(...e?["cdk-footer-cell","pbl-ngrid-footer-cell"]:["cdk-header-cell","pbl-ngrid-header-cell"])}(this.el,e)))}ngOnDestroy(){this.column&&N_(this,this.column),super.ngOnDestroy()}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-meta-cell"]],viewQuery:function(t,e){if(1&t&&fa(ly,7,Ol),2&t){let t;pa(t=ma())&&(e.vcRef=t.first)}},hostAttrs:["role","cell"],exportAs:["ngridMetaCell"],features:[Cr],decls:1,vars:2,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&Mr(0,hy,1,0,"ng-container",0),2&t&&Hr("ngTemplateOutlet",null==e.column?null:e.column.template)("ngTemplateOutletContext",e.cellCtx)},directives:[dh],encapsulation:2,changeDetection:0}),t})(),_b=(()=>{class t{constructor(t,e){this.tRef=t,this.registry=e}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t}),t})(),wb=(()=>{class t extends _b{constructor(t,e){super(t,e)}ngOnInit(){this.registry.addMulti("headerCell",this)}ngOnDestroy(){this.registry.removeMulti("headerCell",this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridHeaderCellDef",""],["","pblNgridHeaderCellTypeDef",""]],inputs:{name:["pblNgridHeaderCellDef","name"],type:["pblNgridHeaderCellTypeDef","type"]},features:[Cr]}),t})(),yb=(()=>{class t extends _b{constructor(t,e){super(t,e)}ngOnInit(){this.registry.addMulti("tableCell",this)}ngOnDestroy(){this.registry.removeMulti("tableCell",this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridCellDef",""],["","pblNgridCellTypeDef",""]],inputs:{name:["pblNgridCellDef","name"],type:["pblNgridCellTypeDef","type"]},features:[Cr]}),t})(),vb=(()=>{class t extends _b{constructor(t,e){super(t,e)}ngOnInit(){this.registry.addMulti("footerCell",this)}ngOnDestroy(){this.registry.removeMulti("footerCell",this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridFooterCellDef",""],["","pblNgridFooterCellTypeDef",""]],inputs:{name:["pblNgridFooterCellDef","name"],type:["pblNgridFooterCellTypeDef","type"]},features:[Cr]}),t})(),bb=(()=>{class t{constructor(t){this.extApi=t,this.workaroundEnabled=!1,this._cachedRenderDefMap=new Map,t.onConstructed(()=>{const e=t.cdkTable;this.renderer=e,this.workaroundEnabled=!e._cachedRenderDefMap&&"function"==typeof this.renderer._renderCellTemplateForItem})}applyChanges(t,e,i,n,s){const r={vcRef:e,createEmbeddedView:(t,n,s)=>{const r=i(t,n,s);return r.context=this.extApi.contextApi._createRowContext(r.context.$implicit,r.index),Hv.bridgeContext(r,()=>e.createEmbeddedView(r.templateRef,r.context,r.index))},itemValueResolver:n};t.forEachOperation((t,e,i)=>{const n=Object.create(r);n.record=t,null==t.previousIndex?this.addItem(e,i,n):null==i?this.removeItem(e,n):this.moveItem(e,i,n),this.workaroundEnabled&&this.patch20765afterOp(n),this.afterOperation(n)}),this.workaroundEnabled&&this.patch20765(t,r)}detach(){}addItem(t,e,i){}removeItem(t,e){}moveItem(t,e,i){}afterOperation(t){}patch20765(t,e){t.forEachIdentityChange=i=>{t.constructor.prototype.forEachIdentityChange.call(t,t=>{i(t),this._cachedRenderDefMap.get(t.currentIndex)!==t.item.rowDef&&(e.vcRef.remove(t.currentIndex),e.createEmbeddedView(t,null,t.currentIndex),this._cachedRenderDefMap.set(t.currentIndex,t.item.rowDef))})}}patch20765afterOp(t){switch(t.op){case 0:case 1:case 2:this._cachedRenderDefMap.set(t.record.currentIndex,t.record.item.rowDef);break;case 3:this._cachedRenderDefMap.delete(t.record.previousIndex)}}}return t.\u0275fac=function(e){return new(e||t)(ln(Ly))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Cb=(()=>{class t extends bb{constructor(){super(...arguments),this.viewCacheSize=20,this._viewCache=[]}detach(){for(const t of this._viewCache)t.destroy()}addItem(t,e,i){i.view=this._insertViewFromCache(e,i.vcRef),i.view?(i.view.context.$implicit=i.itemValueResolver(i.record),i.op=0):(i.view=i.createEmbeddedView(i.record,t,e),i.op=1)}removeItem(t,e){const i=this._detachView(t,e.vcRef);this._maybeCacheView(i,e.vcRef),e.op=3}moveItem(t,e,i){i.view=i.vcRef.get(t),i.vcRef.move(i.view,e),i.view.context.$implicit=i.itemValueResolver(i.record),i.op=2}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t),this.extApi.rowsApi.findRowByElement(t.rootNodes[0])._detach();else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&(this.extApi.rowsApi.findRowByElement(i.rootNodes[0])._attach(),e.insert(i,t)),i||null}_detachView(t,e){return e.detach(t)}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),Sb=(()=>{class t extends zw{constructor(t,e,i,n,s,r,o,l,a,c,h,u,d,p){super(t,e,i,n,s,a,c,h,u,d,p),this.injector=r,this.grid=o,this.extApi=l,this.platform=c,this._minWidth=null,this.pblStickyColumnStylesNeedReset=!1,this._cachedRowDefs={header:new Set,footer:new Set},this.cdRef=e,l.setCdkTable(this),this.trackBy=this.grid.trackBy}get _element(){return this._elementRef.nativeElement}get beforeRenderRows(){return this.beforeRenderRows$||(this.beforeRenderRows$=new S),this.beforeRenderRows$.asObservable()}get onRenderRows(){return this.onRenderRows$||(this.onRenderRows$=new S),this.onRenderRows$.asObservable()}get minWidth(){return this._minWidth}set minWidth(t){this._minWidth=t||null,this._element.style.minWidth=t?t+"px":null}ngOnInit(){var t,e,i;this.pblStickyStyler=new Nw(this._isNativeHtmlTable,this.stickyCssClass,(null===(t=this._dir)||void 0===t?void 0:t.value)||"ltr",this._coalescedStyleScheduler,this.platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(null!==(i=null===(e=this._dir)||void 0===e?void 0:e.change)&&void 0!==i?i:$p()).pipe(N_(this)).subscribe(t=>{this.pblStickyStyler.direction=t,this.pblStickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles()}),super.ngOnInit()}updateStickyColumnStyles(){this._isStickyPending||(this._isStickyPending=!0,Promise.resolve().then(()=>{this._isStickyPending=!1,this._updateStickyColumnStyles()}))}ngOnDestroy(){super.ngOnDestroy(),N_.kill(this),this.onRenderRows$&&this.onRenderRows$.complete()}addClass(t){this._element.classList.add(t)}removeClass(t){this._element.classList.remove(t)}addHeaderRowDef(t){super.addHeaderRowDef(t),this._cachedRowDefs.header.add(t)}clearHeaderRowDefs(){const{header:t}=this._cachedRowDefs;for(const e of Array.from(t.values()))this.removeHeaderRowDef(e);t.clear()}addFooterRowDef(t){super.addFooterRowDef(t),this._cachedRowDefs.footer.add(t)}clearFooterRowDefs(){const{footer:t}=this._cachedRowDefs;for(const e of Array.from(t.values()))this.removeFooterRowDef(e);t.clear()}updateRowDefCache(){this._cacheRowDefs()}renderRows(){this.beforeRenderRows$&&this.beforeRenderRows$.next(),super.renderRows(),this.onRenderRows$&&this.onRenderRows$.next(this._rowOutlet)}pblForceRenderDataRows(){try{this._forceRenderDataRows()}catch(t){this.multiTemplateDataRows=this.multiTemplateDataRows}}_updateStickyColumnStyles(){super.updateStickyColumnStyles();const t=this.extApi.columnApi.visibleColumns.map(t=>{var e,i;return null!==(i=null===(e=t.columnDef)||void 0===e?void 0:e.sticky)&&void 0!==i&&i}),e=this.extApi.columnApi.visibleColumns.map(t=>{var e,i;return null!==(i=null===(e=t.columnDef)||void 0===e?void 0:e.stickyEnd)&&void 0!==i&&i}),i=this.extApi.rowsApi.findColumnRow("header"),n=this.extApi.rowsApi.findColumnRow("footer"),s=this.extApi.rowsApi.dataRows().map(t=>t.element);i&&s.unshift(i.element),n&&s.push(n.element),this.pblStickyColumnStylesNeedReset&&(this.pblStickyStyler.clearStickyPositioning(s,["left","right"]),this.pblStickyColumnStylesNeedReset=!1),this.pblStickyStyler.updateStickyColumns(s,t,e,!0),this.extApi.columnApi.columns.forEach(t=>{var e;return null===(e=t.columnDef)||void 0===e?void 0:e.resetStickyChanged()})}}return t.\u0275fac=function(e){return new(e||t)(Vr(fl),Vr(bl),Vr(Ko),zi("role"),Vr(ym,8),Vr(vr),Vr(Ev),Vr(Ly),Vr(gc),Vr(pm),Vr(Jg),Vr(vw),Vr(Dm),Vr(Mw,12))},t.\u0275cmp=$t({type:t,selectors:[["pbl-cdk-table"]],hostAttrs:[1,"pbl-cdk-table"],exportAs:["pblCdkTable"],features:[jo([{provide:dw,useExisting:t},{provide:Jg,useClass:Cb},{provide:vw,useClass:bw},{provide:Mw,useValue:null}]),Cr],ngContentSelectors:dy,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(eo(uy),io(0),io(1,1),Ur(2,0),Ur(3,1),Ur(4,2),Ur(5,3))},directives:[Vw,Lw,Bw,Hw],encapsulation:2,changeDetection:0}),t})();class xb{constructor(t){this.extApi=t,this.onWidthCalc=new S,this.columnStore=t.columnStore,this.dynamicColumnWidth=new ov(av,t.getDirection()),t.directionChange().pipe(pf(t.events.pipe(O_))).subscribe(t=>this.dynamicColumnWidth.dir=t),t.events.pipe(O_).subscribe(()=>this.onWidthCalc.complete()),t.onInit(()=>this.listenToResize())}resetColumnsWidth(){pv(this.columnStore.getStaticWidth(),this.columnStore.visibleColumns,this.columnStore.metaColumns)}calcColumnWidth(t){var e;if(t||(t=this.columnStore.visibleColumns),!(null===(e=t[0])||void 0===e?void 0:e.sizeInfo))return;const i=this.dynamicColumnWidth;if(i.reset(),this.syncColumnGroupsSize(),0===i.minimumRowWidth&&i.addGroup(t.map(t=>t.sizeInfo).filter(t=>!!t)),i.maxWidthLockChanged)return this.resetColumnsWidth(),void this.calcColumnWidth(t);this.onWidthCalc.next(i)}syncColumnGroupsSize(){for(const t of this.columnStore.getAllHeaderGroup()){const e=this.columnStore.visibleColumns.filter(e=>!e.hidden&&e.isInGroup(t)).map(t=>t.sizeInfo).filter(t=>!!t);if(e.length>0){const i=this.dynamicColumnWidth.addGroup(e);t.minWidth=i,t.updateWidth(`${i}px`)}else t.minWidth=void 0,t.updateWidth("0px")}}listenToResize(){const{element:t}=this.extApi;let e;const i=Ag(i=>{e||(e=new ResizeObserver(i),e.observe(t))},i=>{e&&(e.unobserve(t),e.disconnect(),e=void 0)});let n=document.body.contains(t)?1:0;i.pipe(Hf(n),Og(0,Ig),pf(this.extApi.events.pipe(O_))).subscribe(t=>{0===n&&(n=1,this.extApi.columnStore.visibleColumns.forEach(t=>t.sizeInfo.updateSize())),this.onResize(t[0])})}onResize(t){var e;null===(e=this.extApi.viewport)||void 0===e||e.checkViewportSize(),this.calcColumnWidth()}}function Rb(t){let e;const i=n=>{if(e&&(t.grid.removeView(e,"beforeContent"),e=void 0,i.viewActive=!1),!1===n)return;const s=t.grid.ds&&0===t.grid.ds.renderLength;if(s?t.grid.addClass("pbl-ngrid-empty"):t.grid.removeClass("pbl-ngrid-empty"),s||!0===n){const n=t.registry.getSingle("noData");n&&(e=t.grid.createView("beforeContent",n.tRef,{$implicit:t.grid},0),i.viewActive=!0)}};return i}function Db(t){let e;return()=>{const i=t.grid.ds,n=i&&t.grid.usePagination;if(n&&(i.pagination=t.grid.usePagination||!1,i.paginator&&(i.paginator.noCacheMode=t.grid.noCachePaginator)),t.grid.isInit&&(N_.kill(t.grid,"pblPaginationKillKey"),e&&(t.grid.removeView(e,"beforeContent"),e=void 0),n)){const i=t.registry.getSingle("paginator");i&&(e=t.grid.createView("beforeContent",i.tRef,{$implicit:t.grid}))}}}class kb{constructor(t,e){this.grid=t,this.propChanged=this._propChanged=new S,this.config=e.config,this.registry=e.registry,this.element=e.elRef.nativeElement,e.dir&&(this.dir=e.dir);const{plugin:i,init:n}=this.createPlugin(e);this._create=n,this.plugin=i,this.events=i.events,this.columnStore=new mv(this,e.injector.get(fl)),this.widthCalc=new xb(this);const s=e.injector.get(Wv);var r;this.rowsApi=new Dv(this,e.ngZone,s),this.columnApi=yv.create(this),this._contextApi=new tb(this),this.logicaps={bindRegistry:(r=this,()=>{r.registry.changes.subscribe(t=>{let e=!1,i=!1;for(const n of t)switch(n.type){case"tableCell":e=!0;break;case"headerCell":case"footerCell":i=!0;break;case"noData":r.logicaps.noData();break;case"paginator":r.logicaps.pagination()}e&&r.columnStore.attachCustomCellTemplates(),i&&r.columnStore.attachCustomHeaderCellTemplates()})}),noData:Rb(this),pagination:Db(this)},function(t){t.events.subscribe(e=>{if("onDataSource"===e.kind){const{curr:i,prev:n}=e;n&&n.hostGrid===t.grid&&(n.hostGrid=void 0),i&&(i.hostGrid=t.grid)}else if("onDestroy"===e.kind){const e=t.grid.ds;e.hostGrid===t.grid&&(e.hostGrid=void 0)}})}(this),this.events.pipe(O_).subscribe(t=>this._propChanged.complete()),this.widthCalc.onWidthCalc.subscribe(t=>{this._cdkTable.minWidth=t.minimumRowWidth,e.ngZone.run(()=>{this.rowsApi.syncRows("header"),this.plugin.emitEvent({source:"grid",kind:"onResizeRow"})})})}get cdkTable(){return this._cdkTable}get contextApi(){return this._contextApi||(this._contextApi=new tb(this))}get viewport(){return this._viewPort}get pluginCtrl(){return this.plugin.controller}getDirection(){var t,e;return null!==(e=null===(t=this.dir)||void 0===t?void 0:t.value)&&void 0!==e?e:"ltr"}directionChange(){var t,e;return null!==(e=null===(t=this.dir)||void 0===t?void 0:t.change.asObservable())&&void 0!==e?e:zp}onConstructed(t){this._create?this.events.pipe(I_).subscribe(t):$p(!1)}onInit(t){this.plugin.controller.onInit().subscribe(t)}setCdkTable(t){this._cdkTable=t;const e=this._create;delete this._create,this.plugin.emitEvent({source:"grid",kind:"onConstructed"}),e()}setViewport(t){this._viewPort=t}notifyPropChanged(t,e,i,n){i!==n&&this._propChanged.next({source:t,key:e,prev:i,curr:n})}createPlugin(t){const e=vr.create({providers:[{provide:Ol,useValue:t.vcRef},{provide:Ko,useValue:t.elRef},{provide:bl,useValue:t.cdRef}],parent:t.injector});return Fv.create(e,this)}}function Eb(t){return t._extApi}function Tb(t){return t._plugin.controller}function Ib(t){return t._extApi.rowsApi.metaRowService}let Ab=(()=>{class t{constructor(t,e,i,n,s,r,o,l,a){this.elRef=i,this.ngZone=n,this.cdr=s,this.config=r,this.registry=o,this.id=l,this.rowClassUpdateFreq="item",this.rowFocus="",this.cellFocus="",this._dir="ltr",this._minDataViewHeight=0,this._noCachePaginator=!1,this._extApi=new kb(this,{config:r,registry:o,ngZone:n,injector:t,vcRef:e,elRef:i,cdRef:s,dir:a}),null==a||a.change.pipe(N_(this,"dir"),Sf(a.value)).subscribe(t=>this._dir=t);const c=r.get("table");this.showHeader=c.showHeader,this.showFooter=c.showFooter,this.noFiller=c.noFiller,this._extApi.onConstructed(()=>{this._viewport=this._extApi.viewport,this._cdkTable=this._extApi.cdkTable}),this.contextApi=this._extApi.contextApi,this._store=this._extApi.columnStore,this._plugin=this._extApi.plugin,this.columnApi=this._extApi.columnApi,this.rowsApi=this._extApi.rowsApi}get showHeader(){return this._showHeader}set showHeader(t){this._extApi.notifyPropChanged(this,"showHeader",this._showHeader,this._showHeader=Xg(t))}get showFooter(){return this._showFooter}set showFooter(t){this._extApi.notifyPropChanged(this,"showFooter",this._showFooter,this._showFooter=Xg(t))}get noFiller(){return this._noFiller}set noFiller(t){this._noFiller=Xg(t)}set dataSource(t){this.setDataSource(t instanceof nw?t:rw().onTrigger(()=>t||[]).create())}get ds(){return this._dataSource}get usePagination(){return this._pagination}set usePagination(t){""===t&&(t="pageNumber"),t!==this._pagination&&(this._pagination=t,this._extApi.logicaps.pagination())}get noCachePaginator(){return this._noCachePaginator}set noCachePaginator(t){t=Xg(t),this._noCachePaginator!==t&&(this._noCachePaginator=t,this.ds&&this.ds.paginator&&(this.ds.paginator.noCacheMode=t))}get minDataViewHeight(){return this.minDataViewHeight}set minDataViewHeight(t){t=tm(t),this._minDataViewHeight!==t&&(this._minDataViewHeight=t)}get fallbackMinHeight(){return this._minDataViewHeight>0?this._minDataViewHeight:void 0}set fallbackMinHeight(t){this.minDataViewHeight=t}get dir(){return this._dir}get virtualPagingActive(){return this.viewport.virtualPagingActive}get metaHeaderRows(){return this._store.metaHeaderRows}get metaFooterRows(){return this._store.metaFooterRows}get metaColumns(){return this._store.metaColumns}get columnRowDef(){return{header:this._store.headerColumnDef,footer:this._store.footerColumnDef}}get viewport(){return this._viewport}get innerTableMinWidth(){var t;return null===(t=this._cdkTable)||void 0===t?void 0:t.minWidth}ngAfterContentInit(){this._extApi.logicaps.bindRegistry()}ngAfterViewInit(){this.invalidateColumns(),Object.defineProperty(this,"isInit",{value:!0}),this._plugin.emitEvent({source:"grid",kind:"onInit"}),this._extApi.logicaps.pagination(),this.contextApi.focusChanged.subscribe(t=>{var e,i;t.curr&&(null===(i=null===(e=this.rowsApi.findDataRowByIdentity(t.curr.rowIdent))||void 0===e?void 0:e.getCellById(this.columnApi.columnIds[t.curr.colIndex]))||void 0===i||i.focus())})}ngOnChanges(t){let e=!1;t.focusMode&&(this.rowFocus="row"===this.focusMode?0:"",this.cellFocus="cell"===this.focusMode?0:""),t.columns&&this.isInit&&(e=!0),!0===e&&(this.invalidateColumns(),this.ngZone.onStable.pipe(vf(1)).subscribe(()=>this.rowsApi.syncRows("all",!0)))}ngOnDestroy(){this._store.dispose();const t=()=>{this._plugin.destroy(),this.viewport.detachViewPort(),N_.kill(this)};let e;this._plugin.emitEvent({source:"grid",kind:"onDestroy",wait:t=>e=t}),e?e.then(t).catch(t):t()}trackBy(t,e){return t}setSort(t,e,i=!1){if(!t||"boolean"==typeof t)return void this.ds.setSort(!!t);let n;if("string"==typeof t){if(n=this._store.visibleColumns.find(e=>e.alias?e.alias===t:e.sort&&e.id===t),!n&&ic())return void console.warn(`Could not find column with alias "${t}".`)}else n=t;this.ds.setSort(n,e,i)}setFilter(t,e){if(arguments.length>0){let i;if(Array.isArray(e)&&"string"==typeof e[0]){i=[];for(const t of e){const e=this._store.visibleColumns.find(e=>e.alias?e.alias===t:e.id===t);if(!e&&ic())return void console.warn(`Could not find column with alias ${t} "${t}".`);i.push(e)}}else i=e;this.ds.setFilter(t,i)}else this.ds.setFilter()}setDataSource(t){if(this._dataSource!==t){this._dataSource&&N_.kill(this,this._dataSource);const e=this._dataSource;this._dataSource=t,this._cdkTable.dataSource=t,this._extApi.logicaps.pagination(),this._extApi.logicaps.noData(!1),(null==e?void 0:e.hostGrid)===this&&e._detachEmitter(),this._dataSource._attachEmitter(this._plugin),this._plugin.emitEvent({source:"ds",kind:"onDataSource",prev:e,curr:t}),this._extApi.contextApi.clear(),t&&(ic()&&t.onError.pipe(N_(this,t)).subscribe(console.error.bind(console)),t.onSourceChanging.pipe(N_(this,t)).subscribe(()=>{this.config.get("table").clearContextOnSourceChanging&&this._extApi.contextApi.clear()}),t.onRenderDataChanging.pipe(mf(({event:t})=>!t.isInitial&&(t.pagination.changed||t.sort.changed||t.filter.changed)),Tf(()=>!this._store.primary&&this._extApi.contextApi.clear()),Df(()=>t.onRenderedDataChanged.pipe(vf(1),Bg(this.ds.renderLength))),Mg(kg),N_(this,t)).subscribe(t=>{t===this.ds.renderLength?this.rowsApi.syncRows(!0):(this.rowsApi.syncRows("header",!0),this.rowsApi.syncRows("footer",!0))}),t.onRenderedDataChanged.pipe(D(()=>this.ds.renderLength),Sf(null),rm(),Tf(([t,e])=>{const i=!!this._extApi.logicaps.noData.viewActive;(e>0&&i||0===e&&!i)&&this._extApi.logicaps.noData()}),Mg(Ig),N_(this,t)).subscribe(()=>{const t=this.viewport.element;if(this.ds.renderLength>0&&this._minDataViewHeight){let e;e=this._minDataViewHeight>0?Math.min(this._minDataViewHeight,this.viewport.measureRenderedContentSize()):this.findInitialRowHeight()*Math.min(this.ds.renderLength,-1*this._minDataViewHeight),t.style.minHeight=e+"px",this.viewport.enabled||this.rowsApi.syncRows(!0)}}))}}invalidateColumns(){this._plugin.emitEvent({source:"grid",kind:"beforeInvalidateHeaders"}),this._extApi.contextApi.clear(),this._store.invalidate(this.columns),this._store.attachCustomCellTemplates(),this._store.attachCustomHeaderCellTemplates(),this._cdkTable.clearHeaderRowDefs(),this._cdkTable.clearFooterRowDefs(),this.cdr.detectChanges(),this.resetHeaderRowDefs(),this.resetFooterRowDefs(),this.cdr.markForCheck(),this._plugin.emitEvent({source:"grid",kind:"onInvalidateHeaders"})}createView(t,e,i,n){const s=this.getInternalVcRef(t).createEmbeddedView(e,i,n);return s.detectChanges(),s}removeView(t,e){const i=this.getInternalVcRef(e),n=i.indexOf(t);return-1!==n&&(i.remove(n),!0)}autoSizeColumnToFit(t){const{innerWidth:e,outerWidth:i}=this.viewport;this.columnApi.autoSizeToFit(i-(i-e),t)}findInitialRowHeight(){let t;const e=this.rowsApi.findDataRowByIndex(0);if(e){const t=getComputedStyle(e.element).height;return parseInt(t,10)}if(this._vcRefBeforeContent){t=this._vcRefBeforeContent.length>0?this._vcRefBeforeContent.get(0).rootNodes[0]:this._vcRefBeforeContent.element.nativeElement,t=t.previousElementSibling,t.style.display="";const e=getComputedStyle(t).height;return t.style.display="none",parseInt(e,10)}}addClass(...t){for(const e of t)this.elRef.nativeElement.classList.add(e)}removeClass(...t){for(const e of t)this.elRef.nativeElement.classList.remove(e)}getInternalVcRef(t){return"beforeTable"===t?this._vcRefBeforeTable:"beforeContent"===t?this._vcRefBeforeContent:this._vcRefAfterContent}resetHeaderRowDefs(){if(this._headerRowDefs){this._cdkTable.clearHeaderRowDefs();const t=this._headerRowDefs.toArray();t.push(t.shift());for(const e of t)this._cdkTable.addHeaderRowDef(e)}}resetFooterRowDefs(){if(this._footerRowDefs){this._cdkTable.clearFooterRowDefs();for(const t of this._footerRowDefs.toArray())this._cdkTable.addFooterRowDef(t)}}}return t.\u0275fac=function(e){return new(e||t)(Vr(vr),Vr(Ol),Vr(Ko),Vr(ja),Vr(bl),Vr(aw),Vr(Gv),zi("id"),Vr(ym,8))},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid"]],viewQuery:function(t,e){if(1&t&&(fa(py,7,Ol),fa(fy,7,Ol),fa(gy,7,Ol),fa(my,7,Dl),fa(_y,7,Dl),fa(wy,7,Dl),fa(Tw,7),fa(Rw,5),fa(Ew,5)),2&t){let t;pa(t=ma())&&(e._vcRefBeforeTable=t.first),pa(t=ma())&&(e._vcRefBeforeContent=t.first),pa(t=ma())&&(e._vcRefAfterContent=t.first),pa(t=ma())&&(e._fbTableCell=t.first),pa(t=ma())&&(e._fbHeaderCell=t.first),pa(t=ma())&&(e._fbFooterCell=t.first),pa(t=ma())&&(e._tableRowDef=t.first),pa(t=ma())&&(e._headerRowDefs=t),pa(t=ma())&&(e._footerRowDefs=t)}},inputs:{rowClassUpdateFreq:"rowClassUpdateFreq",showHeader:"showHeader",showFooter:"showFooter",noFiller:"noFiller",dataSource:"dataSource",usePagination:"usePagination",noCachePaginator:"noCachePaginator",minDataViewHeight:"minDataViewHeight",fallbackMinHeight:"fallbackMinHeight",focusMode:"focusMode",columns:"columns",rowClassUpdate:"rowClassUpdate"},features:[jo([{provide:Ev,useExisting:t},Gv,{provide:Lv,useFactory:Tb,deps:[rt(()=>t)]},{provide:Ly,useFactory:Eb,deps:[rt(()=>t)]},{provide:Vy,useFactory:Ib,deps:[rt(()=>t)]}]),ce],ngContentSelectors:Ay,decls:31,vars:16,consts:[["class","pbl-ngrid-header-row-main",3,"row",4,"cdkHeaderRowDef","cdkHeaderRowDefSticky"],["gridWidthRow","","style","visibility: hidden !important;","class","pbl-ngrid-row-visually-hidden",3,"row",4,"cdkHeaderRowDef"],[4,"ngFor","ngForOf"],["footer","",3,"row",4,"cdkFooterRowDef","cdkFooterRowDefSticky"],[1,"pbl-ngrid-container"],["beforeTable",""],["pbl-ngrid-fixed-meta-row-container","header"],[1,"pbl-ngrid-scroll-container",3,"stickyRowHeaderContainer","stickyRowFooterContainer"],["tabindex","-1"],["row","",4,"pblNgridRowDef"],["pbl-ngrid-fixed-meta-row-container","footer"],["beforeContent",""],["role","row","row","",1,"pbl-ngrid-row","cdk-row",2,"display","none"],["afterContent",""],[1,"pbl-ngrid-sticky-row-scroll-container"],["stickyRowHeaderContainer",""],["stickyRowFooterContainer",""],["fbTableCell",""],["fbHeaderCell",""],["fbFooterCell",""],[1,"pbl-ngrid-header-row-main",3,"row"],["gridWidthRow","",1,"pbl-ngrid-row-visually-hidden",2,"visibility","hidden !important",3,"row"],[3,"row",4,"cdkHeaderRowDef","cdkHeaderRowDefSticky"],[3,"row"],["footer","",3,"row"],["row",""]],template:function(t,e){if(1&t&&(eo(),Mr(0,yy,1,1,"pbl-ngrid-column-row",0),Mr(1,vy,1,1,"pbl-ngrid-column-row",1),Mr(2,Sy,2,3,"ng-container",2),Mr(3,xy,1,1,"pbl-ngrid-column-row",3),Mr(4,Dy,2,3,"ng-container",2),zr(5,"div",4),Ur(6,null,5),$r(8,"div",6),zr(9,"pbl-cdk-virtual-scroll-viewport",7),zr(10,"pbl-cdk-table",8),Mr(11,ky,1,0,"pbl-ngrid-row",9),jr(),jr(),$r(12,"div",10),Wr(13,null,11),$r(15,"div",12),Gr(),io(16),Ur(17,null,13),zr(19,"div",14,15),$r(21,"div"),jr(),zr(22,"div",14,16),$r(24,"div"),jr(),jr(),Mr(25,Ey,2,1,"ng-template",null,17,va),Mr(27,Ty,2,1,"ng-template",null,18,va),Mr(29,Iy,2,1,"ng-template",null,19,va)),2&t){const t=Lr(20),i=Lr(23);Hr("cdkHeaderRowDef",ql(13,Cy))("cdkHeaderRowDefSticky","sticky"===(null==e.columnRowDef.header?null:e.columnRowDef.header.type)),hs(1),Hr("cdkHeaderRowDef",ql(14,Cy)),hs(1),Hr("ngForOf",e.metaHeaderRows),hs(1),Hr("cdkFooterRowDef",ql(15,Cy))("cdkFooterRowDefSticky","sticky"===(null==e.columnRowDef.footer?null:e.columnRowDef.footer.type)),hs(1),Hr("ngForOf",e.metaFooterRows),hs(5),Hr("stickyRowHeaderContainer",t)("stickyRowFooterContainer",i),hs(12),co("min-width",e.innerTableMinWidth,"px"),hs(3),co("min-width",e.innerTableMinWidth,"px")}},directives:function(){return[Rw,oh,Ew,Hy,qb,Sb,Uv,zv,jv,Bv]},encapsulation:2,changeDetection:0}),t})();class Ob{constructor(t,e){this.grid=t,this.type=e,this._maxBufferPx=200,this._minBufferPx=100}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=tm(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=tm(t)}get wheelMode(){return this._wheelMode}set wheelMode(t){switch(t){case"passive":case"blocking":this._wheelMode=t;break;default:const e=tm(t);e&&e>=1&&e<=60&&(this._wheelMode=e)}}get scrolledIndexChange(){return this._scrollStrategy.scrolledIndexChange}set scrolledIndexChange(t){this._scrollStrategy.scrolledIndexChange=t}attachExtApi(t){this._scrollStrategy.attachExtApi(t)}attach(t){this._scrollStrategy.attach(t)}detach(){this._scrollStrategy.detach()}onContentScrolled(){this._scrollStrategy.onContentScrolled()}onDataLengthChanged(){this._scrollStrategy.onDataLengthChanged()}onContentRendered(){this._scrollStrategy.onContentRendered()}onRenderedOffsetChanged(){this._scrollStrategy.onRenderedOffsetChanged()}scrollToIndex(t,e){this._scrollStrategy.scrollToIndex(t,e)}}function Pb(t,e,i){return[{start:t.start,end:e},{start:Math.max(0,t.start-e),end:Math.max(0,t.end-e)},{start:0,end:Math.max(0,t.end-(i+e))}]}function Fb(t,e,i,n){const s="top"===n?-1:1;let r=0;1===s&&(e=e.slice().reverse());for(const o in e)if(i[o]){const i=e[o];i.style[n]=s*(t+s*r)+"px",r+=i.getBoundingClientRect().height,i.style.display=null}}function Nb(t,e){if(!e.getBoundingClientRect)return 0;const i=e.getBoundingClientRect();return"start"===t?i.top:i.bottom}class Mb{constructor(t,e,i){this.viewport=t,this.viewPortEl=e,this.metaRows=i,this.runningHeader=!1,this.runningFooter=!1,this.canMoveHeader=!0,this.canMoveFooter=!0,this.movedFooterRows=[],this.movedHeaderRows=[]}canMove(){return this.canMoveHeader||this.canMoveFooter}isRunning(){return this.runningHeader||this.runningFooter}move(t,e){return this.moveHeader(t,e),this.moveFooter(t,e),this.isRunning()&&!this.canMoveHeader&&!this.canMoveFooter}restore(t){const{header:e,footer:i}=this.metaRows;this.restoreHeader()&&Fb(t,e.rows,e.sticky,"top"),this.restoreFooter()&&Fb(t,i.rows,i.sticky,"bottom")}moveHeader(t,e){if(!this.runningHeader||this.canMoveHeader){this.runningHeader=!0,this.canMoveHeader=!1;const i=[],n=this.metaRows.header;let s;for(let r=0,o=n.rows.length;r<o;r++){const o=n.rows[r];if(n.sticky[r]){const l=o.getBoundingClientRect();if(n.rendered[r]){const i=l.top-e.top-t;if(i>=0||-i<e.height)return void(this.canMoveHeader=!0)}s||(s=l),i.push(r)}}i.length&&(this.viewport.stickyRowHeaderContainer.style.top=s.top+"px",this.cloneAndMoveRow(this.viewport.stickyRowHeaderContainer,n.rows,i,this.movedHeaderRows))}}moveFooter(t,e){if(!this.runningFooter||this.canMoveFooter){this.runningFooter=!0,this.canMoveFooter=!1;const i=[],n=this.metaRows.footer;let s;for(let r=0,o=n.rows.length;r<o;r++){const o=n.rows[r];if(n.sticky[r]){const l=o.getBoundingClientRect();if(n.rendered[r]){const i=l.bottom-e.bottom+t;if(i>=0&&i<e.height)return void(this.canMoveFooter=!0)}s=l,i.push(r)}}i.length&&(this.viewport.stickyRowFooterContainer.style.bottom=`calc(100% - ${s.bottom}px)`,this.cloneAndMoveRow(this.viewport.stickyRowFooterContainer,n.rows,i,this.movedFooterRows))}}restoreHeader(){if(this.runningHeader){const t=this.movedHeaderRows;return this.movedHeaderRows=[],this.restoreRows(t,this.metaRows.header.rows),this.runningHeader=!1,this.canMoveHeader=!0,!0}return!1}restoreFooter(){if(this.runningFooter){const t=this.movedFooterRows;return this.movedFooterRows=[],this.restoreRows(t,this.metaRows.footer.rows),this.runningFooter=!1,this.canMoveFooter=!0,!0}return!1}cloneAndMoveRow(t,e,i,n){const s=t.firstElementChild;t.style.width=this.viewport.innerWidth+"px",s.style.transform=`translateX(-${this.viewPortEl.scrollLeft}px)`;for(const r of i){const t=e[r],i=t.cloneNode();i.style.width="0",t.style.top=t.style.bottom=t.style.position="",t.parentElement.insertBefore(i,t),s.appendChild(t),n.push([t,i,r]),e[r]=i}}restoreRows(t,e){for(const[i,n,s]of t)i.style.position=n.style.position,i.style.zIndex=n.style.zIndex,i.style.top=n.style.top,i.style.bottom=n.style.bottom,n.parentElement.insertBefore(i,n),n.parentElement.removeChild(n),e[s]=i}}function Lb(t,e){return t.index-e.index}class Vb{constructor(t,e){this.ngZone=e,this.destroyed=new S,this.renderedContentOffset=0,this.metaRows=[0,0],this.header={rows:[],sticky:[],rendered:[]},this.footer={rows:[],sticky:[],rendered:[]},this.grid=t.grid,this.cdkTable=t.cdkTable,this.viewport=t.viewport,this.viewChange=this.cdkTable.viewChange,t.events.pipe(pf(this.destroyed)).subscribe(t=>{"onDataSource"===t.kind&&(this.detachView(),this.attachView(t.curr))}),this.attachView(t.grid.ds);const{metaRowService:i}=t.rowsApi;i.sync.pipe(pf(this.destroyed)).subscribe(()=>{const t=i.header.row.concat(i.header.sticky).sort(Lb),e=i.footer.row.concat(i.footer.sticky).sort(Lb);this.header.rows=t.map(t=>t.el),this.header.sticky=t.map(t=>"sticky"===t.rowDef.type),this.footer.rows=e.map(t=>t.el),this.footer.sticky=e.map(t=>"sticky"===t.rowDef.type),Fb(this.renderedContentOffset,this.header.rows,this.header.sticky,"top"),Fb(this.renderedContentOffset,this.footer.rows,this.footer.sticky,"bottom")}),this.viewport.offsetChange.pipe(pf(this.destroyed)).subscribe(t=>{this.renderedContentOffset!==t&&(this.renderedContentOffset=t,Fb(t,this.header.rows,this.header.sticky,"top"),Fb(t,this.footer.rows,this.footer.sticky,"bottom"))}),this.wheelControl=this.initWheelControl()}get headerLength(){return this.header.rows.length}get rowLength(){return this.vcRefs.data.length}get footerLength(){return this.footer.rows.length}get vcRefs(){const t={header:this.cdkTable._headerRowOutlet.viewContainer,data:this.cdkTable._rowOutlet.viewContainer,footer:this.cdkTable._footerRowOutlet.viewContainer};return Object.defineProperty(this,"vcRefs",{value:t,configurable:!0}),t}measureRangeSize(t,e){if(t.start>=t.end)return 0;const i=this._renderedRanges,n=Pb(t,this.metaRows[0],this.ds.length),s=[this.header.sticky,[],this.footer.sticky];return[this.vcRefs.header,this.vcRefs.data,this.vcRefs.footer].reduce((t,e,r)=>t+function(t,e,i,n=[]){if(e.start>=e.end)return 0;if(e.start<i.start||e.end>i.end)return;const s=e.start-i.start,r=e.end-e.start;let o,l;for(let a=0;a<r;a++){const e=t.get(a+s);if(e&&e.rootNodes.length){o=l=e.rootNodes[0];break}}for(let a=r-1;a>-1;a--){const e=t.get(a+s);if(e&&e.rootNodes.length){l=e.rootNodes[e.rootNodes.length-1];break}}return o&&l?Nb("end",l)-Nb("start",o):0}(e,n[r],i[r],s[r]),0)}destroy(){this.detachView(),this.destroyed.next(),this.destroyed.complete()}initWheelControl(){let t=!1,e=0;const i=this.viewport.element,n=new Mb(this.viewport,i,{header:this.header,footer:this.footer});let s;const r=()=>{t||(i.addEventListener("wheel",c,!0),t=!0)},o=()=>{t&&(i.removeEventListener("wheel",c,!0),t=!1)},l=()=>s=this.viewport.measureScrollOffset()/(this.viewport.scrollHeight-this.viewport.getViewportSize()),a=this.viewport.scrolling.pipe(mf(t=>!t)),c=t=>{if(t.deltaY){if(1===s&&t.deltaY>0||0===e&&t.deltaY<0)return;let c=e+t.deltaY;if(c=Math.min(this.viewport.scrollHeight,Math.max(0,c)),c!==e&&(e=c,n.canMove()&&n.move(t.deltaY,i.getBoundingClientRect()))){const t=()=>{n.restore(this.renderedContentOffset),l()};switch(this.viewport.wheelMode){case"passive":o(),this.viewport.scrolling.pipe(Og(150),mf(t=>!t),vf(1)).subscribe(()=>{t(),r()});break;case"blocking":a.pipe(vf(1)).subscribe(t);break;default:const e=this.viewport.wheelMode;let n=!1;this.viewport.scrollFrameRate.pipe(pf(a.pipe(vf(1)))).subscribe({next:t=>{!n&&t<e&&(o(),n=!0)},complete:()=>{sf(Wp(i,"wheel").pipe(Og(50),vf(1)),Jp(51)).subscribe(()=>{t(),n&&r()})}})}}return this.viewport.scrollToOffset(e),t.preventDefault(),t.stopPropagation(),!0}};return l(),this.viewport.scrolling.subscribe(t=>{t||(e=this.viewport.measureScrollOffset())}),{wheelListen:r,wheelUnListen:o,get listening(){return t}}}attachView(t){t&&(this.ds=t,this._renderedRanges=[{start:0,end:0},this.cdkTable.viewChange.value,{start:0,end:0}],this.viewport.renderedRangeStream.pipe(pf(this.destroyed)).subscribe(e=>{if(this.headerLength+this.footerLength===0)return this._renderedRanges=[{start:0,end:0},e,{start:0,end:0}],this.cdkTable.viewChange.next(e);this._renderedRanges=Pb(e,this.metaRows[0],t.length);const[i,n,s]=this._renderedRanges;this.cdkTable.onRenderRows.pipe(vf(1)).subscribe(()=>{if(this.headerLength>0){const t=this.header.rows,e=this.header.rendered,n=this.header.sticky;let s=0;for(const r=this.header.sticky.length-1;s<r;s++)t[s].style.display=(e[s]=s>=i.start)||n[s]?null:"none";(e[s]=s>=i.start)||n[s]?this.grid.showHeader&&t[s]&&t[s].classList.remove("pbl-ngrid-row-visually-hidden"):t[s].classList.add("pbl-ngrid-row-visually-hidden")}if(this.footerLength>0){const t=this.footer.rows,e=this.footer.rendered,i=this.footer.sticky;let n=0;for(const r=this.footer.sticky.length;n<r;n++)t[n].style.display=(e[n]=n<s.end)||i[n]?null:"none"}}),this.cdkTable.viewChange.next(n)}),this.dataStream=t.onRenderDataChanging.pipe(pf(this.destroyed),D(({data:t})=>{const e=this.metaRows=[this.header.rows.length,this.footer.rows.length];return new Array(t.length+e[0]+e[1])})),t.onRenderedDataChanged.pipe(pf(this.destroyed),D(()=>t.length),Sf(0),rm(),mf(([t,e])=>t!==e)).subscribe(([t,e])=>{this.ngZone.onStable.pipe(vf(1)).subscribe(()=>this.viewport.onSourceLengthChange(t,e))}),this.viewport.attach(this))}detachView(){this.ds=void 0,this.viewport.detach()}}class Hb{constructor(t=50){this._totalWeight=0,this._defaultItemSize=t,this._averageItemSize=t}getAverageItemSize(){return this._averageItemSize}addSample(t,e){const i=this._totalWeight+t.end-t.start;if(i){const t=(e+this._averageItemSize*this._totalWeight)/i;t&&(this._averageItemSize=t,this._totalWeight=i)}}reset(){this._averageItemSize=this._defaultItemSize,this._totalWeight=0}}class Bb extends class{constructor(t,e,i=new Hb){this.scrolledIndexChange=new w(()=>{}),this._viewport=null,this._removalFailures=0,this._minBufferPx=t,this._maxBufferPx=e,this._averager=i}attach(t){this._averager.reset(),this._viewport=t,this._renderContentForCurrentOffset()}detach(){this._viewport=null}onContentScrolled(){this._viewport&&this._updateRenderedContentAfterScroll()}onDataLengthChanged(){this._viewport&&(this._renderContentForCurrentOffset(),this._checkRenderedContentSize())}onContentRendered(){this._viewport&&this._checkRenderedContentSize()}onRenderedOffsetChanged(){this._viewport&&this._checkRenderedContentOffset()}scrollToIndex(){}updateBufferSize(t,e){if(e<t)throw"CDK virtual scroll: maxBufferPx must be greater than or equal to minBufferPx";this._minBufferPx=t,this._maxBufferPx=e}_updateRenderedContentAfterScroll(){const t=this._viewport,e=t.measureScrollOffset();let i=e-this._lastScrollOffset,n=Math.abs(i);const s=t.getRenderedRange();let r=0;if(i<0){const t=s.start*this._averager.getAverageItemSize();r=Math.round((t-this._lastRenderedContentOffset)*Math.max(0,Math.min(1,n/(e+n)))),i-=r,n=Math.abs(i)}const o=this._lastScrollOffset-this._lastRenderedContentOffset,l=this._lastRenderedContentOffset+this._lastRenderedContentSize-(this._lastScrollOffset+t.getViewportSize()),a=n+this._minBufferPx-(i<0?o:l);if(a>0)if(n>=t.getViewportSize())this._renderContentForCurrentOffset();else{const e=Math.max(0,Math.ceil((a-this._minBufferPx+this._maxBufferPx)/this._averager.getAverageItemSize())),c=(i<0?l:o)-this._minBufferPx+n,h=Math.floor(c/this._averager.getAverageItemSize()/(this._removalFailures+1)),u=Math.min(s.end-s.start,Math.max(0,h)),d=this._expandRange(s,i<0?e:0,i>0?e:0);let p,f;if(i<0?d.end=Math.max(d.start+1,d.end-u):d.start=Math.min(d.end-1,d.start+u),i<0){let e=t.measureRangeSize({start:d.end,end:s.end});e<=c?(p=this._lastRenderedContentOffset+this._lastRenderedContentSize-e,this._removalFailures=0):(d.end=s.end,p=this._lastRenderedContentOffset+this._lastRenderedContentSize,this._removalFailures++),f="to-end"}else{const e=t.measureRangeSize({start:s.start,end:d.start});e<=c?(p=this._lastRenderedContentOffset+e,this._removalFailures=0):(d.start=s.start,p=this._lastRenderedContentOffset,this._removalFailures++),f="to-start"}t.setRenderedRange(d),t.setRenderedContentOffset(p+r,f)}else r&&t.setRenderedContentOffset(this._lastRenderedContentOffset+r);this._lastScrollOffset=e}_checkRenderedContentSize(){const t=this._viewport;this._lastRenderedContentSize=t.measureRenderedContentSize(),this._averager.addSample(t.getRenderedRange(),this._lastRenderedContentSize),this._updateTotalContentSize(this._lastRenderedContentSize)}_checkRenderedContentOffset(){this._lastRenderedContentOffset=this._viewport.getOffsetToRenderedContentStart()}_renderContentForCurrentOffset(){const t=this._viewport,e=t.measureScrollOffset();this._lastScrollOffset=e,this._removalFailures=0;const i=this._averager.getAverageItemSize(),n=Math.min(t.getDataLength()-1,Math.floor(e/i)),s=Math.ceil(this._maxBufferPx/i),r=this._expandRange(this._getVisibleRangeForIndex(n),s,s);t.setRenderedRange(r),t.setRenderedContentOffset(i*r.start)}_getVisibleRangeForIndex(t){const e=this._viewport,i={start:t,end:t+Math.ceil(e.getViewportSize()/this._averager.getAverageItemSize())},n=i.end-e.getDataLength();return n>0&&(i.start=Math.max(0,i.start-n)),i}_expandRange(t,e,i){const n=this._viewport;return{start:Math.max(0,t.start-e),end:Math.min(n.getDataLength(),t.end+i)}}_updateTotalContentSize(t){const e=this._viewport,i=e.getRenderedRange(),n=t+(e.getDataLength()-(i.end-i.start))*this._averager.getAverageItemSize();e.setTotalContentSize(n)}}{constructor(t,e,i=new zb){super(t,e,i),this.averager=i}get type(){return"vScrollAuto"}attachExtApi(t){this.extApi=t}attach(t){super.attach(t)}}class zb extends Hb{addSample(t,e){this.rowInfo&&0===this.rowInfo.rowLength?this.reset():super.addSample(t,e)}setRowInfo(t){this.rowInfo=t}}class jb{constructor(t,e){const i=this.intersectionChanged=new S;!e&&IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(t=>i.next(t),{root:t,rootMargin:"0px",threshold:0}))}get observerMode(){return!!this.intersectionObserver}snapshot(){var t,e;return null!==(e=null===(t=this.intersectionObserver)||void 0===t?void 0:t.takeRecords())&&void 0!==e?e:[]}track(t){var e;null===(e=this.intersectionObserver)||void 0===e||e.observe(t)}untrack(t){var e;null===(e=this.intersectionObserver)||void 0===e||e.unobserve(t)}destroy(){var t;this.intersectionChanged.complete(),null===(t=this.intersectionObserver)||void 0===t||t.disconnect()}}const $b=function(){try{const t=document.createElement("div");t.style.position="absolute",t.style.top="9999999999999999px",document.body.appendChild(t);const e=.85*Math.abs(t.getBoundingClientRect().top);return document.body.removeChild(t),e-e%1e6}catch(t){return 1e7}}();class Wb{constructor(t){this.viewport=t,this.afterToEnd=!1,this.active=!1,this.activeChanged=new S;const e=t.pblScrollStrategy.onContentScrolled;t.pblScrollStrategy.onContentScrolled=()=>{if(this.active){const e=t.element.scrollTop,i=e-this.prevScrollOffset,n=i>0?t.getViewportSize():80;if(Math.abs(i)>n)this.page=Math.floor(e*((this.totalHeight-n)/($b-n))*(1/this.pageHeight)),this.offset=Math.round(this.page*this.coff),this.prevScrollOffset=e;else if(this.prevScrollOffset!==e){if(i>0&&e+this.offset>(this.page+1)*this.pageHeight)return this.page+=1,this.offset+=this.coff,void(t.element.scrollTop=this.prevScrollOffset=Math.floor(e-this.coff));if(i<0&&e+this.offset<this.page*this.pageHeight)return this.page-=1,this.offset-=this.coff,void(t.element.scrollTop=this.prevScrollOffset=Math.floor(e+this.coff));this.prevScrollOffset=e}}e.call(t.pblScrollStrategy)}}transformScrollOffset(t){return t+(this.active?this.offset:0)}transformOffsetToRenderedContentStart(t){return t&&this.active?t+this.offset:t}transformRenderedContentOffset(t,e="to-start"){return this.active&&(this.afterToEnd||(t-=this.offset),this.afterToEnd="to-end"===e),t}transformTotalContentSize(t,e){const i=!!this.active;return t<=$b?this.active=!1:this.totalHeight!==t&&(this.active=!0,this.totalHeight=t,this.pageHeight=$b/100,this.pageCount=Math.ceil(t/this.pageHeight),this.coff=Math.floor((t-$b)/(this.pageCount-1)),this.prevScrollOffset=e,this.offset=this.offset||0,this.page=this.page||0,this.afterToEnd=!!this.afterToEnd,t=$b),i!==this.active&&this.activeChanged.next(),t}shouldTransformTotalContentSize(t){if(t<=$b)this.active=!1;else if(this.totalHeight!==t)return!0;return!1}dispose(){this.activeChanged.complete()}}const Gb=new Wi("When found in the DI tree and resolves to true, disable the use of IntersectionObserver"),Ub=()=>new Bb(100,200);let qb=(()=>{class t extends Em{constructor(t,e,i,n,s,r,o,l,a,c){super(t,e,i,s=function(t,e,i){if(!e&&t.has("virtualScroll")){const i=t.get("virtualScroll");"function"==typeof i.defaultStrategy&&(e=i.defaultStrategy())}return e||i()}(n,s,Ub),r,o,l),this.cdr=e,this.pblScrollStrategy=s,this.extApi=a,this.scrolling=new ea,this.scrollFrameRate=new ea,this.scrollHeight=0,this.ngeRenderedContentSize=0,this.offsetChange$=new S,this.offset=0,this._isScrolling=!1,this.element=t.nativeElement,this.grid=a.grid,n.has("virtualScroll")&&(this.wheelModeDefault=n.get("virtualScroll").wheelMode),n.onUpdate("virtualScroll").pipe(N_(this)).subscribe(t=>this.wheelModeDefault=t.curr.wheelMode),this.enabled=s.type&&"vScrollNone"!==s.type,a.setViewport(this),this.offsetChange=this.offsetChange$.asObservable(),this._minWidth$=this.grid.columnApi.totalColumnWidthChange,this.intersection=new jb(this.element,!!c)}get isScrolling(){return this._isScrolling}get wheelMode(){return this.pblScrollStrategy.wheelMode||this.wheelModeDefault||"passive"}get getBoundingClientRects(){if(!this._boundingClientRects){const t=this._innerBoxHelper.nativeElement.getBoundingClientRect(),e=this.element.getBoundingClientRect();this._boundingClientRects={clientRect:e,innerWidth:t.width,innerHeight:t.height,scrollBarWidth:e.width-t.width,scrollBarHeight:e.height-t.height};const i=()=>this._boundingClientRects=void 0;this._isScrolling?this.scrolling.pipe(mf(t=>0===t),vf(1)).subscribe(i):requestAnimationFrame(i)}return this._boundingClientRects}get innerWidth(){return this.getBoundingClientRects.innerWidth}get outerWidth(){return this.getBoundingClientRects.clientRect.width}get innerHeight(){return this.getBoundingClientRects.innerWidth}get outerHeight(){return this.getBoundingClientRects.clientRect.height}get scrollWidth(){return this.element.scrollWidth}get virtualPagingActive(){var t,e;return null!==(e=null===(t=this.heightPaging)||void 0===t?void 0:t.active)&&void 0!==e&&e}ngOnInit(){this.pblScrollStrategy.attachExtApi(this.extApi),this.enabled&&(this.heightPaging=new Wb(this)),super.ngOnInit(),this.ngZone.runOutsideAngular(()=>this.elementScrolled().subscribe(function(t){let e=0,i=t.measureScrollOffset();return()=>{if(0===e){const n=499,s=[performance.now(),0,0,0],r=t.measureScrollOffset();if(i===r)return;t.scrolling.next(i<r?1:-1);const o=()=>{const r=-s[0]+(s[0]=performance.now());r>5&&(s[1]+=r,s[2]+=1),-1===e?(e=0,i=t.measureScrollOffset(),t.scrolling.next(0)):(s[1]>n&&(s[3]+=s[1],s[1]=0,t.scrollFrameRate.emit(1e3/(s[3]/s[2]))),e=1===e?-1:1,requestAnimationFrame(o))};requestAnimationFrame(o)}e++}}(this)))}ngAfterViewInit(){const{grid:t}=this;this.enabled&&(this.forOf=new Vb(this.extApi,this.ngZone),this.heightPaging.active||this.forOf.wheelControl.wheelListen(),this.heightPaging.activeChanged.subscribe(()=>{this.heightPaging.active?this.forOf.wheelControl.wheelUnListen():this.forOf.wheelControl.wheelListen()})),this.scrolling.pipe(N_(this)).subscribe(e=>{this._isScrolling=!!e,e?t.addClass("pbl-ngrid-scrolling"):t.removeClass("pbl-ngrid-scrolling")})}ngOnDestroy(){var t;this.intersection.destroy(),null===(t=this.heightPaging)||void 0===t||t.dispose(),super.ngOnDestroy(),this.detachViewPort(),this.offsetChange$.complete(),N_.kill(this)}reMeasureCurrentRenderedContent(){this.pblScrollStrategy.onContentRendered()}measureScrollOffset(t){const e=super.measureScrollOffset(t);return t&&"top"!==t||!this.heightPaging?e:this.heightPaging.transformScrollOffset(e)}getOffsetToRenderedContentStart(){var t,e;const i=super.getOffsetToRenderedContentStart();return null!==(e=null===(t=this.heightPaging)||void 0===t?void 0:t.transformOffsetToRenderedContentStart(i))&&void 0!==e?e:i}setRenderedContentOffset(t,e="to-start"){var i;(null===(i=this.heightPaging)||void 0===i?void 0:i.active)&&(t=this.heightPaging.transformRenderedContentOffset(t,e)),super.setRenderedContentOffset(t,e),this.enabled&&this.offset!==t&&(this.offset=t,this.isCDPending||(this.isCDPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this.isCDPending=!1,this.offsetChange$.next(this.offset)}))))}setTotalContentSize(t){var e;(null===(e=this.heightPaging)||void 0===e?void 0:e.shouldTransformTotalContentSize(t))&&(t=this.heightPaging.transformTotalContentSize(t,super.measureScrollOffset())),super.setTotalContentSize(t),requestAnimationFrame(()=>{this.scrollHeight=this.element.scrollHeight,this.updateFiller(),this.cdr.markForCheck()})}measureRenderedContentSize(){let t=super.measureRenderedContentSize();return"vertical"===this.orientation&&(t-=this.stickyRowHeaderContainer.offsetHeight+this.stickyRowFooterContainer.offsetHeight,this.enabled||(t+=this.outerHeight-this.innerHeight)),this.ngeRenderedContentSize=t}checkViewportSize(){const t=this.getViewportSize();super.checkViewportSize(),t!==this.getViewportSize()&&this.updateFiller()}detachViewPort(){this.forOf&&(this.forOf.destroy(),this.forOf=void 0)}_scrollIntoView(t){const e=this.element,i=t.getBoundingClientRect(),n=this.getBoundingClientRects.clientRect;if(i.top<n.top){const t=i.top-n.top;this.scrollToOffset(this.measureScrollOffset()+t)}else if(i.bottom>n.bottom){const t=i.bottom-(n.bottom-this.getScrollBarThickness("horizontal"));this.scrollToOffset(this.measureScrollOffset()+t)}if(i.left<n.left)e.scroll(e.scrollLeft+(i.left-n.left),e.scrollTop);else if(i.right>n.right){const t=i.right-(n.right-this.getScrollBarThickness("vertical"));e.scroll(e.scrollLeft+t,e.scrollTop)}}onSourceLengthChange(t,e){this.checkViewportSize(),this.updateFiller()}attach(t){super.attach(t);const e=this.pblScrollStrategy instanceof Ob?this.pblScrollStrategy._scrollStrategy:this.pblScrollStrategy;e instanceof Bb&&e.averager.setRowInfo(t)}setRenderedRange(t){super.setRenderedRange(t)}getScrollBarThickness(t){switch(t){case"horizontal":return this.outerHeight-this.innerHeight;case"vertical":return this.outerWidth-this.innerWidth}}updateFiller(){this.measureRenderedContentSize(),this.pblFillerHeight=this.grid.noFiller?void 0:this.getViewportSize()>=this.ngeRenderedContentSize?`calc(100% - ${this.ngeRenderedContentSize}px)`:void 0}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(bl),Vr(ja),Vr(aw),Vr(Sm,8),Vr(ym,8),Vr(xm),Vr(Dm),Vr(Ly),Vr(Gb,8))},t.\u0275cmp=$t({type:t,selectors:[["pbl-cdk-virtual-scroll-viewport"]],viewQuery:function(t,e){if(1&t&&fa(Oy,7),2&t){let t;pa(t=ma())&&(e._innerBoxHelper=t.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:6,hostBindings:function(t,e){2&t&&ho("cdk-virtual-scroll-disabled",!e.enabled)("cdk-virtual-scroll-orientation-horizontal","horizontal"===e.orientation)("cdk-virtual-scroll-orientation-vertical","vertical"===e.orientation)},inputs:{stickyRowHeaderContainer:"stickyRowHeaderContainer",stickyRowFooterContainer:"stickyRowFooterContainer"},outputs:{scrolling:"scrolling",scrollFrameRate:"scrollFrameRate"},features:[Cr],ngContentSelectors:My,decls:9,vars:8,consts:[[1,"cdk-virtual-scroll-inner-width"],["innerBoxHelper",""],[2,"width","100%"],["contentWrapper",""],["class","cdk-virtual-scroll-spacer",3,"width","height",4,"ngIf"],["class","pbl-ngrid-space-fill",3,"minWidth","top","height",4,"ngIf"],[1,"cdk-virtual-scroll-spacer"],[1,"pbl-ngrid-space-fill"]],template:function(t,e){1&t&&(eo(Ny),$r(0,"p",0,1),io(2),zr(3,"div",2,3),Kl(5,"async"),io(6,1),jr(),Mr(7,Py,1,4,"div",4),Mr(8,Fy,2,8,"div",5)),2&t&&(hs(3),co("min-width",Ql(5,6,e._minWidth$),"px"),ho("cdk-virtual-scroll-content-wrapper",e.enabled),hs(4),Hr("ngIf",e.enabled),hs(1),Hr("ngIf",e.pblFillerHeight&&e.enabled))},directives:[ah],pipes:[wh],styles:["pbl-cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}pbl-cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] pbl-cdk-virtual-scroll-viewport .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-inner-width{width:100%;height:100%;position:absolute;margin:0!important;padding:0!important}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}.pbl-ngrid-space-fill{position:absolute;left:0;width:100%}"],encapsulation:2,changeDetection:0}),t})();class Zb extends class{constructor(t,e,i){this._scrolledIndexChange=new S,this.scrolledIndexChange=this._scrolledIndexChange.pipe(t=>t.lift(new xf(undefined,undefined))),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),n=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),r=s/this._itemSize;if(e.end>n){const t=Math.ceil(i/this._itemSize),o=Math.max(0,Math.min(r,n-t));r!=o&&(r=o,s=o*this._itemSize,e.start=Math.floor(r)),e.end=Math.max(0,Math.min(n,e.start+t))}const o=s-e.start*this._itemSize;if(o<this._minBufferPx&&0!=e.start){const t=Math.ceil((this._maxBufferPx-o)/this._itemSize);e.start=Math.max(0,e.start-t),e.end=Math.min(n,Math.ceil(r+(i+this._minBufferPx)/this._itemSize))}else{const t=e.end*this._itemSize-(s+i);if(t<this._minBufferPx&&e.end!=n){const i=Math.ceil((this._maxBufferPx-t)/this._itemSize);i>0&&(e.end=Math.min(n,e.end+i),e.start=Math.max(0,Math.floor(r-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(r))}}{constructor(t,e,i){super(t,e,i),this.itemSize=t}get type(){return"vScrollFixed"}attachExtApi(t){this.extApi=t}attach(t){super.attach(this.viewport=t)}onContentScrolled(){if(!this.viewport)return;let{start:t,end:e}=this.viewport.getRenderedRange();const i=e-t,n=this.viewport.getDataLength();i<0&&n<-i?(t=n-e,this.viewport.setRenderedRange({start:t,end:e}),this.viewport.setRenderedContentOffset(this.itemSize*t)):super.onContentScrolled()}}let Kb=(()=>{class t extends Ob{constructor(t){super(t,"vScrollFixed")}get vScrollFixed(){return this._vScrollFixed}set vScrollFixed(t){this._vScrollFixed=tm(t)}ngOnInit(){this._vScrollFixed||(this.vScrollFixed=this.grid.findInitialRowHeight()||48),this._scrollStrategy=new Zb(this._vScrollFixed,this._minBufferPx,this._maxBufferPx)}ngOnChanges(){var t;null===(t=this._scrollStrategy)||void 0===t||t.updateItemAndBufferSize(this._vScrollFixed,this._minBufferPx,this._maxBufferPx)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","vScrollFixed",""]],inputs:{minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",wheelMode:"wheelMode",vScrollFixed:"vScrollFixed"},features:[jo([{provide:Sm,useExisting:t}]),Cr,ce]}),t})();const Qb=[{provide:$v,useFactory:function(t){return{data:t.resolveComponentFactory(fb),header:t.resolveComponentFactory(db),footer:t.resolveComponentFactory(gb),"meta-header":t.resolveComponentFactory(mb),"meta-footer":t.resolveComponentFactory(mb)}},deps:[Go]},Wv],Yb=new Wi("COMMON TABLE TEMPLATE INIT");function Jb(t){return[{provide:Yb,multi:!0,useValue:t}]}let Xb=(()=>{class t{constructor(e,i,n){if(n)for(const s of n)for(const n of s)n.root&&(i=i.getRoot()),t.loadCommonTemplates(e,n.component,{registry:i,destroy:!0})}static forRoot(e,i){return{ngModule:t,providers:[{provide:lw,useValue:e},aw,Jb(i)]}}static withCommon(e){return{ngModule:t,providers:Jb(e)}}static loadCommonTemplates(t,e,i){let{injector:n}=t;const{registry:s,destroy:r}=i||{};s&&(n=vr.create({providers:[{provide:Gv,useValue:s}],parent:t.injector}));const o=t.componentFactoryResolver.resolveComponentFactory(e).create(n);return o.changeDetectorRef.detectChanges(),r&&t.onDestroy(()=>{try{o.destroy()}catch(t){}}),o}}return t.\u0275fac=function(e){return new(e||t)(ln(Il),ln(Gv),ln(Yb,10))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({providers:[...Qb],imports:[[xh,Im,ey,$w]]}),t})();const tC=["*"];function eC(t,e){1&t&&$r(0,"pbl-ngrid-drag-resize",2),2&t&&Hr("context",e.$implicit)}function iC(t,e){1&t&&$r(0,"span",3),2&t&&Hr("pblNgridColumnDrag",e.$implicit.col)}class nC extends r_{constructor(){super(...arguments),this.beforeExit=new S}withElement(t){return this.element=em(t),this.withScrollableParents([this.element]),this}dispose(){this.beforeExit.complete(),super.dispose()}}class sC extends Qm{constructor(...t){super(...t),this.rootElementChanged=new ea,this.exited.subscribe(t=>{const{container:e}=t;e instanceof nC&&e.beforeExit.next({item:this})})}withRootElement(t){if(this.rootElementChanged){const e=em(t);this.getRootElement()!==e&&this.rootElementChanged.next({prev:this.getRootElement(),curr:e})}return super.withRootElement(t)}dispose(){this.rootElementChanged.complete(),super.dispose()}}const rC={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let oC=(()=>{class t{constructor(t,e,i,n){this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(t,e=rC){return new sC(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new nC(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(ln(gc),ln(ja),ln(Dm),ln(d_))},t.\u0275prov=dt({factory:function(){return new t(ln(gc),ln(ja),ln(Dm),ln(d_))},token:t,providedIn:"root"}),t})(),lC=(()=>{class t extends b_{constructor(t,e,i,n,s,r,o,l){super(e,i,n,s,r,o,l),this.pblDropListRef instanceof nC&&(this.originalElement=e,t&&this.updateGrid(t),this.initDropListRef())}get pblDropListRef(){return this._dropListRef}get grid(){var t;return null===(t=this._gridApi)||void 0===t?void 0:t.grid}set grid(t){this.updateGrid(t)}get dir(){var t;return null===(t=this._gridApi)||void 0===t?void 0:t.getDirection()}get gridApi(){return this._gridApi}ngOnInit(){this._dropListRef.beforeStarted.subscribe(()=>this.beforeStarted())}addDrag(t){this.addItem(t)}removeDrag(t){this.removeItem(t)}initDropListRef(){}beforeStarted(){if(this.directContainerElement){const t=this.originalElement.nativeElement.querySelector(this.directContainerElement);this.element=new Ko(t)}else this.element=this.originalElement;this.pblDropListRef.withElement(this.element),this.dir&&this.pblDropListRef.withDirection(this.dir)}gridChanged(t){}updateGrid(t){if(t!==this.grid){const e=this._gridApi;this._gridApi=t?Lv.find(t).extApi:void 0,this.gridChanged(e)}}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab,8),Vr(Ko),Vr(f_),Vr(bl),Vr(xm),Vr(ym,8),Vr(m_,12),Vr(w_,8))},t.\u0275dir=Kt({type:t,selectors:[["","cdkLazyDropList",""]],hostAttrs:[1,"cdk-drop-list"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("id",e.id),ho("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{directContainerElement:["cdkDropListDirectContainerElement","directContainerElement"]},exportAs:["cdkLazyDropList"],features:[jo([{provide:f_,useExisting:oC},{provide:v_,useClass:t}]),Cr]}),t})(),aC=(()=>{class t extends R_{constructor(){super(...arguments),this._hostNotRoot=!1}set rootElementSelectorClass(t){t!==this._rootClass&&this._hostNotRoot&&(this._rootClass&&this.getRootElement().classList.remove(...this._rootClass.split(" ")),t&&this.getRootElement().classList.add(...t.split(" "))),this._rootClass=t}get pblDragRef(){return this._dragRef}get cdkDropList(){return this.dropContainer}set cdkDropList(t){const e=this.cdkDropList;t!==e&&(e&&e.removeDrag(this),this.dropContainer=t,t&&(this._dragRef._withDropContainer(t.pblDropListRef),this._dragRef.beforeStarted.subscribe(()=>{t.dir&&this._dragRef.withDirection(t.dir)}),t.addDrag(this)),this.dropContainerChanged(e))}ngOnInit(){this.pblDragRef instanceof sC&&this.pblDragRef.rootElementChanged.subscribe(t=>{const e=this._rootClass,i=this.element.nativeElement!==t.curr;e&&(this._hostNotRoot&&t.prev.classList.remove(...e.split(" ")),i&&t.curr.classList.add(...e.split(" "))),this._hostNotRoot=i})}ngAfterViewInit(){this.started.subscribe(t=>{if(this.dropContainer){const t=this.getRootElement(),e=t.parentNode;t.nextSibling||e===this.dropContainer.element.nativeElement||this.ended.pipe(vf(1)).subscribe(i=>e.appendChild(t))}}),super.ngAfterViewInit()}ngOnDestroy(){var t;null===(t=this.cdkDropList)||void 0===t||t.removeDrag(this),super.ngOnDestroy()}dropContainerChanged(t){}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["","cdkLazyDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:2,hostBindings:function(t,e){2&t&&ho("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{rootElementSelectorClass:["cdkDragRootElementClass","rootElementSelectorClass"],cdkDropList:"cdkDropList"},exportAs:["cdkLazyDrag"],features:[jo([{provide:f_,useExisting:oC}]),Cr]}),t})();class cC extends((()=>nC)()){constructor(){super(...arguments),this.scrollDif=0}_getItemIndexFromPointerPosition(t,e,i,n){return super._getItemIndexFromPointerPosition(t,e,i-this.scrollDif,n)}start(){if(super.start(),this.scrollDif=0,this.gridApi.grid.viewport.enabled){const t=this.gridApi.grid.viewport.measureScrollOffset();this.gridApi.grid.viewport.elementScrolled().pipe(pf(this.dropped)).subscribe(()=>{this.scrollDif=this.gridApi.grid.viewport.measureScrollOffset()-t})}}}const hC="rowReorder";let uC=0,dC=(()=>{class t extends lC{constructor(){super(...arguments),this.id="pbl-ngrid-row-reorder-list-"+uC++,this._rowReorder=!1}get rowReorder(){return this._rowReorder}set rowReorder(t){t=Xg(t),this._rowReorder=t}ngOnDestroy(){super.ngOnDestroy(),this._removePlugin(this.grid)}getSortedItems(){const{rowsApi:t}=this.gridApi;return super.getSortedItems().filter(e=>{var i;return null===(i=t.findRowByElement(e.getRootElement()))||void 0===i?void 0:i.attached})}initDropListRef(){!function(t,e){try{Object.setPrototypeOf(t,cC.prototype)}catch(i){t._getItemIndexFromPointerPosition=cC.prototype._getItemIndexFromPointerPosition,t.start=cC.prototype.start}t.gridApi=e}(this.pblDropListRef,this.gridApi)}gridChanged(){this._removePlugin=this.gridApi.pluginCtrl.setPlugin(hC,this),this.directContainerElement=".pbl-ngrid-scroll-container",this.dropped.subscribe(t=>{const e=this.grid.ds.source.indexOf(t.item.draggedContext.row);this.grid.ds.moveItem(e,t.currentIndex+this.grid.ds.renderStart,!0),this.grid.rowsApi.syncRows("data")})}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","rowReorder",""]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(Ro("id",e.id),ho("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving())("pbl-row-reorder",e.rowReorder&&!(null!=e.grid.ds&&null!=e.grid.ds.sort.sort&&e.grid.ds.sort.sort.order)&&!(null!=e.grid.ds&&null!=e.grid.ds.filter&&e.grid.ds.filter.filter)))},inputs:{rowReorder:"rowReorder"},exportAs:["pblNgridRowReorder"],features:[jo([{provide:f_,useExisting:oC},{provide:__,useValue:void 0},{provide:v_,useExisting:t}]),Cr]}),t})();class pC extends nC{_sortPredicate(t,e,i){const n=this.data.getSortedItems().map(t=>t._dragRef),s=n[t];if(s.data.column.wontBudge)return!1;const r=this.lastSwap?this.lastSwap:e,o=n.findIndex(t=>t===r),l=Math.min(t,o),a=n.slice(l,Math.abs(t-o)+l);for(const c of a)if(c.data.column.wontBudge&&c!==e)return!1;return!!e.data.column.checkGroupLockConstraint(s.data.column)&&(this.lastSwap=s,!0)}_sortItem(t,e,i,n){const s=this.lastSwap;this.sortPredicate=(t,e)=>this._sortPredicate(t,e,this),super._sortItem(t,e,i,n),this.lastSwap&&this.lastSwap!==s&&"horizontal"===this.data.orientation&&this.data.getSortedItems().map(t=>t._dragRef).forEach((t,e)=>{const i=t.getVisibleElement().style.transform;for(const n of t.data.getCells())n.style.transform=i})}}const fC="columnDrag";let gC=0,mC=(()=>{class t extends lC{constructor(){super(...arguments),this.id="pbl-ngrid-column-drag-container-list-"+gC++,this.orientation="horizontal",this._columnDrag=!1,this.connections=new Set}get columnDrag(){return this._columnDrag}set columnDrag(t){this._columnDrag=Xg(t)}hasConnections(){return this.connections.size>0}canDrag(t){return this.connections.size>0}connectTo(t){this.connections.has(t)||(this.connections.add(t),this.connectedTo=Array.from(this.connections),this.connectionsChanged.next())}disconnectFrom(t){this.connections.delete(t)&&(this.connectedTo=Array.from(this.connections),this.connectionsChanged.next())}ngOnDestroy(){super.ngOnDestroy(),this.connectionsChanged.complete(),this.dragging.complete(),this._removePlugin(this.grid)}initDropListRef(){!function(t){try{Object.setPrototypeOf(t,pC.prototype)}catch(e){t._sortPredicate=pC.prototype._sortPredicate,t._sortItem=pC.prototype._sortItem}}(this.pblDropListRef)}beforeStarted(){super.beforeStarted(),this.dragging.next(!0)}gridChanged(){this.dragging=new lf(!1),this.connectionsChanged=new S,this._removePlugin=this.gridApi.pluginCtrl.setPlugin(fC,this),this.directContainerElement=".pbl-ngrid-header-row-main",this.dragging.subscribe(t=>{const e=this.originalElement.nativeElement;t?e.classList.add("pbl-ngrid-column-list-dragging"):e.classList.remove("pbl-ngrid-column-list-dragging")}),this.sortingDisabled=!0}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","columnDrag","",3,"columnReorder",""]],hostAttrs:[1,"cdk-drop-list"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("id",e.id),ho("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{columnDrag:"columnDrag"},outputs:{dragging:"cdkDropDragging",connectionsChanged:"cdkDropConnectionsChanged"},exportAs:["pblNgridColumnDragContainer"],features:[jo([{provide:f_,useExisting:oC},{provide:v_,useExisting:t}]),Cr]}),t})(),_C=(()=>{class t extends aC{constructor(){super(...arguments),this.rootElementSelector="pbl-ngrid-header-cell"}get column(){return this._column}set column(t){t!==this._column&&(this._column=t,this.updateDisabledState())}ngAfterViewInit(){this.cdkDropList||(this.cdkDropList=Lv.findPlugin(this.column.columnDef.grid,fC)),super.ngAfterViewInit(),this._dragRef.beforeStarted.subscribe(()=>{const{cdkDropList:t}=this;if((null==t?void 0:t.canDrag(this.column))&&t._dropListRef.isDragging())return this.disabled=!0}),this.started.subscribe(()=>{this._column.columnDef&&(this.column.columnDef.isDragging=!0)}),this.ended.subscribe(()=>{this._column.columnDef&&(this.column.columnDef.isDragging=!1)})}ngOnDestroy(){N_.kill(this),super.ngOnDestroy()}getCells(){return this.cache||(this.cache=this.column.columnDef.queryCellElements("table")),this.cache}reset(){if(super.reset(),this.cache){for(const t of this.cache)t.style.transform="";this.cache=void 0}}dropContainerChanged(t){t&&N_.kill(this,t),this.updateDisabledState(),this.updateBoundaryElement(),this.cdkDropList&&this.cdkDropList.connectionsChanged.pipe(N_(this,this.cdkDropList)).subscribe(()=>this.updateBoundaryElement())}updateDisabledState(){this.disabled=!this.column||!this.cdkDropList||!this.cdkDropList.canDrag(this.column)}updateBoundaryElement(){var t;this.boundaryElement=(null===(t=this.cdkDropList)||void 0===t?void 0:t.hasConnections())?void 0:this.cdkDropList.directContainerElement}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["","pblNgridColumnDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:2,hostBindings:function(t,e){2&t&&ho("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{column:["pblNgridColumnDrag","column"]},exportAs:["pblNgridColumnDrag"],features:[jo([{provide:f_,useExisting:oC},{provide:g_,useExisting:t}]),Cr]}),t})(),wC=(()=>{class t extends mC{constructor(){super(...arguments),this._columnReorder=!1,this._manualOverride=!1}get columnReorder(){return this._columnReorder}set columnReorder(t){this._columnReorder=Xg(t),this.sortingDisabled=!this._columnReorder}get manualOverride(){return this._manualOverride}set manualOverride(t){this._manualOverride=Xg(t)}canDrag(t){return this._columnReorder&&t.reorder||super.canDrag(t)}ngOnInit(){super.ngOnInit(),this.dropped.subscribe(t=>this._pblReset()),this.pblDropListRef.beforeExit.subscribe(t=>this._pblReset())}gridChanged(){super.gridChanged(),this.dropped.subscribe(t=>{!this.manualOverride&&this._columnReorder&&this.grid.columnApi.moveColumn(t.item.column,t.currentIndex)})}_pblReset(){this.dragging.next(!1),this.getSortedItems().map(t=>t._dragRef).forEach((t,e)=>{for(const i of t.data.getCells())i.style.transform=""})}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","columnReorder",""]],hostAttrs:[1,"cdk-drop-list"],hostVars:5,hostBindings:function(t,e){2&t&&(Ro("id",e.id),ho("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{columnReorder:"columnReorder",manualOverride:"manualOverride"},exportAs:["pblNgridColumnReorder"],features:[jo([{provide:f_,useExisting:oC},{provide:v_,useExisting:t}]),Cr]}),t})();const yC=gm({passive:!0}),vC=gm({passive:!1});let bC=(()=>{class t{constructor(t,e,i,n,s){this.element=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n,this._config=s,this.grabAreaWidth=6,this._pointerMoveSubscription=u.EMPTY,this._pointerUpSubscription=u.EMPTY,this._rootElementInitSubscription=u.EMPTY,this._pointerDown=t=>{this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{const e=this._getPointerPositionOnPage(t),i=e.x-this._pickupPositionOnPage.x,n=e.y-this._pickupPositionOnPage.y;if(!this._hasStartedDragging)return void(Math.abs(i)+Math.abs(n)>=this._config.dragStartThreshold&&(this._hasStartedDragging=!0,this.column.sizeInfo.updateSize(),this._lastWidth=this._initialWidth=this.column.columnDef.netWidth));this._hasMoved=!0,t.preventDefault(),t.stopPropagation();const s="rtl"===this._extApi.getDirection()?-1:1;let r=Math.max(0,this._initialWidth+i*s);r>this.column.maxWidth?r=this.column.maxWidth:i<0&&r<this.column.minWidth&&(r=this.column.minWidth),this._lastWidth!==r&&(this._lastWidth=r,this.column.updateWidth(`${r}px`),this._extApi.widthCalc.resetColumnsWidth())},this._pointerUp=()=>{this.isDragging()&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._hasStartedDragging&&this.grid.columnApi.resizeColumn(this.column,this._lastWidth+"px"))},this._config={dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex},n.registerDragItem(this)}set context(t){if(t){const{col:e,grid:i}=t;if(iv(e))return this.column=e,this.grid=i,void(this._extApi=Lv.find(i).extApi)}this.column=this._extApi=this.grid=void 0}ngAfterViewInit(){this._rootElementInitSubscription=this._ngZone.onStable.asObservable().pipe(vf(1)).subscribe(()=>{const t=this._rootElement=this._getRootElement();t.parentElement.classList.add("pbl-ngrid-column-resize"),t.addEventListener("mousedown",this._pointerDown,vC),t.addEventListener("touchstart",this._pointerDown,yC),function(t,e){const i="none";!function(t,e){for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}(t.style,{touchAction:"none",webkitUserDrag:"none",webkitTapHighlightColor:"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}(t)})}ngOnDestroy(){this._rootElement&&(this._rootElement.removeEventListener("mousedown",this._pointerDown,vC),this._rootElement.removeEventListener("touchstart",this._pointerDown,yC)),this._rootElementInitSubscription.unsubscribe(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions()}onDoubleClick(t){this.grid.columnApi.autoSizeColumn(this.column)}_initializeDragSequence(t,e){e.stopPropagation(),this.isDragging()||!this._isTouchEvent(e)&&0!==e.button||(this._hasStartedDragging=this._hasMoved=!1,this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.pipe(sm(0,Ig)).subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollPosition=this._viewportRuler.getViewportScrollPosition(),this._pickupPositionOnPage=this._getPointerPositionOnPage(e),this._dragDropRegistry.startDragging(this,e))}_getPointerPositionOnPage(t){const e=this._isTouchEvent(t)?t.touches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_isTouchEvent(t){return t.type.startsWith("touch")}_isDragging(){return this.isDragging()}isDragging(){return this._dragDropRegistry.isDragging(this)}_getRootElement(){return this.element.nativeElement}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ko),Vr(ja),Vr(Dm),Vr(d_),Vr(w_,8))},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-drag-resize"]],hostAttrs:[1,"pbl-ngrid-column-resizer"],hostVars:2,hostBindings:function(t,e){1&t&&Qr("dblclick",function(t){return e.onDoubleClick(t)}),2&t&&co("width",e.grabAreaWidth,"px")},inputs:{grabAreaWidth:"grabAreaWidth",context:"context"},ngContentSelectors:tC,decls:1,vars:0,template:function(t,e){1&t&&(eo(),io(0))},styles:[".pbl-ngrid-column-resizer{position:absolute;right:0;height:100%;cursor:col-resize;z-index:50000}[dir=rtl] .pbl-ngrid-column-resizer{right:unset;left:0}"],encapsulation:2,changeDetection:0}),t})();function CC(t){for(const e of this.groups){const i=this.groupStore.find(e);if(i&&i.lockColumns&&!t.isInGroup(i))return!1}return!0}function SC(){nv.extendProperty("reorder"),nv.extendProperty("wontBudge"),Xy.extendProperty("lockColumns"),nv.prototype.checkGroupLockConstraint=function(t){return CC.call(this,t)&&CC.call(t,this)}}let xC=(()=>{class t extends eb{constructor(t,e){super(t,e),this.name="cellDragger",this.kind="dataHeaderExtensions"}shouldRender(t){return Lv.find(t.grid).hasPlugin(fC)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridCellDraggerRef",""]],features:[Cr]}),t})(),RC=(()=>{class t extends eb{constructor(t,e){super(t,e),this.name="cellResizer",this.kind="dataHeaderExtensions"}shouldRender(t){return!!t.col.resize}}return t.\u0275fac=function(e){return new(e||t)(Vr(Dl),Vr(Gv))},t.\u0275dir=Kt({type:t,selectors:[["","pblNgridCellResizerRef",""]],features:[Cr]}),t})();function DC(){nv.extendProperty("resize")}let kC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["pbl-drag-plugin-default-templates"]],decls:2,vars:0,consts:[[3,"context",4,"pblNgridCellResizerRef"],["cdkDragRootElementClass","cdk-drag",3,"pblNgridColumnDrag",4,"pblNgridCellDraggerRef"],[3,"context"],["cdkDragRootElementClass","cdk-drag",3,"pblNgridColumnDrag"]],template:function(t,e){1&t&&(Mr(0,eC,1,1,"pbl-ngrid-drag-resize",0),Mr(1,iC,1,1,"span",1))},directives:[RC,xC,bC,_C],encapsulation:2,changeDetection:0}),t})(),EC=(()=>{class t{static withDefaultTemplates(){return{ngModule:t,providers:Jb([{component:kC}])}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,Xb,k_],k_]}),t.NGRID_PLUGIN=[Iv({id:hC},dC),Iv({id:fC},mC),Iv({id:"columnReorder",runOnce:SC},wC),Iv({id:"columnResize",runOnce:DC},bC)],t})();class TC{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new IC(t,this.closingSelector))}}class IC extends V{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let t,{closingSubscription:e}=this;e&&(this.remove(e),e.unsubscribe()),this.buffer&&this.destination.next(this.buffer),this.buffer=[];try{const{closingSelector:e}=this;t=e()}catch(i){return this.error(i)}e=new u,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(H(t,new L(this))),this.subscribing=!1}}class AC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new OC(t,this.durationSelector))}}class OC extends V{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(e){this.destination.error(e)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=H(e,new L(this)),i&&!i.closed&&this.add(this.durationSubscription=i)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function PC(t){return!!t.cellTarget}function FC(t){return PC(t)&&!!t.context}function NC(t){return"row"===t.getAttribute("role")}function MC(t){for(;t.parentElement;){if(NC(t.parentElement))return t;t=t.parentElement}}function LC(t,e){const i=t.getAttribute("data-rowtype")||"data";let n=0;switch(i){case"data":const s=t;for(;t.previousElementSibling;)n++,t=t.previousElementSibling;for(n=Math.min(n,e.length-1);n>-1;){if(e.get(n).rootNodes[0]===s)return{type:"data",subType:"data",rowIndex:n};n--}return;case"header":case"footer":return{type:i,subType:"data",rowIndex:n};default:for(;t.previousElementSibling&&t.previousElementSibling.getAttribute("data-rowtype")===i;)n++,t=t.previousElementSibling;return{type:"meta-footer"===i?"footer":"header",subType:"meta",rowIndex:n}}}function VC(t,e,i){const n=[];for(const s of i)for(const i of e)t.findRowInCache(s.rowIdent).cells[i.colIndex]&&n.push({rowIdent:s.rowIdent,colIndex:i.colIndex});return n}const HC=/^mac/.test(navigator.platform.toLowerCase()),BC=t=>0===t.source.button;const zC="targetEvents";function jC(t){return t.observers.length>0}function $C(){nv.extendProperty("editable")}class WC{constructor(t,e,i){this.grid=t,this.injector=e,this.pluginCtrl=i,this.rowClick=new ea,this.rowDblClick=new ea,this.rowEnter=new ea,this.rowLeave=new ea,this.cellClick=new ea,this.cellDblClick=new ea,this.cellEnter=new ea,this.cellLeave=new ea,this.mouseDown=new ea,this.mouseUp=new ea,this.keyUp=new ea,this.keyDown=new ea,this.destroyed=new qg,this._removePlugin=i.setPlugin(zC,this),i.onInit().subscribe(()=>this.init())}static create(t,e){const i=Lv.find(t);return new WC(t,e,i)}init(){this.setupDomEvents(),function(t){const e=()=>"cell"===t.grid.focusMode,i=function(t){const{contextApi:e}=t.grid;function i(t){const i=t.context,n=e.focusedCell||{rowIdent:i.rowContext.identity,colIndex:i.index},s=e.findRowInCache(n.rowIdent),r=[],o=[];for(const e of function(t,e){const i=Math.min(t,e),n=i===t?e:t,s=[];for(let r=i+1;r<n;r++)s.push(r);return s}(n.colIndex,i.index))r.push({rowIdent:n.rowIdent,colIndex:e});r.push({rowIdent:n.rowIdent,colIndex:i.index});const l=Math.abs(i.rowContext.dsIndex-s.dsIndex),a=s.dsIndex>i.rowContext.dsIndex?-1:1;for(let h=1;h<=l;h++){const t=e.findRowInCache(n.rowIdent,a*h,!0);o.push({rowIdent:t.identity,colIndex:n.colIndex})}const c=VC(e,r,o);e.selectCells([n,...r,...o,...c],!0)}return{handleMouseDown:function(t){e.focusedCell&&t.source.shiftKey?i(t):(HC?t.source.metaKey:t.source.ctrlKey)?t.context.selected?e.unselectCells([t.context]):e.selectCells([t.context]):e.focusCell({rowIdent:t.context.rowContext.identity,colIndex:t.context.index})},handleKeyDown:function(t){const i=t.source;if(PC(t)){const n=t.cellTarget;let s=1,r=!1;switch(i.keyCode){case 38:s=-1;case 40:break;case 37:s=-1;case 39:r=!0;break;default:return}t.source.preventDefault(),t.source.stopPropagation();let o=e.focusedCell;if(!o){const t=e.getCell(n);o={rowIdent:t.rowContext.identity,colIndex:t.index}}i.shiftKey?function(t,i){const{rowIdent:n,colIndex:s}=t,r=e.findRowInCache(n),[o,l]=i,a=[r.cells[s-1],r.cells[s+1]],c=[e.findRowInCache(n,-1,!0),e.findRowInCache(n,1,!0)];let h=(a[0]&&a[0].selected?-1:0)+(a[1]&&a[1].selected?1:0),u=(c[0]&&c[0].cells[s].selected?-1:0)+(c[1]&&c[1].cells[s].selected?1:0);0===h&&(h+=o),0===u&&(u+=l);const d=[];if(0!==h){let t=s,e=r.cells[s];for(;e&&e.selected;)d.push({rowIdent:n,colIndex:t}),t+=h,e=r.cells[t];o&&(h===o?e&&d.push({rowIdent:n,colIndex:t}):d.pop())}const p=[];if(0!==u){let t=n,i=e.findRowInCache(t,u,!0);for(;i&&i.cells[s].selected;)t=i.identity,p.push({rowIdent:t,colIndex:s}),i=e.findRowInCache(t,u,!0);l&&(u===l?i&&p.push({rowIdent:i.identity,colIndex:s}):p.pop())}const f=VC(e,d,p);e.selectCells([t,...d,...p,...f],!0)}(o,r?[s,0]:[0,s]):function(t,i){const n=e.findRowInCache(t.rowIdent,i[1],!0);n&&e.focusCell({rowIdent:n.identity,colIndex:t.colIndex+i[0]})}(o,r?[s,0]:[0,s])}},handleSelectionChangeByMouseClickAndMove:i}}(t);t.keyDown.pipe(mf(e)).subscribe(i.handleKeyDown),t.mouseDown.pipe(mf(e),mf(FC),mf(BC),Tf(t=>{t.source.stopPropagation(),t.source.preventDefault()}),Tf(i.handleMouseDown),Df(()=>t.cellEnter.pipe(pf(t.mouseUp))),mf(FC),mf(BC)).subscribe(i.handleSelectionChangeByMouseClickAndMove)}(this)}setupDomEvents(){const t=this.grid,e=this.pluginCtrl.extApi.cdkTable,i=e._element,n=(i,n)=>{const s=i.parentElement,r=LC(s,e._rowOutlet.viewContainer);if(r){const e=Object.assign(Object.assign({},r),{source:n,cellTarget:i,rowTarget:s});if("data"===r.type)e.row=t.ds.renderedData[r.rowIndex];else if("meta"===e.subType){const{metaRowService:t}=this.pluginCtrl.extApi.rowsApi,i="header"===e.type?t.header:t.footer;for(const n of[i.fixed,i.row,i.sticky]){const t=n.find(t=>t.el===e.rowTarget);if(t){e.rowIndex=t.index;break}}}if(e.colIndex=function(t){let e=0;for(;t=t.previousElementSibling;)e++;return e}(i),"data"===r.subType){const t=this.grid.columnApi.findColumnAt(e.colIndex),i=this.grid.columnApi.indexOf(t);e.column=t,e.context=this.pluginCtrl.extApi.contextApi.getCell(e.rowIndex,i),e.context||(this.pluginCtrl.extApi.contextApi.clear(!0),e.context=this.pluginCtrl.extApi.contextApi.getCell(e.rowIndex,i))}else{const t=this.pluginCtrl.extApi.columnStore,i=("header"===r.type?t.metaHeaderRows:t.metaFooterRows)[e.rowIndex],n=t.find(i.keys[e.colIndex]);i.isGroup?(e.subType="meta-group",e.column="header"===r.type?n.headerGroup:n.footerGroup):e.column="header"===r.type?n.header:n.footer}return e}},s=(t,i,n)=>{if(n){const e={source:i,rowTarget:t,type:n.type,subType:n.subType,rowIndex:n.rowIndex,root:n};return"data"===n.type&&(e.row=n.row,e.context=n.context.rowContext),e}{const n=LC(t,e._rowOutlet.viewContainer);if(n){const e=Object.assign(Object.assign({},n),{source:i,rowTarget:t});if("data"===n.type&&(e.context=this.pluginCtrl.extApi.contextApi.getRow(n.rowIndex),e.row=e.context.$implicit),"data"!==n.subType){const t=this.pluginCtrl.extApi.columnStore;("header"===n.type?t.metaHeaderRows:t.metaFooterRows)[e.rowIndex].isGroup&&(e.subType="meta-group")}return e}}};let r,o;const l=t=>{if(r){const e=r;return this.cellLeave.emit(Object.assign({},e,{source:t})),r=void 0,e}},a=t=>{if(o){const e=o;return this.rowLeave.emit(Object.assign({},e,{source:t})),o=void 0,e}},c=t=>{const e=function(t){const e=MC(t.target);return e?{type:"cell",target:e}:NC(t.target)?{type:"cell",target:t.target}:void 0}(t);if(e)if("cell"===e.type){const i=n(e.target,t);if(i)return{type:e.type,event:i,waitTime:jC(this.cellDblClick)?250:1}}else if("row"===e.type){const i=s(e.target,t);if(i)return{type:e.type,event:i,waitTime:jC(this.rowDblClick)?250:1}}},h=t=>{const e="cell"===t.type?t.event:void 0;return{cellEvent:e,rowEvent:e?s(e.rowTarget,e.source,e):t.event}},u=(t,e)=>{Wp(i,t).pipe(pf(this.destroyed),mf(t=>jC(e)),D(c),mf(t=>!!t)).subscribe(t=>{const{cellEvent:i,rowEvent:n}=h(t);e.emit(i||n),this.syncRow(i||n)})};u("mouseup",this.mouseUp),u("mousedown",this.mouseDown),u("keyup",this.keyUp),u("keydown",this.keyDown);const d=Wp(i,"click").pipe(pf(this.destroyed),mf(t=>jC(this.cellClick)||jC(this.cellDblClick)||jC(this.rowClick)||jC(this.rowDblClick)),D(c),mf(t=>!!t));var p;d.pipe((p=()=>{return d.pipe((t=t=>Jp(t.waitTime),e=>e.lift(new AC(t))));var t},function(t){return t.lift(new TC(p))}),mf(t=>t.length>0)).subscribe(t=>{const e=t.shift(),i=1===t.length,{cellEvent:n,rowEvent:s}=h(e);i?(n&&this.cellDblClick.emit(n),this.rowDblClick.emit(s)):(n&&this.cellClick.emit(n),this.rowClick.emit(s)),this.syncRow(n||s)}),Wp(i,"mouseleave").pipe(pf(this.destroyed)).subscribe(t=>{let e=l(t);e=a(t)||e,e&&this.syncRow(e)}),Wp(i,"mousemove").pipe(pf(this.destroyed)).subscribe(t=>{const e=MC(t.target),i=r&&r.cellTarget,c=o&&o.rowTarget;let h,u;if(i!==e&&(u=l(t)||u),e){if(i===e)return;h=n(e,t),h&&this.cellEnter.emit(r=h)}const d=h&&h.rowTarget||NC(t.target)&&t.target;if(c!==d&&(u=a(t)||u),d&&c!==d){const e=s(d,t,h);e&&this.rowEnter.emit(o=e)}u&&this.syncRow(u)})}destroy(){this.destroyed.next(),this.destroyed.complete(),this._removePlugin(this.grid)}syncRow(t){this.grid.rowsApi.syncRows(t.type,t.rowIndex)}}let GC=(()=>{class t extends WC{constructor(t,e,i){super(t,e,i)}ngOnDestroy(){this.destroy()}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab),Vr(vr),Vr(Lv))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","targetEvents",""],["pbl-ngrid","rowClick",""],["pbl-ngrid","rowDblClick",""],["pbl-ngrid","rowEnter",""],["pbl-ngrid","rowLeave",""],["pbl-ngrid","cellClick",""],["pbl-ngrid","cellDblClick",""],["pbl-ngrid","cellEnter",""],["pbl-ngrid","cellLeave",""],["pbl-ngrid","keyDown",""],["pbl-ngrid","keyUp",""]],outputs:{rowClick:"rowClick",rowDblClick:"rowDblClick",rowEnter:"rowEnter",rowLeave:"rowLeave",cellClick:"cellClick",cellDblClick:"cellDblClick",cellEnter:"cellEnter",cellLeave:"cellLeave",keyDown:"keyDown",keyUp:"keyUp"},features:[Cr]}),t})(),UC=(()=>{class t{constructor(e){Lv.onCreatedSafe(t,(t,i)=>{const n=e.get(zC);n&&!0===n.autoEnable&&i.onInit().subscribe(()=>{i.hasPlugin(zC)||i.createPlugin(zC)})})}}return t.\u0275fac=function(e){return new(e||t)(ln(aw))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,$w,Xb]]}),t.NGRID_PLUGIN=Iv({id:zC,factory:"create",runOnce:$C},WC),t})();const qC=Symbol("LOCAL_COLUMN_DEF"),ZC={};class KC{constructor(t,e,i,n){this.grid=t,this.pluginCtrl=e,this.updateColumns=i,this.sourceFactoryWrapper=n,this.init(),t.columns&&t.columnApi.visibleColumns.length>0&&this.onInvalidateHeaders(),this.onDataSource(this.grid.ds)}destroy(t){this.destroyed||(this.destroyed=!0,N_.kill(this,this.grid),this.grid.showHeader=this.headerRow,this.grid.columns=this.columnsInput,t&&(this.grid.invalidateColumns(),this.grid.ds.refresh(ZC)))}init(){this.headerRow=this.grid.showHeader,this.grid.showHeader=!1,this.pluginCtrl.events.pipe(P_,N_(this,this.grid)).subscribe(t=>this.onInvalidateHeaders()),this.pluginCtrl.events.pipe(N_(this,this.grid)).subscribe(t=>"onDataSource"===t.kind&&this.onDataSource(t.curr))}onInvalidateHeaders(){this.grid.columns[qC]||(this.columnsInput=this.grid.columns,this.storeColumns=this.grid.columnApi.visibleColumns,this.updateColumns())}onDataSource(t){this.unPatchDataSource(),t&&(this.ds=t,this.dsSourceFactory=t.adapter.sourceFactory,this.ds.adapter.sourceFactory=t=>{const e=t.data.changed&&t.data.curr===ZC?this.ds.source:this.dsSourceFactory(t);return!1===e?e:this.destroyed?(this.unPatchDataSource(),this.rawSource):($g(e)?e:Array.isArray(e)?$p(e):M(e)).pipe(Tf(t=>this.rawSource=t),D(this.sourceFactoryWrapper))})}unPatchDataSource(){this.ds&&(this.ds.adapter.sourceFactory=this.dsSourceFactory,this.ds=this.dsSourceFactory=void 0)}}const QC=Symbol("TRANSFORM_ROW_REF");function YC(t){return j_(t,this.data[QC])}function JC(t,e){return{prop:`__transform_item_${e}__`,data:{[QC]:t}}}const XC={prop:"__transpose__",css:"pbl-ngrid-header-cell pbl-ngrid-transposed-header-cell"},tS="transpose";let eS=(()=>{class t{constructor(t,e,i){this.grid=t,this.pluginCtrl=e,this._header=XC,this._removePlugin=e.setPlugin(tS,this);const n=i.get("transposePlugin");n&&(this.header=n.header,this.defaultCol=n.defaultCol||{},this.matchTemplates=n.matchTemplates||!1),e.onInit().subscribe(()=>{void 0!==this.enabled&&this.updateState(void 0,this.enabled)})}get transpose(){return this.enabled}set transpose(t){(t=Xg(t))!==this.enabled&&this.grid.isInit&&this.updateState(this.enabled,t),this.enabled=t}set header(t){this._header=Object.assign({},XC,t||{})}ngOnDestroy(){this._removePlugin(this.grid),this.disable(!1),N_.kill(this)}disable(t){if(this.gridState){const{gridState:e}=this;this.columns=this.selfColumn=this.gridState=this.columns=this.selfColumn=void 0,e.destroy(t)}}enable(t=!1){this.gridState&&this.disable(!1),this.gridState=new KC(this.grid,this.pluginCtrl,()=>this.updateColumns(this.grid.columnApi.visibleColumns),t=>{if(t){const e=this.grid.columns=rv().default(this.defaultCol||{}).table(this.selfColumn,...t.map(JC)).build(),i=this.gridState.columnsInput;e.header=i.header,e.headerGroup=i.headerGroup,e.footer=i.footer,e[qC]=!0,this.grid.invalidateColumns();const n=Xg(this.matchTemplates),{prop:s}=this._header,r=["type"];let o;n&&r.push("cellTpl");for(const t of this.grid.columnApi.visibleColumns)if(t.orgProp===s)t.getValue=t=>(o=t,t.label);else{t.getValue=YC;for(const e of r)Object.defineProperty(t,e,{configurable:!0,get:()=>o&&o[e],set:t=>{}})}return this.columns}return t}),t?(this.pluginCtrl.extApi.contextApi.clear(),this.grid.ds.refresh()):this.grid.ds.length>0&&this.grid.ds.refresh(ZC)}updateState(t,e){e?this.enable(!(void 0===t)):this.disable(!0)}updateColumns(t){const{prop:e}=this._header;this.columns=[];for(const i of t)i.orgProp===e?this.selfColumn=i:this.columns.push(i);this.selfColumn||(this.selfColumn=new nv(this._header,this.pluginCtrl.extApi.columnStore.groupStore))}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab),Vr(Lv),Vr(aw))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","transpose",""]],inputs:{header:["transposeHeaderCol","header"],defaultCol:["transposeDefaultCol","defaultCol"],matchTemplates:"matchTemplates",transpose:"transpose"}}),t})(),iS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,Xb]]}),t.NGRID_PLUGIN=Iv({id:tS},eS),t})();const nS="blockUi";let sS=(()=>{class t{constructor(t,e){this.grid=t,this._blockInProgress=!1,this._removePlugin=e.setPlugin(nS,this),t.registry.changes.subscribe(t=>{for(const e of t)switch(e.type){case"blocker":this.setupBlocker()}}),e.onInit().subscribe(t=>{t&&this._blockUi&&"boolean"==typeof this._blockUi&&this.setupBlocker()}),e.events.subscribe(t=>{if("onDataSource"===t.kind){const{prev:e,curr:i}=t;e&&N_.kill(this,e),i.onSourceChanging.pipe(N_(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!0,this.setupBlocker())}),i.onSourceChanged.pipe(N_(this,i)).subscribe(()=>{"auto"===this._blockUi&&(this._blockInProgress=!1,this.setupBlocker())})}})}get blockUi(){return this._blockUi}set blockUi(t){let e=Xg(t);!e||"auto"!==t&&""!==t||(e="auto"),$g(t)&&this._blockUi!==t?($g(this._blockUi)&&N_.kill(this,this._blockUi),this._blockUi=t,t.pipe(N_(this,this._blockUi)).subscribe(t=>{this._blockInProgress=t,this.setupBlocker()})):this._blockUi!==e&&(this._blockUi=e,"auto"!==e&&(this._blockInProgress=e,this.setupBlocker()))}ngOnDestroy(){N_.kill(this),this._removePlugin(this.grid)}setupBlocker(){if(this.grid.isInit)if(this._blockInProgress){if(!this._blockerEmbeddedVRef){const t=this.grid.registry.getSingle("blocker");t&&(this._blockerEmbeddedVRef=this.grid.createView("afterContent",t.tRef,{$implicit:this.grid}),this._blockerEmbeddedVRef.detectChanges())}}else this._blockerEmbeddedVRef&&(this.grid.removeView(this._blockerEmbeddedVRef,"afterContent"),this._blockerEmbeddedVRef=void 0)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab),Vr(Lv))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","blockUi",""]],inputs:{blockUi:"blockUi"},exportAs:["blockUi"]}),t})(),rS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,$w,Xb]]}),t.NGRID_PLUGIN=Iv({id:nS},sS),t})();const oS=["viewRef"],lS=["detailRow",""],aS=[[["",8,"pbl-ngrid-row-prefix"]],[["",8,"pbl-ngrid-row-suffix"]]],cS=[".pbl-ngrid-row-prefix",".pbl-ngrid-row-suffix"];function hS(t,e){1&t&&$r(0,"pbl-ngrid-row",1)}const uS="detailRow";let dS=(()=>{class t extends Bv{constructor(){super(...arguments),this.opened=!1}get expended(){return this.opened}get height(){return super.height+this.controller.getDetailRowHeight(this)}get row(){return this.context.$implicit}ngOnInit(){super.ngOnInit(),this.plugin.addDetailRow(this);const t=this._extApi.pluginCtrl.getPlugin("targetEvents");t.cellClick.pipe(N_(this)).subscribe(t=>{if("data"===t.type&&t.row===this.context.$implicit){const{excludeToggleFrom:e}=this.plugin;e&&e.some(e=>t.column.id===e)||this.toggle()}}),t.rowClick.pipe(N_(this)).subscribe(t=>{t.root||"data"!==t.type||t.row!==this.context.$implicit||this.toggle()})}ngOnDestroy(){N_.kill(this),this.plugin.removeDetailRow(this),this.controller.clearDetailRow(this,!0),super.ngOnDestroy()}updateRow(){if(super.updateRow()){switch(this.plugin.whenContextChange){case"context":const t=!!this.context.getExternal("detailRow");t&&this.opened?this.controller.updateDetailRow(this):this.toggle(t,!0);break;case"render":this.opened&&this.controller.updateDetailRow(this);break;case"close":this.toggle(!1,!0)}return this.plugin.markForCheck(),this.controller.detectChanges(this),this.plugin.toggledRowContextChange.next(this),!0}return!1}toggle(t,e=!1){if(this.opened!==t){let t=!1;this.opened?(this.controller.clearDetailRow(this,e),this.element.classList.remove("pbl-row-detail-opened")):this.controller.render(this,e)&&(t=!0,this.element.classList.add("pbl-row-detail-opened")),this.opened!==t&&(this.opened=t,this.context.setExternal("detailRow",t,!0),this.plugin.detailRowToggled(this))}}handleKeydown(t){if(t.target===this.element){const e=t.keyCode;(13===e||32===e)&&(t.preventDefault(),this.toggle())}}onCtor(){super.onCtor(),this.plugin=this._extApi.pluginCtrl.getPlugin(uS),this.controller=this.plugin.detailRowCtrl}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-row","detailRow",""]],viewQuery:function(t,e){if(1&t&&fa(oS,7,Ol),2&t){let t;pa(t=ma())&&(e._viewRef=t.first)}},hostAttrs:["role","row",1,"pbl-ngrid-row","pbl-row-detail-parent"],hostVars:1,hostBindings:function(t,e){1&t&&Qr("keydown",function(t){return e.handleKeydown(t)}),2&t&&Nr("tabindex",e.grid.rowFocus)},exportAs:["pblNgridDetailRow"],features:[jo([{provide:Ow,useExisting:t}]),Cr],attrs:lS,ngContentSelectors:cS,decls:4,vars:0,consts:[["viewRef",""]],template:function(t,e){1&t&&(eo(aS),io(0),Ur(1,null,0),io(3,1))},styles:[".pbl-row-detail-parent { position: relative; cursor: pointer; }"],encapsulation:2,changeDetection:0}),t})(),pS=(()=>{class t extends Uv{ngOnInit(){this.registry.setSingle("detailRowParent",this)}ngOnDestroy(){this.registry.getSingle("detailRowParent")===this&&this.registry.setSingle("detailRowParent",void 0)}}return t.\u0275fac=function(){let e;return function(i){return(e||(e=Hi(t)))(i||t)}}(),t.\u0275dir=Kt({type:t,selectors:[["","pblNgridDetailRowParentRef",""]],inputs:{columns:["pblNgridDetailRowParentRef","columns"],when:["pblNgridDetailRowParentRefWhen","when"]},features:[Cr]}),t})();class fS{constructor(t,e){this.vcRef=t,this.extApi=e,this.viewMap=new Map,this.pendingOps=new Map,this.deferOps=!1,this.runMeasure=()=>this.extApi.grid.viewport.reMeasureCurrentRenderedContent(),e.onInit(()=>{this.detailRowDef=e.grid.registry.getSingle("detailRow"),e.cdkTable.beforeRenderRows.subscribe(()=>this.deferOps=!0),e.cdkTable.onRenderRows.subscribe(()=>this.flushPendingOps())}),e.grid.registry.changes.subscribe(t=>{for(const e of t)switch(e.type){case"detailRow":this.detailRowDef="remove"===e.op?void 0:e.value}})}render(t,e){return this.viewMap.has(t)?(this.pendingOps.delete(t),this.updateDetailRow(t),!0):this.deferOps?!(!t.context.$implicit||!this.detailRowDef||(this.pendingOps.set(t,{type:"render",fromRender:e}),0)):this._render(t,e)}clearDetailRow(t,e){this.viewMap.get(t)&&(this.deferOps?this.pendingOps.set(t,{type:"clear",fromRender:e}):this._clearDetailRow(t,e))}updateDetailRow(t){const e=this.viewMap.get(t);e&&(Object.assign(e.viewRef.context,this.createDetailRowContext(t,!0)),e.viewRef.detectChanges())}getDetailRowHeight(t){let e=0;const i=this.viewMap.get(t);if(i)for(const n of i.viewRef.rootNodes)e+=n.getBoundingClientRect().height;return e}detectChanges(t){const e=this.viewMap.get(t);e&&e.viewRef.detectChanges()}createDetailRowContext(t,e){return{$implicit:t.context.$implicit,rowContext:t.context,animation:{fromRender:e,end:()=>this.checkHasAnimation(e)?this.runMeasure():void 0}}}flushPendingOps(){if(this.deferOps){this.deferOps=!1;const t=[],e=[];for(const i of this.pendingOps.entries())("clear"===i[1].type?e:t).push(i);this.pendingOps.clear();for(const[i,n]of t){if(this.viewMap.has(i))return;if(e.length){const[t]=e.pop();this.viewMap.set(i,this.viewMap.get(t)),this.viewMap.delete(t),this.insertElementsToRow(i),this.updateDetailRow(i),this.checkHasAnimation(n.fromRender)||this.runMeasure()}else this._render(i,n.fromRender)}for(const[i,n]of e)this._clearDetailRow(i,n.fromRender)}}_render(t,e){if(t.context.$implicit&&this.detailRowDef){const i=this.createDetailRowContext(t,e);return this.viewMap.set(t,{viewRef:this.vcRef.createEmbeddedView(this.detailRowDef.tRef,i)}),this.insertElementsToRow(t,!0),this.checkHasAnimation(e)||this.runMeasure(),!0}return!1}_clearDetailRow(t,e){const i=this.viewMap.get(t);if(i){const{viewRef:n}=i;n.context.animation.fromRender!==e&&(n.context.animation.fromRender=e,n.detectChanges()),n.destroy(),this.checkHasAnimation(e)||this.runMeasure(),this.viewMap.delete(t)}}insertElementsToRow(t,e){const{viewRef:i}=this.viewMap.get(t),n=t.element.nextSibling;for(const s of i.rootNodes)t.element.parentElement.insertBefore(s,n);e&&i.detectChanges()}checkHasAnimation(t){return"always"===this.detailRowDef.hasAnimation||"interaction"===this.detailRowDef.hasAnimation&&!t}}const gS=()=>!0,mS=()=>!1;let _S=(()=>{class t{constructor(t,e,i,n){this.pluginCtrl=e,this.ngZone=i,this.injector=n,this.whenContextChange="context",this.toggleChange=new ea,this.toggledRowContextChange=new ea,this._isSimpleRow=gS,this._isDetailRow=mS,this._detailRowRows=new Set,this._removePlugin=e.setPlugin(uS,this),this.grid=e.extApi.grid,this.detailRowCtrl=new fS(t,e.extApi),e.onInit().subscribe(()=>{e.ensurePlugin("targetEvents"),this.grid.registry.changes.subscribe(t=>{for(const e of t)switch(e.type){case"detailRowParent":"remove"===e.op&&(this.pluginCtrl.extApi.cdkTable.removeRowDef(e.value),this._detailRowDef=void 0),this.setupDetailRowParent()}}),this._detailRow?this.updateTable():this.setupDetailRowParent()})}get detailRow(){return this._detailRow}set detailRow(t){if(this._detailRow!==t){const e=this.grid;"function"==typeof t?(this._isSimpleRow=(e,i)=>!t(e,i),this._isDetailRow=t):(t=Xg(t),this._isDetailRow=t?gS:mS,this._isSimpleRow=t?mS:gS),this._detailRow=t,e.isInit&&this.updateTable()}}set singleDetailRow(t){if(t=Xg(t),this._forceSingle!==t&&(this._forceSingle=t,t&&this._openedRow&&this._openedRow.expended))for(const e of this._detailRowRows)e.context.$implicit!==this._openedRow.row&&e.toggle(!1)}addDetailRow(t){this._detailRowRows.add(t)}removeDetailRow(t){this._detailRowRows.delete(t)}toggleDetailRow(t,e){for(const i of this._detailRowRows)if(i.context.$implicit===t)return i.toggle(e),i.expended}markForCheck(){this._cdPending||(this._cdPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this.ngZone.run(()=>{var t;this._cdPending=!1,null===(t=this._defaultParentRef)||void 0===t||t.changeDetectorRef.markForCheck()})})))}ngOnDestroy(){this._defaultParentRef&&this._defaultParentRef.destroy(),this._removePlugin(this.grid)}detailRowToggled(t){const e=this._openedRow&&this._openedRow.row===t.row;t.expended?(this._forceSingle&&this._openedRow&&this._openedRow.expended&&!e&&this._openedRow.toggle(),this._openedRow=t):e&&(this._openedRow=void 0),this.toggleChange.emit(t)}setupDetailRowParent(){if(this._detailRowDef&&(this.pluginCtrl.extApi.cdkTable.removeRowDef(this._detailRowDef),this._detailRowDef=void 0),this.detailRow){let t=this.pluginCtrl.extApi.registry.getSingle("detailRowParent");if(t)this._detailRowDef=t=t.clone(),Object.defineProperty(t,"when",{enumerable:!0,get:()=>this._isDetailRow});else if(!this._defaultParentRef)return this._defaultParentRef=this.injector.get(Go).resolveComponentFactory(wS).create(this.injector),void this._defaultParentRef.changeDetectorRef.detectChanges()}this.resetTableRowDefs()}resetTableRowDefs(){this._detailRowDef&&(!1===this._detailRow?this.pluginCtrl.extApi.cdkTable.removeRowDef(this._detailRowDef):this.pluginCtrl.extApi.cdkTable.addRowDef(this._detailRowDef))}updateTable(){this.grid._tableRowDef.when=this._isSimpleRow,this.setupDetailRowParent(),this.pluginCtrl.extApi.cdkTable.updateRowDefCache(),this.pluginCtrl.extApi.cdkTable.multiTemplateDataRows=!!this._detailRow}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ol),Vr(Lv),Vr(ja),Vr(vr))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","detailRow",""]],inputs:{whenContextChange:"whenContextChange",detailRow:"detailRow",singleDetailRow:"singleDetailRow",excludeToggleFrom:"excludeToggleFrom"},outputs:{toggleChange:"toggleChange",toggledRowContextChange:"toggledRowContextChange"},exportAs:["pblNgridDetailRow"]}),t})(),wS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["pbl-ngrid-default-detail-row-parent"]],decls:1,vars:0,consts:[["detailRow","",4,"pblNgridDetailRowParentRef"],["detailRow",""]],template:function(t,e){1&t&&Mr(0,hS,1,0,"pbl-ngrid-row",0)},directives:[pS,dS],encapsulation:2}),t})(),yS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,$w,Xb,UC]]}),t.NGRID_PLUGIN=Iv({id:uS},_S),t})();const vS="bsCellTooltip",bS={canShow:t=>{const e=t.cellTarget.firstElementChild||t.cellTarget;return e.scrollWidth>e.offsetWidth},message:t=>t.cellTarget.innerText};let CS=(()=>{class t{constructor(t,e,i){this.table=t,this.injector=e,this._removePlugin=i.setPlugin(vS,this);const n=e.get(aw);this.initArgs=[e.get(Jo),e,e.get(Go),e.get(Ol),e.get(gg),e.get(ja),e.get(gc),e.get(bl),e.get(ac)],n.onUpdate("bsCellTooltip").pipe(N_(this)).subscribe(t=>this.lastConfig=t.curr),i.onInit().subscribe(()=>this.init(i))}set canShow(t){this._canShow="function"==typeof t?t:""===t?void 0:Xg(t)?t=>!0:t=>!1}static create(e,i){return new t(e,i,Lv.find(e))}ngOnDestroy(){this._removePlugin(this.table),this.killTooltip(),N_.kill(this)}init(t){const e=t.getPlugin("targetEvents")||t.createPlugin("targetEvents");e.cellEnter.pipe(N_(this)).subscribe(t=>this.cellEnter(t)),e.cellLeave.pipe(N_(this)).subscribe(t=>this.cellLeave(t))}cellEnter(t){if(this.killTooltip(),this._canShow||(this.canShow=this.lastConfig&&this.lastConfig.canShow||bS.canShow),this._canShow(t)){const e=this.initArgs.slice();this.toolTip=new wg(new Ko(t.cellTarget),...e),this.toolTip.container="body",this.toolTip.ngbTooltip=(this.message||this.lastConfig&&this.lastConfig.message||bS.message)(t),this.tooltipClass&&(this.toolTip.tooltipClass=this.tooltipClass),this.showDelay>=0&&(this.toolTip.openDelay=this.showDelay),this.hideDelay>=0&&(this.toolTip.closeDelay=this.hideDelay),this.toolTip.open()}}cellLeave(t){this.killTooltip()}killTooltip(){this.toolTip&&(this.toolTip.close(),this.toolTip.ngOnDestroy(),this.toolTip=void 0)}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab),Vr(vr),Vr(Lv))},t.\u0275dir=Kt({type:t,selectors:[["","bsCellTooltip",""]],inputs:{canShow:["bsCellTooltip","canShow"],message:"message",tooltipClass:"tooltipClass",showDelay:"showDelay",hideDelay:"hideDelay"},exportAs:["bsCellTooltip"]}),t.PLUGIN_KEY=vS,t})(),SS=(()=>{class t{constructor(t,e){t||Lv.created.subscribe(t=>{const i=e.get(CS.PLUGIN_KEY);if(i&&!0===i.autoSetAll){const e=t.controller;e.onInit().subscribe(t=>e.ensurePlugin(CS.PLUGIN_KEY))}})}}return t.\u0275fac=function(e){return new(e||t)(ln(t,12),ln(aw))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,yg,Xb,UC],yg]}),t.NGRID_PLUGIN=Iv({id:vS,factory:"create"},CS),t})(),xS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,ag,Xb],ag]}),t})();const RS=["*"],DS="bsSortable";let kS=(()=>{class t{constructor(t,e){this.grid=t,this.pluginCtrl=e,this.sortables=new Map,this._stateChanges=new S,this.start="asc",this.bsArrowPosition="after",this.sortChange=new ea,this._direction="",this._disabled=!1,this.origin="click",this._removePlugin=e.setPlugin(DS,this),this.sortChange.pipe(N_(this)).subscribe(t=>{this.onSort(t,this.origin),this.origin="click"}),this.handleEvents()}get bsSortableDisabled(){return this._disabled}set bsSortableDisabled(t){this._disabled=Xg(t)}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=Xg(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let i=["asc","desc"];return"desc"==t&&i.reverse(),e||i.push(""),i}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),i=e.indexOf(this.direction)+1;return i>=e.length&&(i=0),e[i]}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._removePlugin(this.grid),N_.kill(this)}onSort(t,e){const i=this.grid,n=i.columnApi.visibleColumns.find(e=>e.id===t.active);if("click"===e&&n&&n.sort){const e={},s="function"==typeof n.sort&&n.sort;t.direction&&(e.order=t.direction),s&&(e.sortFn=s);const r=i.ds.sort;if(n===r.column&&e.order===(r.sort||{}).order)return;i.ds.setSort(n,e)}}handleEvents(){const t=t=>{const{column:e}=t,i=t.sort?t.sort.order:void 0;if(e){if(this.active===e.id&&this.direction===(i||""))return;const t=this.sortables.get(e.id);t&&(this.origin="ds",this.active=void 0,t.start=i||"asc",t._handleClick())}else if(this.active){const t=this.sortables.get(this.active);if(t){if(!t.disableClear){let e;for(;e=this.getNextSortDirection(t);)this.direction=e}this.origin="ds",t._handleClick()}}};this.pluginCtrl.events.pipe(P_).subscribe(e=>{var i;const n=this.active;(null===(i=this.grid.ds)||void 0===i?void 0:i.sort)&&(!this.grid.ds.sort.column&&n?this.onSort({active:this.active,direction:this.direction||"asc"},this.origin):this.grid.ds.sort.column&&!n&&setTimeout(()=>t(this.grid.ds.sort)))}),this.pluginCtrl.events.subscribe(e=>{"onDataSource"===e.kind&&(N_.kill(this,e.prev),this.active&&this.onSort({active:this.active,direction:this.direction||"asc"},this.origin),this.grid.ds.sortChange.pipe(N_(this,e.curr)).subscribe(e=>{t(e)}))})}}return t.\u0275fac=function(e){return new(e||t)(Vr(Ab),Vr(Lv))},t.\u0275dir=Kt({type:t,selectors:[["pbl-ngrid","bsSortable",""]],inputs:{start:["bsSortableStart","start"],bsArrowPosition:"bsArrowPosition",direction:["bsSortableDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["bsSortableActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["pblBsSortable"],features:[ce]}),t})(),ES=(()=>{class t{constructor(t,e){this.plugin=e,G(e.sortChange,e._stateChanges).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),t.markForCheck()})}ngOnInit(){this._updateArrowDirection(),this.plugin.register(this)}ngOnDestroy(){this.plugin.deregister(this),N_.kill(this)}_handleClick(){this._isDisabled()||this._toggleOnInteraction()}_updateArrowDirection(){this._direction=this._isSorted()?this.plugin.direction:this.start||this.plugin.start}_isAfter(){return"after"===this.plugin.bsArrowPosition}_isSorted(){return this.plugin.active==this.id&&("asc"===this.plugin.direction||"desc"===this.plugin.direction)}_isDisabled(){return this.plugin.bsSortableDisabled}_toggleOnInteraction(){this.plugin.sort(this)}}return t.\u0275fac=function(e){return new(e||t)(Vr(bl),Vr(kS))},t.\u0275cmp=$t({type:t,selectors:[["pbl-bs-sortable"]],hostBindings:function(t,e){1&t&&Qr("click",function(){return e._handleClick()})},ngContentSelectors:RS,decls:2,vars:10,consts:[["role","button",1,"pbl-bs-sortable"]],template:function(t,e){1&t&&(eo(),zr(0,"div",0),io(1),jr()),2&t&&ho("pbl-bs-sortable-after",e._isAfter())("pbl-bs-sortable-sorted",e._isSorted())("pbl-bs-sortable-disabled",e._isDisabled())("asc","asc"===e._direction)("desc","desc"===e._direction)},styles:['.pbl-bs-sortable{cursor:pointer;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-select:none}.pbl-bs-sortable.pbl-bs-sortable-sorted{position:relative}.pbl-bs-sortable.pbl-bs-sortable-sorted:before{content:"";display:block;position:absolute;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAmxJREFUeAHtmksrRVEUx72fH8CIGQNJkpGUUmakDEiZSJRIZsRQmCkTJRmZmJgQE0kpX0D5DJKJgff7v+ru2u3O3vvc67TOvsdatdrnnP1Y///v7HvvubdbUiIhBISAEBACQkAICAEhIAQ4CXSh2DnyDfmCPEG2Iv9F9MPlM/LHyAecdyMzHYNwR3fdNK/OH9HXl1UCozD24TCvILxizEDWIEzA0FcM8woCgRrJCoS5PIwrANQSMAJX1LEI9bqpQo4JYNFFKRSvIgsxHDVnqZgIkPnNBM0rIGtYk9YOOsqgbgepRCfdbmFtqhFkVEDVPjJp0+Z6e6hRHhqBKgg6ZDCvYBygVmUoEGoh5JTRvIJwhJo1aUOoh4CLPMyvxxi7EWOMgnCGsXXI1GIXlZUYX7ucU+kbR8NW8lh3O7cue0Pk32MKndfUxQFAwxdirk3fHappAnc0oqDPzDfGTBrCfHP04dM4oTV8cxr0SVzH9FF07xD3ib6xCDE+M+aUcVygtWzzbtGX2rPBrEUYfecfQkaFzYi6HjVnGBdtL7epqAlc1+jRdAap74RrnPc4BCijttY2tRcdN0g17w7HqZrXhdJTYAuS3hd8z+vKgK3V1zWPae0mZDMykadBn1hTQBLnZNwVrJpSe/NwEeDsEwCctEOsJTsgxLvCqUl2ACftEGvJDgjxrnBqkh3ASTvEWrIDQrwrnJpkB3DSDrGW7IAQ7wqnJtkBnLRztejXXVu4+mxz/nQ9jR1w5VB86ejLTFcnnDwhzV+F6T+CHZlx6THSjn76eyyBIOPHyDakhBAQAkJACAgBISAEhIAQYCLwC8JxpAmsEGt6AAAAAElFTkSuQmCC") no-repeat;background-size:22px;width:22px;height:22px;margin-left:-22px}.pbl-bs-sortable.pbl-bs-sortable-sorted.pbl-bs-sortable-after:before{right:0;transform:translateX(100%);-ms-transform:translateX(100%)}.pbl-bs-sortable.pbl-bs-sortable-sorted.desc:before{transform:rotate(180deg);-ms-transform:rotate(180deg)}.pbl-bs-sortable.pbl-bs-sortable-sorted.desc.pbl-bs-sortable-after:before{transform:translateX(100%) rotate(180deg);-ms-transform:translateX(100%) rotate(180deg)}'],encapsulation:2,changeDetection:0}),t})();class TS extends nb{constructor(t){super(),this.cfr=t,this.name="bsSortContainer",this.kind="dataHeaderExtensions",this.projectContent=!0}shouldRender(t){return!!t.col.sort&&!!t.injector.get(kS,!1)}getFactory(t){return this.cfr.resolveComponentFactory(ES)}onCreated(t,e){this.deregisterId(t,e.instance.id=t.col.id),e.changeDetectorRef.markForCheck()}deregisterId(t,e){const i=t.injector.get(kS),n=i.sortables.get(e);n&&i.deregister(n)}}let IS=(()=>{class t{constructor(t,e){this.registry=t,t.addMulti("dataHeaderExtensions",new TS(e))}}return t.\u0275fac=function(e){return new(e||t)(ln(Gv),ln(Go))},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,Xb]]}),t.NGRID_PLUGIN=Iv({id:DS},kS),t})();function AS(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.value;hs(1),So(t)}}function OS(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.value;hs(1),So(t?"\u2705":"\ud83d\udeab")}}function PS(t,e){if(1&t&&(zr(0,"div"),Co(1),Kl(2,"date"),jr()),2&t){const t=e.value;hs(1),So(Yl(2,1,t,"MMM dd, yyyy"))}}function FS(t,e){if(1&t&&(zr(0,"div"),Co(1),Kl(2,"number"),jr()),2&t){const t=e.value;hs(1),So(Yl(2,1,t,"1.0-2"))}}function NS(t,e){if(1&t&&(zr(0,"div"),Co(1),Kl(2,"currency"),jr()),2&t){const t=e.value,i=e.col;hs(1),So(function(t,e,i,n,s,r){const o=Ie(),l=be(o,22);return Xl(o,Jl(o,22)?function(t,e,i,n,s,r,o,l,a){const c=e+i;return function(t,e,i,n,s,r){const o=Fr(t,e,i,n);return Fr(t,e+2,s,r)||o}(t,c,s,r,o,l)?Or(t,c+4,a?n.call(a,s,r,o,l):n(s,r,o,l)):Zl(t,c+4)}(o,Be(),1,l.transform,i,n,s,r,l):l.transform(i,n,s,r))}(0,0,t,i.type.data,"symbol","1.0-2"))}}function MS(t,e){if(1&t&&(zr(0,"div"),Co(1),Kl(2,"date"),jr()),2&t){const t=e.value;hs(1),So(Yl(2,1,t,"MMM dd, yyyy HH:mm"))}}function LS(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.col;hs(1),So(t.label)}}function VS(t,e){if(1&t&&(zr(0,"div"),Co(1),jr()),2&t){const t=e.col;hs(1),So(t.label)}}function HS(t,e){if(1&t&&(zr(0,"div",5),zr(1,"div"),Co(2),jr(),jr()),2&t){const t=e.value,i=e.col;co("width",t+"%"),Hr("ngStyle",i.type.data.style(t)),hs(2),xo("",t,"%")}}let BS=(()=>{class t{}var e;return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["pbl-demo-common-table-templates"]],decls:9,vars:9,consts:[[4,"pblNgridCellDef"],[4,"pblNgridCellTypeDef"],[4,"pblNgridHeaderCellDef"],[4,"pblNgridFooterCellDef"],[3,"ngStyle","width",4,"pblNgridCellTypeDef"],[3,"ngStyle"]],template:function(t,e){1&t&&(Mr(0,AS,2,1,"div",0),Mr(1,OS,2,1,"div",1),Mr(2,PS,3,4,"div",1),Mr(3,FS,3,4,"div",1),Mr(4,NS,3,6,"div",1),Mr(5,MS,3,4,"div",1),Mr(6,LS,2,1,"div",2),Mr(7,VS,2,1,"div",3),Mr(8,HS,3,4,"div",4)),2&t&&(Hr("pblNgridCellDef","*"),hs(1),Hr("pblNgridCellTypeDef","visualBool"),hs(1),Hr("pblNgridCellTypeDef","date"),hs(1),Hr("pblNgridCellTypeDef","number"),hs(1),Hr("pblNgridCellTypeDef","currency"),hs(1),Hr("pblNgridCellTypeDef","datetime"),hs(1),Hr("pblNgridHeaderCellDef","*"),hs(1),Hr("pblNgridFooterCellDef","*"),hs(1),Hr("pblNgridCellTypeDef","progressBar"))},directives:[yb,wb,vb,uh],pipes:[yh,vh,bh],styles:[".pbl-ngrid-ui-block{background:rgba(0,0,0,.15);z-index:1000;align-items:center;justify-content:center}.pbl-ngrid-no-data,.pbl-ngrid-ui-block{position:absolute;top:0;left:0;bottom:0;right:0;display:flex}.pbl-ngrid-no-data{place-content:center center;pointer-events:none}.pbl-ngrid-no-data>*{margin:auto}.pbl-row-detail-parent:focus{outline:none}.pbl-row-detail-parent.pbl-row-detail-opened{background:#f5f5f5}.pbl-detail-row{padding:10px 40px;overflow:hidden}.pbl-ngrid-row-drag-handle{position:absolute;top:50%;transform:translateY(-50%)}.pbl-ngrid-row-drag-placeholder{background:#ccc;border:3px dotted #999;min-height:60px;transition:transform .25s cubic-bezier(0,0,.2,1)}.pbl-ngrid-column-resizer-handle{position:absolute;right:0;height:70%;width:1px;transform:translateY(30%)}.pbl-ngrid-column-type-progressBar.pbl-ngrid-cell{position:relative}.pbl-ngrid-column-type-progressBar.pbl-ngrid-cell>div{position:absolute;top:0;height:100%;left:0}.pbl-ngrid-column-type-progressBar.pbl-ngrid-cell>div>div{width:100%;height:100%;display:flex;place-content:center;align-items:center}.pbl-ngrid:not(.pbl-ngrid-scrolling) .pbl-ngrid-column-type-progressBar.pbl-ngrid-cell>div{width:0;transition:width .35s cubic-bezier(.075,.82,.165,1)}.column-reorder-handle{cursor:move}"],encapsulation:2,data:{animation:[(e=[ou("void",ru({height:"0px",minHeight:"0",visibility:"hidden"})),ou("*",ru({height:"*",visibility:"visible"})),lu("void <=> *",nu("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))],{type:7,name:"detailExpand",definitions:e,options:{}})]},changeDetection:0}),t})();const zS=new el("12.0.1"),jS=JSON.parse('{"i8":"4.0.0-alpha.3"}'),$S=JSON.parse('{"i8":"4.0.0-alpha.3"}');function WS(t,e){if(1&t&&(zr(0,"div"),$r(1,"ngb-rating",6),jr()),2&t){const t=e.value;hs(1),Hr("rate",t)("max",5)}}const GS=rv().default({width:"100px",reorder:!0,resize:!0}).table({prop:"drag_and_drop_handle",type:"drag_and_drop_handle",minWidth:24,width:"",maxWidth:24,wontBudge:!0,resize:!1},{prop:"selection",minWidth:48,width:"",maxWidth:48,wontBudge:!0,resize:!1},{prop:"id",sort:!0,width:"40px",wontBudge:!0,pIndex:!0},{prop:"name",sort:!0},{prop:"email",minWidth:250,width:"150px"},{prop:"country",headerType:"country",width:"150px"},{prop:"sales",sort:!0},{prop:"address"},{prop:"rating",type:"starRatings",width:"120px"},{prop:"feedback",sort:!0,type:{name:"progressBar",data:{style:t=>t>60?{color:"white",background:"green"}:t>=40&&t<=60?{color:"white",background:"deepskyblue"}:{color:"white",background:"red"}}},width:"150px"});let US=(()=>{class t{constructor(){this.dataSource=rw().onTrigger(()=>function(){return t=this,void 0,n=function*(){return new Promise((t,e)=>{i.e(57).then((()=>{try{t(i(57))}catch(n){e(n)}}).bind(null,i)).catch(i.oe)})},new((e=void 0)||(e=Promise))(function(i,s){function r(t){try{l(n.next(t))}catch(e){s(e)}}function o(t){try{l(n.throw(t))}catch(e){s(e)}}function l(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e(function(t){t(n)})).then(r,o)}l((n=n.apply(t,[])).next())});var t,e,n}()).create(),this.columns=GS.build(),this.versions={ng:il.full,cdk:zS.full,ngBootstrap:"8.0.4",ngrid:jS.i8,ngridBootstrap:$S.i8}}refresh(){this.dataSource.refresh()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$t({type:t,selectors:[["bootstrap-root"]],decls:20,vars:9,consts:[[1,"container-fluid"],[2,"text-align","center"],["vScrollFixed","","rowReorder","","columnReorder","","blockUi","","focusMode","cell","bsCellTooltip","",1,"pbl-ngrid-cell-ellipsis","pbl-ngrid-header-cell-ellipsis",3,"minDataViewHeight","dataSource","columns","cellClick"],[4,"pblNgridCellDef"],[1,"d-flex","p-2","bd-highlight"],[1,"p-2","bd-highlight"],["readonly","true",3,"rate","max"]],template:function(t,e){1&t&&(zr(0,"div",0),zr(1,"div",1),zr(2,"h2"),Co(3," @pebula/ngrid Bootstrap Starter - WORK IN PROGRESS!!! "),jr(),jr(),zr(4,"h3"),Co(5,"This project is used for demonstration!"),jr(),zr(6,"pbl-ngrid",2),Qr("cellClick",function(t){return t.context&&t.context.startEdit()}),Mr(7,WS,2,2,"div",3),jr(),zr(8,"footer"),zr(9,"div",4),zr(10,"div",5),Co(11),jr(),zr(12,"div",5),Co(13),jr(),zr(14,"div",5),Co(15),jr(),zr(16,"div",5),Co(17),jr(),zr(18,"div",5),Co(19),jr(),jr(),jr(),jr()),2&t&&(hs(6),Hr("minDataViewHeight",400)("dataSource",e.dataSource)("columns",e.columns),hs(1),Hr("pblNgridCellDef","rating"),hs(4),xo("Angular @ ",e.versions.ng,""),hs(2),xo("CDK @ ",e.versions.cdk,""),hs(2),xo("@ng-bootstrap @ ",e.versions.ngBootstrap,""),hs(2),xo("NGrid @ ",e.versions.ngrid,""),hs(2),xo("NGrid Bootstrap @ ",e.versions.ngridBootstrap,""))},directives:[Ab,Kb,dC,wC,sS,GC,CS,yb,pg],styles:[""]}),t})(),qS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=pt({imports:[[xh,fg,Xb.withCommon([{component:BS}]),EC.withDefaultTemplates(),UC,rS,iS,yS,SS,xS,IS],fg,Xb,EC,UC,rS,iS,yS,SS,xS,IS]}),t})(),ZS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=qt({type:t,bootstrap:[US]}),t.\u0275inj=pt({providers:[],imports:[[tu,Bp,xh,qS]]}),t})();(function(){if(ec)throw new Error("Cannot enable prod mode after platform setup.");tc=!1})(),Jh().bootstrapModule(ZS).catch(t=>console.error(t))}},t=>{"use strict";t(t.s=26)}]);